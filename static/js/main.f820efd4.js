/*! For license information please see main.f820efd4.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ee)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Pt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Sr:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Si(Ci,e)):Ii(Ai),Si(Ai,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,$i=null,Ji=1,Yi="";function Xi(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Ji,Hi[Qi++]=Yi,Hi[Qi++]=$i,$i=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Ji=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Oi(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=$a(!0),Ya=$a(!1),Xa={},Za=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Pi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Pi(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Pi(t,s=Oi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Ji,Hi[Qi++]=Yi,Hi[Qi++]=$i,Ji=e.id,Yi=e.overflow,$i=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Ju;var c=Yu;if(Ju=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Ju=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Ps=null,Os=0,Rs=0,Ds=Ei(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Vs=null,zs=null,Bs=0,qs=1/0,Ks=null,Gs=!1,Ws=null,Hs=null,Qs=!1,$s=null,Js=0,Ys=0,Xs=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Ye():-1!==Zs?Zs:Zs=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Os?Os&-Os:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Us|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Ye()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Os===t||(Ks=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,As=i,null!==Ps?t=0:(Ns=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),t);break}xc(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),r);break}xc(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Ks),ic(e,Ye()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Ye()+500,ji&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Rs=Ds.current,Ii(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ps=e=Dc(e.current,null),Os=Rs=t,Ls=0,Ms=null,js=Us=Fs=0,zs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Us)||sc(Ns,Os)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Os===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Ss.current=r,null!==Ps)throw Error(a(261));return Ns=null,Os=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!$e();)bc(Ps)}function bc(e){var t=Es(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(Ps=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ps=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Js=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ws,Ws=null,e;0!==(1&Js)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==$s){var e=bt(Js),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Js=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Ye()-Bs?dc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return He(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&As)&&(qs=Ye()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function R(e){I=e,E||(E=!0,_())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".440c4889.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="netflix-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/WaMungai/Netflix-Clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknetflix_clone=self.webpackChunknetflix_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return ka},SDK_VERSION:function(){return Ro},_DEFAULT_ENTRY_NAME:function(){return bo},_addComponent:function(){return Eo},_addOrOverwriteComponent:function(){return Io},_apps:function(){return xo},_clearComponents:function(){return Ao},_components:function(){return _o},_getProvider:function(){return To},_registerComponent:function(){return So},_removeServiceInstance:function(){return Co},deleteApp:function(){return Fo},getApp:function(){return Lo},getApps:function(){return Mo},initializeApp:function(){return Do},onLog:function(){return Vo},registerVersion:function(){return jo},setLogLevel:function(){return zo}});var t=n(791),r=n.t(t,2),i=n(250),a=n(248),o=n(327),u=n(164);var s=function(e){e()},c=function(){return s};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Symbol.for("react-redux-context-".concat(t.version)),p=globalThis;var v=new Proxy({},new Proxy({},{get:function(e,n){var r=function(){var e=p[d];return e||(e=(0,t.createContext)(null),p[d]=e),e}();return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return Reflect[n].apply(Reflect,[r].concat(i))}}}));function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return function(){return(0,t.useContext)(e)}}var y=m(),g=function(){throw new Error("uSES not initialized!")},k=function(e,t){return e===t};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=e===v?y:m(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,a=i.equalityFn,o=void 0===a?k:a,u=i.stabilityCheck,s=void 0===u?void 0:u;i.noopCheck;var c=n(),l=c.store,f=c.subscription,d=c.getServerState,p=c.stabilityCheck,v=(c.noopCheck,(0,t.useRef)(!0),(0,t.useCallback)(h({},e.name,(function(t){return e(t)}))[e.name],[e,p,s])),m=g(f.addNestedSub,l.getState,d||l.getState,v,o);return(0,t.useDebugValue)(m),m}}var w=b();n(110),n(900);var x={notify:function(){},get:function(){return[]}};function _(e,t){var n,r=x;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=x)},getListeners:function(){return r}};return o}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var I=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,u=void 0===o?"once":o,s=e.noopCheck,c=void 0===s?"once":s,l=(0,t.useMemo)((function(){var e=_(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:u,noopCheck:c}}),[n,a,u,c]),f=(0,t.useMemo)((function(){return n.getState()}),[n]);E((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var h=r||v;return t.createElement(h.Provider,{value:l},i)};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?y:m(e);return function(){return t().store}}var T=S();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?T:S(e);return function(){return t().dispatch}}var A,N=C();function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function O(e){return!!e&&!!e[we]}function R(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xe}(e)||Array.isArray(e)||!!e[be]||!!(null===(t=e.constructor)||void 0===t?void 0:t[be])||V(e)||z(e))}function D(e,t,n){void 0===n&&(n=!1),0===L(e)?(n?Object.keys:_e)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function L(e){var t=e[we];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:V(e)?2:z(e)?3:0}function M(e,t){return 2===L(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return 2===L(e)?e.get(t):e[t]}function U(e,t,n){var r=L(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function j(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function V(e){return me&&e instanceof Map}function z(e){return ye&&e instanceof Set}function B(e){return e.o||e.t}function q(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ee(e);delete t[we];for(var n=_e(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function K(e,t){return void 0===t&&(t=!1),W(e)||O(e)||!R(e)||(L(e)>1&&(e.set=e.add=e.clear=e.delete=G),Object.freeze(e),t&&D(e,(function(e,t){return K(t,!0)}),!0)),e}function G(){P(2)}function W(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function H(e){var t=Ie[e];return t||P(18,e),t}function Q(e,t){Ie[e]||(Ie[e]=t)}function $(){return pe}function J(e,t){t&&(H("Patches"),e.u=[],e.s=[],e.v=t)}function Y(e){X(e),e.p.forEach(ee),e.p=null}function X(e){e===pe&&(pe=e.l)}function Z(e){return pe={p:[],l:pe,h:e,m:!0,_:0}}function ee(e){var t=e[we];0===t.i||1===t.i?t.j():t.g=!0}function te(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||H("ES5").S(t,e,r),r?(n[we].P&&(Y(t),P(4)),R(e)&&(e=ne(t,e),t.l||ie(t,e)),t.u&&H("Patches").M(n[we].t,e,t.u,t.s)):e=ne(t,n,[]),Y(t),t.u&&t.v(t.u,t.s),e!==ke?e:void 0}function ne(e,t,n){if(W(t))return t;var r=t[we];if(!r)return D(t,(function(i,a){return re(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=q(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),D(a,(function(t,a){return re(e,r,i,t,a,n,o)})),ie(e,i,!1),n&&e.u&&H("Patches").N(r,n,e.u,e.s)}return r.o}function re(e,t,n,r,i,a,o){if(O(i)){var u=ne(e,i,a&&t&&3!==t.i&&!M(t.R,r)?a.concat(r):void 0);if(U(n,r,u),!O(u))return;e.m=!1}else o&&n.add(i);if(R(i)&&!W(i)){if(!e.h.D&&e._<1)return;ne(e,i),t&&t.A.l||ie(e,i)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&K(t,n)}function ae(e,t){var n=e[we];return(n?B(n):e)[t]}function oe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function se(e){e.o||(e.o=q(e.t))}function ce(e,t,n){var r=V(t)?H("MapSet").F(t,n):z(t)?H("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:$(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Se;n&&(i=[r],a=Te);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):H("ES5").J(t,n);return(n?n.A:$()).p.push(r),r}function le(e){return O(e)||P(22,e),function e(t){if(!R(t))return t;var n,r=t[we],i=L(t);if(r){if(!r.P&&(r.i<4||!H("ES5").K(r)))return r.t;r.I=!0,n=fe(t,i),r.I=!1}else n=fe(t,i);return D(n,(function(t,i){r&&F(r.t,t)===i||U(n,t,e(i))})),3===i?new Set(n):n}(e)}function fe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return q(e)}function he(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[we];return Se.get(t,e)},set:function(t){var n=this[we];Se.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][we];if(!i.P)switch(i.i){case 5:r(i)&&ue(i);break;case 4:n(i)&&ue(i)}}}function n(e){for(var t=e.t,n=e.k,r=_e(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==we){var o=t[a];if(void 0===o&&!M(t,a))return!0;var u=n[a],s=u&&u[we];if(s?s.t!==o:!j(u,o))return!0}}var c=!!t[we];return r.length!==_e(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Q("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Ee(n);delete a[we];for(var o=_e(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:$(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,we,{value:a,writable:!0}),i},S:function(e,n,i){i?O(n)&&n[we].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[we];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)D(a,(function(t){t!==we&&(void 0!==i[t]||M(i,t)?o[t]||e(a[t]):(o[t]=!0,ue(n)))})),D(i,(function(e){void 0!==a[e]||M(a,e)||(o[e]=!1,ue(n))}));else if(5===u){if(r(n)&&(ue(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){g=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),A=u.unstable_batchedUpdates,s=A;var de,pe,ve="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),me="undefined"!=typeof Map,ye="undefined"!=typeof Set,ge="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ke=ve?Symbol.for("immer-nothing"):((de={})["immer-nothing"]=!0,de),be=ve?Symbol.for("immer-draftable"):"__$immer_draftable",we=ve?Symbol.for("immer-state"):"__$immer_state",xe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),_e="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ee=Object.getOwnPropertyDescriptors||function(e){var t={};return _e(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ie={},Se={get:function(e,t){if(t===we)return e;var n=B(e);if(!M(n,t))return function(e,t,n){var r,i=oe(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!R(r)?r:r===ae(e.t,t)?(se(e),e.o[t]=ce(e.A.h,r,e)):r},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){var r=oe(B(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ae(B(e),t),a=null==i?void 0:i[we];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(j(n,i)&&(void 0!==n||M(e.t,t)))return!0;se(e),ue(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ae(e.t,t)||t in e.t?(e.R[t]=!1,se(e),ue(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){P(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){P(12)}},Te={};D(Se,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return Se.set.call(this,e[0],t,n,e[0])};var Ce=function(){function e(e){var t=this;this.O=ge,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&P(6),void 0!==r&&"function"!=typeof r&&P(7),R(e)){var u=Z(t),s=ce(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?Y(u):X(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return J(u,r),te(e,u)}),(function(e){throw Y(u),e})):(J(u,r),te(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===ke&&(o=void 0),t.D&&K(o,!0),r){var l=[],f=[];H("Patches").M(e,o,l,f),r(l,f)}return o}P(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){R(e)||P(8),O(e)&&(e=le(e));var t=Z(this),n=ce(this,e,void 0);return n[we].C=!0,X(t),n},t.finishDraft=function(e,t){var n=(e&&e[we]).A;return J(n,t),te(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ge&&P(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=H("Patches").$;return O(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ae=new Ce,Ne=Ae.produce,Pe=(Ae.produceWithPatches.bind(Ae),Ae.setAutoFreeze.bind(Ae),Ae.setUseProxies.bind(Ae),Ae.applyPatches.bind(Ae),Ae.createDraft.bind(Ae),Ae.finishDraft.bind(Ae),Ne);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Le="function"===typeof Symbol&&Symbol.observable||"@@observable",Me=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fe={INIT:"@@redux/INIT"+Me(),REPLACE:"@@redux/REPLACE"+Me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Me()}};function Ue(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function je(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(De(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(De(1));return n(je)(e,t)}if("function"!==typeof e)throw new Error(De(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(De(3));return a}function f(e){if("function"!==typeof e)throw new Error(De(4));if(s)throw new Error(De(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(De(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Ue(e))throw new Error(De(7));if("undefined"===typeof e.type)throw new Error(De(8));if(s)throw new Error(De(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Fe.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(De(10));i=e,h({type:Fe.REPLACE})}})[Le]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(De(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Le]=function(){return this},e},r}function Ve(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Fe.INIT}))throw new Error(De(12));if("undefined"===typeof n(void 0,{type:Fe.PROBE_UNKNOWN_ACTION()}))throw new Error(De(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(De(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(De(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ze.apply(void 0,a)(n.dispatch),Re(Re({},n),{},{dispatch:r})}}}function qe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ke=qe();Ke.withExtraArgument=qe;var Ge=Ke,We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Qe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},$e=Object.defineProperty,Je=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,tt=function(e,t,n){return t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},nt=function(e,t){for(var n in t||(t={}))Ze.call(t,n)&&tt(e,n,t[n]);if(Xe)for(var r=0,i=Xe(t);r<i.length;r++){n=i[r];et.call(t,n)&&tt(e,n,t[n])}return e},rt=function(e,t){return Je(e,Ye(t))},it=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},at="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ze:ze.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ot(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var ut=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qe([void 0],e.concat(this))))},t}(Array),st=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qe([void 0],e.concat(this))))},t}(Array);function ct(e){return R(e)?Pe(e,(function(){})):e}function lt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new ut);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ge.withExtraArgument(n.extraArgument)):r.push(Ge));0;return r}(e)}}function ft(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return nt(nt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ht(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var dt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},pt=["name","message","stack","code"],vt=function(e,t){this.payload=e,this.meta=t},mt=function(e,t){this.payload=e,this.meta=t},yt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=pt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ft(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:rt(nt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ft(e+"/pending",(function(e,t,n){return{payload:void 0,meta:rt(nt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ft(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||yt)(e||"Rejected"),meta:rt(nt({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dt(),h=new o;function d(e){l=e,h.abort()}var p=function(){return it(this,null,(function(){var o,p,v,m,y,g;return He(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new vt(e,t)},fulfillWithValue:function(e,t){return new mt(e,t)}})).then((function(t){if(t instanceof vt)throw t;return t instanceof mt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof vt?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(gt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function gt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var kt="listenerMiddleware";ft(kt+"/add"),ft(kt+"/removeAll"),ft(kt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var bt,wt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:wt(10);he();var xt,_t=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ct(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ht(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=nt(nt({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ht(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ct(e())};else{var c=ct(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Qe([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(O(e))return void 0===(r=n(e,t))?e:r;if(R(e))return Pe(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?ft(c,r):ft(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e,t){e.user=null}}}),Et=_t.actions,It=Et.login,St=Et.logout,Tt=function(e){return e.user.user},Ct=function(e){var t,n=lt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!ot(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ve(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Be.apply(void 0,p),m=ze;c&&(m=at(nt({trace:!1},"object"===typeof c&&c)));var y=new st(v),g=y;return Array.isArray(d)?g=Qe([v],d):"function"===typeof d&&(g=d(y)),je(t,f,m.apply(void 0,g))}({reducer:{user:_t.reducer}});function At(e){if(Array.isArray(e))return e}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){if(e){if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}function Ot(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rt(e,t){return At(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||Pt(e,t)||Ot()}function Dt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Lt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||Dt(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function Ut(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jt(e,t){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jt(e,t)}function Vt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}function Bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){var t=Bt();return function(){var n,r=zt(e);if(t){var i=zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}(this,n)}}function Gt(e,t,n){return Gt=Bt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&jt(i,n.prototype),i},Gt.apply(null,arguments)}function Wt(e){var t="function"===typeof Map?new Map:void 0;return Wt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Gt(e,arguments,zt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),jt(n,e)},Wt(e)}function Ht(e){return At(e)||Dt(e)||Pt(e)||Ot()}function Qt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(xt||(xt={}));var Jt,Yt="popstate";function Xt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Zt(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function en(e,t){return{usr:e.state,key:e.key,idx:t}}function tn(e,t,n,r){return void 0===n&&(n=null),$t({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?rn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function nn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function rn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function an(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=xt.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=xt.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:nn(e);return Xt(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState($t({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yt,p),f=e,function(){o.removeEventListener(Yt,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=xt.Push;var r=tn(m.location,e,t);n&&n(r,e);var i=en(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=xt.Replace;var r=tn(m.location,e,t);n&&n(r,e);var i=en(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Jt||(Jt={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function on(e,t,n){void 0===n&&(n="/");var r=bn(("string"===typeof t?rn(t):t).pathname||"/",n);if(null==r)return null;var i=un(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=yn(i[o],kn(r));return a}function un(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Xt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=En([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(Xt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),un(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:mn(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Qt(sn(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function sn(e){var t=e.split("/");if(0===t.length)return[];var n=Ht(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=sn(i.join("/")),s=[];return s.push.apply(s,Lt(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Lt(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var cn=/^:\w+$/,ln=3,fn=2,hn=1,dn=10,pn=-2,vn=function(e){return"*"===e};function mn(e,t){var n=e.split("/"),r=n.length;return n.some(vn)&&(r+=pn),t&&(r+=fn),n.filter((function(e){return!vn(e)})).reduce((function(e,t){return e+(cn.test(t)?ln:""===t?hn:dn)}),r)}function yn(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=gn({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:En([i,l.pathname]),pathnameBase:In(En([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=En([i,l.pathnameBase]))}return a}function gn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Zt("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Rt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Zt(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function kn(e){try{return decodeURI(e)}catch(t){return Zt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function bn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function wn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function xn(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function _n(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=rn(e):(Xt(!(i=$t({},e)).pathname||!i.pathname.includes("?"),wn("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),wn("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),wn("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?rn(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Sn(a),hash:Tn(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var En=function(e){return e.join("/").replace(/\/\/+/g,"/")},In=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Sn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Tn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Cn=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n)}(Wt(Error));function An(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Nn=["post","put","patch","delete"],Pn=(new Set(Nn),["get"].concat(Nn));new Set(Pn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On.apply(this,arguments)}var Rn=t.createContext(null);var Dn=t.createContext(null);var Ln=t.createContext(null);var Mn=t.createContext(null);var Fn=t.createContext(null);var Un=t.createContext({outlet:null,matches:[],isDataRoute:!1});var jn=t.createContext(null);function Vn(){return null!=t.useContext(Fn)}function zn(){return Vn()||Xt(!1),t.useContext(Fn).location}function Bn(e){t.useContext(Mn).static||t.useLayoutEffect(e)}function qn(){return t.useContext(Un).isDataRoute?function(){var e=Xn(Wn.UseNavigateStable).router,n=er(Hn.UseNavigateStable),r=t.useRef(!1);Bn((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,On({fromRouteId:n},i)))}),[e,n]);return i}():function(){Vn()||Xt(!1);var e=t.useContext(Rn),n=t.useContext(Mn),r=n.basename,i=n.navigator,a=t.useContext(Un).matches,o=zn().pathname,u=JSON.stringify(xn(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return Bn((function(){s.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=_n(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:En([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e])}()}function Kn(e,n,r){Vn()||Xt(!1);var i,a=t.useContext(Mn).navigator,o=t.useContext(Un).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,zn());if(n){var f,h="string"===typeof n?rn(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||Xt(!1),i=h}else i=l;var d=i.pathname||"/",p=on(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Yn(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:En([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:En([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(Fn.Provider,{value:{location:On({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:xt.Pop}},v):v}function Gn(){var e=function(){var e,n=t.useContext(jn),r=Zn(Hn.UseRouteError),i=er(Hn.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=An(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Wn,Hn,Qn=t.createElement(Gn,null),$n=function(e){Vt(r,e);var n=Kt(r);function r(e){var t;return Mt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return Ut(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Un.Provider,{value:this.props.routeContext},t.createElement(jn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Jn(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Rn);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Un.Provider,{value:n},i)}function Yn(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||Xt(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Qn);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Jn,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement($n,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Xn(e){var n=t.useContext(Rn);return n||Xt(!1),n}function Zn(e){var n=t.useContext(Dn);return n||Xt(!1),n}function er(e){var n=function(e){var n=t.useContext(Un);return n||Xt(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Xt(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Wn||(Wn={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Hn||(Hn={}));var tr;r.startTransition;function nr(e){Xt(!1)}function rr(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?xt.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Vn()&&Xt(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=rn(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,E=void 0===_?"default":_,I=t.useMemo((function(){var e=bn(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:x,key:E},navigationType:s}}),[h,m,g,b,x,E,s]);return null==I?null:t.createElement(Mn.Provider,{value:d},t.createElement(Fn.Provider,{children:a,value:I}))}function ir(e){var t=e.children,n=e.location;return Kn(or(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(tr||(tr={}));var ar=new Promise((function(){}));t.Component;function or(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(Lt(n),[i]);if(e.type!==t.Fragment){e.type!==nr&&Xt(!1),e.props.index&&e.props.children&&Xt(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=or(e.props.children,a)),r.push(o)}else r.push.apply(r,or(e.props.children,a))}})),r}var ur=n(184);var sr=function(){var e=Rt((0,t.useState)(!1),2),n=e[0],r=e[1],i=qn(),a=function(){window.scrollY>100?r(!0):r(!1)};return(0,t.useEffect)((function(){return window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[]),(0,ur.jsx)("div",{className:"nav ".concat(n&&"nav__black"),children:(0,ur.jsxs)("div",{className:"nav__contents",children:[(0,ur.jsx)("img",{onClick:function(){return i("/")},className:"nav__logo",src:"https://variety.com/wp-content/uploads/2020/05/netflix-logo.png?w=1024",alt:""}),(0,ur.jsx)("img",{onClick:function(){return i("/profile")},className:"nav__avatar",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png?20201013161117",alt:""})]})})};function cr(){cr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=f(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==l(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function lr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lr(a,r,i,o,u,"next",e)}function u(e){lr(a,r,i,o,u,"throw",e)}o(void 0)}))}}function hr(e,t){return function(){return e.apply(t,arguments)}}var dr,pr=Object.prototype.toString,vr=Object.getPrototypeOf,mr=(dr=Object.create(null),function(e){var t=pr.call(e);return dr[t]||(dr[t]=t.slice(8,-1).toLowerCase())}),yr=function(e){return e=e.toLowerCase(),function(t){return mr(t)===e}},gr=function(e){return function(t){return typeof t===e}},kr=Array.isArray,br=gr("undefined");var wr=yr("ArrayBuffer");var xr=gr("string"),_r=gr("function"),Er=gr("number"),Ir=function(e){return null!==e&&"object"===typeof e},Sr=function(e){if("object"!==mr(e))return!1;var t=vr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tr=yr("Date"),Cr=yr("File"),Ar=yr("Blob"),Nr=yr("FileList"),Pr=yr("URLSearchParams");function Or(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),kr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function Rr(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Lr=function(e){return!br(e)&&e!==Dr};var Mr,Fr=(Mr="undefined"!==typeof Uint8Array&&vr(Uint8Array),function(e){return Mr&&e instanceof Mr}),Ur=yr("HTMLFormElement"),jr=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Vr=yr("RegExp"),zr=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Or(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Br="abcdefghijklmnopqrstuvwxyz",qr="0123456789",Kr={DIGIT:qr,ALPHA:Br,ALPHA_DIGIT:Br+Br.toUpperCase()+qr};var Gr=yr("AsyncFunction"),Wr={isArray:kr,isArrayBuffer:wr,isBuffer:function(e){return null!==e&&!br(e)&&null!==e.constructor&&!br(e.constructor)&&_r(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||_r(e.append)&&("formdata"===(t=mr(e))||"object"===t&&_r(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wr(e.buffer)},isString:xr,isNumber:Er,isBoolean:function(e){return!0===e||!1===e},isObject:Ir,isPlainObject:Sr,isUndefined:br,isDate:Tr,isFile:Cr,isBlob:Ar,isRegExp:Vr,isFunction:_r,isStream:function(e){return Ir(e)&&_r(e.pipe)},isURLSearchParams:Pr,isTypedArray:Fr,isFileList:Nr,forEach:Or,merge:function e(){for(var t=(Lr(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Rr(n,i)||i;Sr(n[a])&&Sr(r)?n[a]=e(n[a],r):Sr(r)?n[a]=e({},r):kr(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Or(arguments[i],r);return n},extend:function(e,t,n){return Or(t,(function(t,r){n&&_r(t)?e[r]=hr(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&vr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mr,kindOfTest:yr,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(kr(e))return e;var t=e.length;if(!Er(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ur,hasOwnProperty:jr,hasOwnProp:jr,reduceDescriptors:zr,freezeMethods:function(e){zr(e,(function(t,n){if(_r(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];_r(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return kr(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Rr,global:Dr,isContextDefined:Lr,ALPHABET:Kr,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&_r(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Ir(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=kr(n)?[]:{};return Or(n,(function(t,n){var a=e(t,r+1);!br(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Gr,isThenable:function(e){return e&&(Ir(e)||_r(e))&&_r(e.then)&&_r(e.catch)}};function Hr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Wr.inherits(Hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Qr=Hr.prototype,$r={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){$r[e]={value:e}})),Object.defineProperties(Hr,$r),Object.defineProperty(Qr,"isAxiosError",{value:!0}),Hr.from=function(e,t,n,r,i,a){var o=Object.create(Qr);return Wr.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Hr.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Jr=Hr;function Yr(e){return Wr.isPlainObject(e)||Wr.isArray(e)}function Xr(e){return Wr.endsWith(e,"[]")?e.slice(0,-2):e}function Zr(e,t,n){return e?e.concat(t).map((function(e,t){return e=Xr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var ei=Wr.toFlatObject(Wr,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ti=function(e,t,n){if(!Wr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=Wr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Wr.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Wr.isSpecCompliantForm(t);if(!Wr.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Wr.isDate(e))return e.toISOString();if(!u&&Wr.isBlob(e))throw new Jr("Blob is not supported. Use a Buffer instead.");return Wr.isArrayBuffer(e)||Wr.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(Wr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Wr.isArray(e)&&function(e){return Wr.isArray(e)&&!e.some(Yr)}(e)||(Wr.isFileList(e)||Wr.endsWith(n,"[]"))&&(u=Wr.toArray(e)))return n=Xr(n),u.forEach((function(e,r){!Wr.isUndefined(e)&&null!==e&&t.append(!0===o?Zr([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!Yr(e)||(t.append(Zr(i,n,a),s(e)),!1)}var l=[],f=Object.assign(ei,{defaultVisitor:c,convertValue:s,isVisitable:Yr});if(!Wr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Wr.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),Wr.forEach(n,(function(n,a){!0===(!(Wr.isUndefined(n)||null===n)&&i.call(t,n,Wr.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function ni(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ri(e,t){this._pairs=[],e&&ti(e,this,t)}var ii=ri.prototype;ii.append=function(e,t){this._pairs.push([e,t])},ii.toString=function(e){var t=e?function(t){return e.call(this,t,ni)}:ni;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ai=ri;function oi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ui(e,t,n){if(!t)return e;var r,i=n&&n.encode||oi,a=n&&n.serialize;if(r=a?a(t,n):Wr.isURLSearchParams(t)?t.toString():new ai(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var si=function(){function e(){Mt(this,e),this.handlers=[]}return Ut(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Wr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ci=si,li={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fi={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ai,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var hi=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Wr.isArray(r)?r.length:a,u?(Wr.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Wr.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Wr.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Wr.isFormData(e)&&Wr.isFunction(e.entries)){var n={};return Wr.forEachEntry(e,(function(e,r){t(function(e){return Wr.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},di={"Content-Type":void 0};var pi={transitional:li,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Wr.isObject(e);if(a&&Wr.isHTMLForm(e)&&(e=new FormData(e)),Wr.isFormData(e))return i&&i?JSON.stringify(hi(e)):e;if(Wr.isArrayBuffer(e)||Wr.isBuffer(e)||Wr.isStream(e)||Wr.isFile(e)||Wr.isBlob(e))return e;if(Wr.isArrayBufferView(e))return e.buffer;if(Wr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ti(e,new fi.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fi.isNode&&Wr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Wr.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return ti(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Wr.isString(e))try{return(t||JSON.parse)(e),Wr.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||pi.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Wr.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Jr.from(a,Jr.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Wr.forEach(["delete","get","head"],(function(e){pi.headers[e]={}})),Wr.forEach(["post","put","patch"],(function(e){pi.headers[e]=Wr.merge(di)}));var vi=pi,mi=Wr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yi=Symbol("internals");function gi(e){return e&&String(e).trim().toLowerCase()}function ki(e){return!1===e||null==e?e:Wr.isArray(e)?e.map(ki):String(e)}function bi(e,t,n,r,i){return Wr.isFunction(r)?r.call(this,t,n):(i&&(t=n),Wr.isString(t)?Wr.isString(r)?-1!==t.indexOf(r):Wr.isRegExp(r)?r.test(t):void 0:void 0)}var wi=function(e,t){function n(e){Mt(this,n),e&&this.set(e)}return Ut(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=gi(t);if(!i)throw new Error("header name must be a non-empty string");var a=Wr.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=ki(e))}var a=function(e,t){return Wr.forEach(e,(function(e,n){return i(e,n,t)}))};return Wr.isPlainObject(e)||e instanceof this.constructor?a(e,t):Wr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&mi[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=gi(e)){var n=Wr.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Wr.isFunction(t))return t.call(this,r,n);if(Wr.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=gi(e)){var n=Wr.findKey(this,e);return!(!n||void 0===this[n]||t&&!bi(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=gi(e)){var i=Wr.findKey(n,e);!i||t&&!bi(0,n[i],i,t)||(delete n[i],r=!0)}}return Wr.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!bi(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Wr.forEach(this,(function(r,i){var a=Wr.findKey(n,i);if(a)return t[a]=ki(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=ki(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Wr.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Wr.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=Rt(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[yi]=this[yi]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=gi(e);t[r]||(!function(e,t){var n=Wr.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Wr.isArray(e)?e.forEach(r):r(e),this}}]),n}();wi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Wr.freezeMethods(wi.prototype),Wr.freezeMethods(wi);var xi=wi;function _i(e,t){var n=this||vi,r=t||n,i=xi.from(r.headers),a=r.data;return Wr.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Ei(e){return!(!e||!e.__CANCEL__)}function Ii(e,t,n){Jr.call(this,null==e?"canceled":e,Jr.ERR_CANCELED,t,n),this.name="CanceledError"}Wr.inherits(Ii,Jr,{__CANCEL__:!0});var Si=Ii;var Ti=fi.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Wr.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Wr.isString(r)&&o.push("path="+r),Wr.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ci(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ai=fi.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Wr.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Ni=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Pi(e,t){var n=0,r=Ni(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Oi={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=xi.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Wr.isFormData(i)&&(fi.isStandardBrowserEnv||fi.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Ci(e.baseURL,e.url);function h(){if(s){var r=xi.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Jr("Request failed with status code "+n.status,[Jr.ERR_BAD_REQUEST,Jr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),ui(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Jr("Request aborted",Jr.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Jr("Network Error",Jr.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||li;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Jr(t,r.clarifyTimeoutError?Jr.ETIMEDOUT:Jr.ECONNABORTED,e,s)),s=null},fi.isStandardBrowserEnv){var d=(e.withCredentials||Ai(f))&&e.xsrfCookieName&&Ti.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Wr.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Wr.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Pi(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Pi(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Si(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===fi.protocols.indexOf(p)?n(new Jr("Unsupported protocol "+p+":",Jr.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};Wr.forEach(Oi,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Ri=function(e){for(var t,n,r=(e=Wr.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Wr.isString(t)?Oi[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Jr("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Wr.hasOwnProp(Oi,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Wr.isFunction(n))throw new TypeError("adapter is not a function");return n};function Di(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Si(null,e)}function Li(e){return Di(e),e.headers=xi.from(e.headers),e.data=_i.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ri(e.adapter||vi.adapter)(e).then((function(t){return Di(e),t.data=_i.call(e,e.transformResponse,t),t.headers=xi.from(t.headers),t}),(function(t){return Ei(t)||(Di(e),t&&t.response&&(t.response.data=_i.call(e,e.transformResponse,t.response),t.response.headers=xi.from(t.response.headers))),Promise.reject(t)}))}var Mi=function(e){return e instanceof xi?e.toJSON():e};function Fi(e,t){t=t||{};var n={};function r(e,t,n){return Wr.isPlainObject(e)&&Wr.isPlainObject(t)?Wr.merge.call({caseless:n},e,t):Wr.isPlainObject(t)?Wr.merge({},t):Wr.isArray(t)?t.slice():t}function i(e,t,n){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Wr.isUndefined(t))return r(void 0,t)}function o(e,t){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(Mi(e),Mi(t),!0)}};return Wr.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Wr.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Ui="1.4.0",ji={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ji[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Vi={};ji.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Jr(r(i," has been removed"+(t?" in "+t:"")),Jr.ERR_DEPRECATED);return t&&!Vi[i]&&(Vi[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var zi={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Jr("options must be an object",Jr.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Jr("option "+a+" must be "+s,Jr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Jr("Unknown option "+a,Jr.ERR_BAD_OPTION)}},validators:ji},Bi=zi.validators,qi=function(){function e(t){Mt(this,e),this.defaults=t,this.interceptors={request:new ci,response:new ci}}return Ut(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Fi(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&zi.assertOptions(i,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),null!=a&&(Wr.isFunction(a)?t.paramsSerializer={serialize:a}:zi.assertOptions(a,{encode:Bi.function,serialize:Bi.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Wr.merge(o.common,o[t.method]))&&Wr.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=xi.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Li.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=Li.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return ui(Ci((e=Fi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Wr.forEach(["delete","get","head","options"],(function(e){qi.prototype[e]=function(t,n){return this.request(Fi(n||{},{method:e,url:t,data:(n||{}).data}))}})),Wr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Fi(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}qi.prototype[e]=t(),qi.prototype[e+"Form"]=t(!0)}));var Ki=qi,Gi=function(){function e(t){if(Mt(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Si(e,t,i),n(r.reason))}))}return Ut(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Wi=Gi;var Hi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hi).forEach((function(e){var t=Rt(e,2),n=t[0],r=t[1];Hi[r]=n}));var Qi=Hi;var $i=function e(t){var n=new Ki(t),r=hr(Ki.prototype.request,n);return Wr.extend(r,Ki.prototype,n,{allOwnKeys:!0}),Wr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Fi(t,n))},r}(vi);$i.Axios=Ki,$i.CanceledError=Si,$i.CancelToken=Wi,$i.isCancel=Ei,$i.VERSION=Ui,$i.toFormData=ti,$i.AxiosError=Jr,$i.Cancel=$i.CanceledError,$i.all=function(e){return Promise.all(e)},$i.spread=function(e){return function(t){return e.apply(null,t)}},$i.isAxiosError=function(e){return Wr.isObject(e)&&!0===e.isAxiosError},$i.mergeConfig=Fi,$i.AxiosHeaders=xi,$i.formToJSON=function(e){return hi(Wr.isHTMLForm(e)?new FormData(e):e)},$i.HttpStatusCode=Qi,$i.default=$i;var Ji=$i.create({baseURL:"https://api.themoviedb.org/3"}),Yi="f63c5e1998b850ba259af4598da4e82a",Xi={fetchTrending:"/trending/all/week?api_keys=".concat(Yi,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(Yi,"&with_network=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(Yi,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(Yi,"&with_genres=99")};var Zi=function(){var e=Rt((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){return(e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji.get(Xi.fetchNetflixOriginals);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n),(0,ur.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===n||void 0===n?void 0:n.backdrop_path,'")'),backgroundPosition:"center center"},children:[(0,ur.jsxs)("div",{className:"banner__contents",children:[(0,ur.jsx)("h1",{className:"banner__title",children:(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.original_name)}),(0,ur.jsxs)("div",{className:"banner__buttons",children:[(0,ur.jsx)("button",{className:"banner__button",children:"Play"}),(0,ur.jsx)("button",{className:"banner__button",children:"My list"})]}),(0,ur.jsx)("h1",{className:"banner__description",children:function(e,t){return(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}(null===n||void 0===n?void 0:n.overview,150)})]}),(0,ur.jsx)("div",{className:"banner--fadeBottom"})]})};var ea=function(e){var n=e.title,r=e.fetchUrl,i=e.isLargeRow,a=void 0!==i&&i,o=Rt((0,t.useState)([]),2),u=o[0],s=o[1];return(0,t.useEffect)((function(){function e(){return(e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ji.get(r);case 3:t=e.sent,s(t.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),console.log(u),(0,ur.jsxs)("div",{className:"row",children:[(0,ur.jsx)("h2",{children:n}),(0,ur.jsx)("div",{className:"row__posters",children:u&&u.map((function(e){return(a&&e.poster_path||!a&&e.backdrop_path)&&(0,ur.jsx)("img",{alt:e.name,className:"row__poster ".concat(a&&"row__posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(a?e.poster_path:e.backdrop_path)},e.id)}))})]})};var ta=function(){return(0,ur.jsxs)("div",{className:"homeScreen",children:[(0,ur.jsx)(sr,{}),(0,ur.jsx)(Zi,{}),(0,ur.jsx)(ea,{title:"NETFLIX ORIGINALS",fetchUrl:Xi.fetchNetflixOriginals,isLargeRow:!0}),(0,ur.jsx)(ea,{title:"Top Rated",fetchUrl:Xi.fetchTopRated}),(0,ur.jsx)(ea,{title:"Action Movies",fetchUrl:Xi.fetchActionMovies}),(0,ur.jsx)(ea,{title:"Comedy Movies",fetchUrl:Xi.fetchComedyMovies}),(0,ur.jsx)(ea,{title:"Horror Movies",fetchUrl:Xi.fetchHorrorMovies}),(0,ur.jsx)(ea,{title:"Romance Movies",fetchUrl:Xi.fetchRomanceMovies}),(0,ur.jsx)(ea,{title:"Documentaries",fetchUrl:Xi.fetchDocumentaries})]})},na=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ra={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(na(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ia;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ia=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Ut(n)}(Wt(Error)),aa=function(e){return function(e){var t=na(e);return ra.encodeByteArray(t,!0)}(e).replace(/\./g,"")},oa=function(e){try{return ra.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ua(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ua(e[n],t[n]));return e}var sa=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ca=function(){try{return sa()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/WaMungai/Netflix-Clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&oa(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},la=function(){var e;return null===(e=ca())||void 0===e?void 0:e.config},fa=function(){function e(){var t=this;Mt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ut(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ha(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function da(){var e,t=null===(e=ca())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function va(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ma(){var e=ha();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ya(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ga(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var ka=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(qt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(qt(a),ba.prototype.create),a}return Ut(n)}(Wt(Error)),ba=function(){function e(t,n,r){Mt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ut(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ka(n,a,t)}}]),e}();var wa=/\{\$([^}]+)}/g;function xa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ea(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ia(u)&&Ia(s)){if(!Ea(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ia(e){return null!==e&&"object"===typeof e}function Sa(e){for(var t=[],n=function(){var e=Rt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ta(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Rt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ca(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Aa(e,t){var n=new Na(e,t);return n.subscribe.bind(n)}var Na=function(){function e(t,n){var r=this;Mt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ut(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Qt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Pa),void 0===r.error&&(r.error=Pa),void 0===r.complete&&(r.complete=Pa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Pa(){}var Oa=1e3,Ra=2,Da=144e5,La=.5;function Ma(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ra,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa)*Math.pow(t,e),r=Math.round(La*n*(Math.random()-.5)*2);return Math.min(Da,n+r)}function Fa(e){return e&&e._delegate?e._delegate:e}var Ua=function(){function e(t,n,r){Mt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ut(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ja="[DEFAULT]",Va=function(){function e(t,n){Mt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ut(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fa;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch(s){}var t,n=Qt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Rt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Lt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Lt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Qt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Rt(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ja?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja;return this.component?this.component.multipleInstances?e:ja:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var za,Ba,qa=function(){function e(t){Mt(this,e),this.name=t,this.providers=new Map}return Ut(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Va(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ka=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ba||(Ba={}));var Ga={debug:Ba.DEBUG,verbose:Ba.VERBOSE,info:Ba.INFO,warn:Ba.WARN,error:Ba.ERROR,silent:Ba.SILENT},Wa=Ba.INFO,Ha=(h(za={},Ba.DEBUG,"log"),h(za,Ba.VERBOSE,"log"),h(za,Ba.INFO,"info"),h(za,Ba.WARN,"warn"),h(za,Ba.ERROR,"error"),za),Qa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ha[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},$a=function(){function e(t){Mt(this,e),this.name=t,this._logLevel=Wa,this._logHandler=Qa,this._userLogHandler=null,Ka.push(this)}return Ut(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ba))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ga[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ba.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ba.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ba.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ba.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ba.INFO].concat(t)),this._logHandler.apply(this,[this,Ba.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ba.WARN].concat(t)),this._logHandler.apply(this,[this,Ba.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ba.ERROR].concat(t)),this._logHandler.apply(this,[this,Ba.ERROR].concat(t))}}]),e}();var Ja,Ya,Xa=function(e,t){return t.some((function(t){return e instanceof t}))};var Za=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,ro=new WeakMap;var io={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return eo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||to.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ao(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ya||(Ya=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(so(this),n),uo(Za.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uo(e.apply(so(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[so(this),t].concat(r));return to.set(a,t.sort?t.sort():[t]),uo(a)}}function oo(e){return"function"===typeof e?ao(e):(e instanceof IDBTransaction&&function(e){if(!eo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));eo.set(e,t)}}(e),Xa(e,Ja||(Ja=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,io):e)}function uo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(uo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Za.set(t,e)})).catch((function(){})),ro.set(t,e),t}(e);if(no.has(e))return no.get(e);var t=oo(e);return t!==e&&(no.set(e,t),ro.set(t,e)),t}var so=function(e){return ro.get(e)};var co,lo,fo=["get","getKey","getAll","getAllKeys","count"],ho=["put","add","delete","clear"],po=new Map;function vo(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(po.get(t))return po.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ho.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||fo.includes(n))){var a=function(){var e=fr(cr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return po.set(t,a),a}}}io=function(e){return Re(Re({},e),{},{get:function(t,n,r){return vo(t,n)||e.get(t,n,r)},has:function(t,n){return!!vo(t,n)||e.has(t,n)}})}(io);var mo=function(){function e(t){Mt(this,e),this.container=t}return Ut(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yo="@firebase/app",go="0.9.14",ko=new $a("@firebase/app"),bo="[DEFAULT]",wo=(h(co={},yo,"fire-core"),h(co,"@firebase/app-compat","fire-core-compat"),h(co,"@firebase/analytics","fire-analytics"),h(co,"@firebase/analytics-compat","fire-analytics-compat"),h(co,"@firebase/app-check","fire-app-check"),h(co,"@firebase/app-check-compat","fire-app-check-compat"),h(co,"@firebase/auth","fire-auth"),h(co,"@firebase/auth-compat","fire-auth-compat"),h(co,"@firebase/database","fire-rtdb"),h(co,"@firebase/database-compat","fire-rtdb-compat"),h(co,"@firebase/functions","fire-fn"),h(co,"@firebase/functions-compat","fire-fn-compat"),h(co,"@firebase/installations","fire-iid"),h(co,"@firebase/installations-compat","fire-iid-compat"),h(co,"@firebase/messaging","fire-fcm"),h(co,"@firebase/messaging-compat","fire-fcm-compat"),h(co,"@firebase/performance","fire-perf"),h(co,"@firebase/performance-compat","fire-perf-compat"),h(co,"@firebase/remote-config","fire-rc"),h(co,"@firebase/remote-config-compat","fire-rc-compat"),h(co,"@firebase/storage","fire-gcs"),h(co,"@firebase/storage-compat","fire-gcs-compat"),h(co,"@firebase/firestore","fire-fst"),h(co,"@firebase/firestore-compat","fire-fst-compat"),h(co,"fire-js","fire-js"),h(co,"firebase","fire-js-all"),co),xo=new Map,_o=new Map;function Eo(e,t){try{e.container.addComponent(t)}catch(n){ko.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Io(e,t){e.container.addOrOverwriteComponent(t)}function So(e){var t=e.name;if(_o.has(t))return ko.debug("There were multiple attempts to register component ".concat(t,".")),!1;_o.set(t,e);var n,r=Qt(xo.values());try{for(r.s();!(n=r.n()).done;){Eo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function To(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Co(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bo;To(e,t).clearInstance(n)}function Ao(){_o.clear()}var No=(h(lo={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),h(lo,"bad-app-name","Illegal App name: '{$appName}"),h(lo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(lo,"app-deleted","Firebase App named '{$appName}' already deleted"),h(lo,"no-options","Need to provide options, when not being deployed to hosting via source."),h(lo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(lo,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(lo,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),h(lo,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),h(lo,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),h(lo,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),lo),Po=new ba("app","Firebase",No),Oo=function(){function e(t,n,r){var i=this;Mt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",(function(){return i}),"PUBLIC"))}return Ut(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}]),e}(),Ro="10.0.0";function Do(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:bo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Po.create("bad-app-name",{appName:String(i)});if(n||(n=la()),!n)throw Po.create("no-options");var a=xo.get(i);if(a){if(Ea(n,a.options)&&Ea(r,a.config))return a;throw Po.create("duplicate-app",{appName:i})}var o,u=new qa(i),s=Qt(_o.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Oo(n,r,u);return xo.set(i,l),l}function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,t=xo.get(e);if(!t&&e===bo&&la())return Do();if(!t)throw Po.create("no-app",{appName:e});return t}function Mo(){return Array.from(xo.values())}function Fo(e){return Uo.apply(this,arguments)}function Uo(){return Uo=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xo.has(n)){e.next=6;break}return xo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function jo(e,t,n){var r,i=null!==(r=wo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ko.warn(u.join(" "))}So(new Ua("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Vo(e,t){if(null!==e&&"function"!==typeof e)throw Po.create("invalid-log-argument");!function(e,t){var n,r=Qt(Ka);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ga[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ba[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function zo(e){var t;t=e,Ka.forEach((function(e){e.setLogLevel(t)}))}var Bo="firebase-heartbeat-database",qo=1,Ko="firebase-heartbeat-store",Go=null;function Wo(){return Go||(Go=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=uo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(uo(u.result),e.oldVersion,e.newVersion,uo(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Bo,qo,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ko)}}).catch((function(e){throw Po.create("idb-open",{originalErrorMessage:e.message})}))),Go}function Ho(e){return Qo.apply(this,arguments)}function Qo(){return Qo=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wo();case 3:return n=e.sent,e.next=6,n.transaction(Ko).objectStore(Ko).get(Yo(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ka?ko.warn(e.t0.message):(i=Po.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ko.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Qo.apply(this,arguments)}function $o(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wo();case 3:return r=e.sent,i=r.transaction(Ko,"readwrite"),a=i.objectStore(Ko),e.next=8,a.put(n,Yo(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ka?ko.warn(e.t0.message):(o=Po.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ko.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Jo.apply(this,arguments)}function Yo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Xo=function(){function e(t){var n=this;Mt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ut(e,[{key:"triggerHeartbeat",value:function(){var e=fr(cr().mark((function e(){var t,n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Zo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Zo(),n=eu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=aa(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zo(){return(new Date).toISOString().substring(0,10)}function eu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Qt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ru(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ru(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var tu,nu=function(){function e(t){Mt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ut(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ya()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",ga().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ho(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$o(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$o(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Lt(r.heartbeats),Lt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ru(e){return aa(JSON.stringify({version:2,heartbeats:e})).length}tu="",So(new Ua("platform-logger",(function(e){return new mo(e)}),"PRIVATE")),So(new Ua("heartbeat",(function(e){return new Xo(e)}),"PRIVATE")),jo(yo,go,tu),jo(yo,go,"esm2017"),jo("fire-js","");jo("firebase","10.0.0","app");var iu,au,ou=function(e,t){return t.some((function(t){return e instanceof t}))};var uu=new WeakMap,su=new WeakMap,cu=new WeakMap,lu=new WeakMap,fu=new WeakMap;var hu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return su.get(e);if("objectStoreNames"===t)return e.objectStoreNames||cu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function du(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(au||(au=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mu(this),n),vu(uu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vu(e.apply(mu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[mu(this),t].concat(r));return cu.set(a,t.sort?t.sort():[t]),vu(a)}}function pu(e){return"function"===typeof e?du(e):(e instanceof IDBTransaction&&function(e){if(!su.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));su.set(e,t)}}(e),ou(e,iu||(iu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,hu):e)}function vu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(vu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&uu.set(t,e)})).catch((function(){})),fu.set(t,e),t}(e);if(lu.has(e))return lu.get(e);var t=pu(e);return t!==e&&(lu.set(e,t),fu.set(t,e)),t}var mu=function(e){return fu.get(e)};var yu,gu=["get","getKey","getAll","getAllKeys","count"],ku=["put","add","delete","clear"],bu=new Map;function wu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(bu.get(t))return bu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ku.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||gu.includes(n))){var a=function(){var e=fr(cr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return bu.set(t,a),a}}}!function(e){hu=e(hu)}((function(e){return Re(Re({},e),{},{get:function(t,n,r){return wu(t,n)||e.get(t,n,r)},has:function(t,n){return!!wu(t,n)||e.has(t,n)}})}));var xu="@firebase/installations",_u="0.6.4",Eu=1e4,Iu="w:".concat(_u),Su="FIS_v2",Tu="https://firebaseinstallations.googleapis.com/v1",Cu=36e5,Au=(h(yu={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),h(yu,"not-registered","Firebase Installation is not registered."),h(yu,"installation-not-found","Firebase Installation not found."),h(yu,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),h(yu,"app-offline","Could not process request. Application offline."),h(yu,"delete-pending-registration","Can't delete installation while there is a pending registration request."),yu),Nu=new ba("installations","Installations",Au);function Pu(e){return e instanceof ka&&e.code.includes("request-failed")}function Ou(e){var t=e.projectId;return"".concat(Tu,"/projects/").concat(t,"/installations")}function Ru(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Nu.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fu(e,t){var n=t.refreshToken,r=Mu(e);return r.append("Authorization",function(e){return"".concat(Su," ").concat(e)}(n)),r}function Uu(e){return ju.apply(this,arguments)}function ju(){return ju=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Vu(e,t){return zu.apply(this,arguments)}function zu(){return(zu=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Ou(r),u=Mu(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Su,appId:r.appId,sdkVersion:Iu},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,Uu((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Ru(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Du("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e){return new Promise((function(t){setTimeout(t,e)}))}var qu=/^[cdef][\w-]{21}$/,Ku="";function Gu(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,Lt(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return qu.test(t)?t:Ku}catch(n){return Ku}}function Wu(e){return"".concat(e.appName,"!").concat(e.appId)}var Hu=new Map;function Qu(e,t){var n=Wu(e);$u(n,t),function(e,t){var n=Yu();n&&n.postMessage({key:e,fid:t});Xu()}(n,t)}function $u(e,t){var n=Hu.get(e);if(n){var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Ju=null;function Yu(){return!Ju&&"BroadcastChannel"in self&&((Ju=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){$u(e.data.key,e.data.fid)}),Ju}function Xu(){0===Hu.size&&Ju&&(Ju.close(),Ju=null)}var Zu="firebase-installations-database",es=1,ts="firebase-installations-store",ns=null;function rs(){return ns||(ns=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=vu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(vu(u.result),e.oldVersion,e.newVersion,vu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Zu,es,{upgrade:function(e,t){if(0===t)e.createObjectStore(ts)}})),ns}function is(e,t){return as.apply(this,arguments)}function as(){return as=fr(cr().mark((function e(t,n){var r,i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,rs();case 3:return i=e.sent,a=i.transaction(ts,"readwrite"),o=a.objectStore(ts),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Qu(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e){return us.apply(this,arguments)}function us(){return us=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wu(t),e.next=3,rs();case 3:return r=e.sent,i=r.transaction(ts,"readwrite"),e.next=7,i.objectStore(ts).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=fr(cr().mark((function e(t,n){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,rs();case 3:return i=e.sent,a=i.transaction(ts,"readwrite"),o=a.objectStore(ts),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Qu(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e){return fs.apply(this,arguments)}function fs(){return(fs=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss(t.appConfig,(function(e){var r=hs(e),i=ds(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Ku){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e){return gs(e||{fid:Gu(),registrationStatus:0})}function ds(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Nu.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ps.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:vs(e)}:{installationEntry:t}}function ps(){return(ps=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vu(t,n);case 3:return r=e.sent,e.abrupt("return",is(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Pu(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,os(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,is(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function vs(e){return ms.apply(this,arguments)}function ms(){return(ms=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ys(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Bu(100);case 6:return e.next=8,ys(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ls(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e){return ss(e,(function(e){if(!e)throw Nu.create("installation-not-found");return gs(e)}))}function gs(e){return 1===(t=e).registrationStatus&&t.registrationTime+Eu<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ks(e,t){return bs.apply(this,arguments)}function bs(){return(bs=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ws(r,n),o=Fu(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:Iu,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Uu((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Ru(h),e.abrupt("return",d);case 22:return e.next=24,Du("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t){var n=t.fid;return"".concat(Ou(e),"/").concat(n,"/authTokens:generate")}function xs(e){return _s.apply(this,arguments)}function _s(){return _s=fr(cr().mark((function e(t){var n,r,i,a,o=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ss(t.appConfig,(function(e){if(!As(e))throw Nu.create("not-registered");var i=e.authToken;if(!n&&Ns(i))return e;if(1===i.requestStatus)return r=Es(t,n),e;if(!navigator.onLine)throw Nu.create("app-offline");var a=Ps(e);return r=Ts(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Es(e,t){return Is.apply(this,arguments)}function Is(){return(Is=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Bu(100);case 6:return e.next=8,Ss(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",xs(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e){return ss(e,(function(e){if(!As(e))throw Nu.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Eu<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return(Cs=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ks(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,is(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Pu(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,os(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,is(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function As(e){return void 0!==e&&2===e.registrationStatus}function Ns(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Cu}(e)}function Ps(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Os(){return(Os=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ls(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):xs(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(){return Rs=fr(cr().mark((function e(t){var n,r,i,a=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Ds(r);case 4:return e.next=6,xs(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ds(e){return Ls.apply(this,arguments)}function Ls(){return(Ls=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e){return Nu.create("missing-app-config-values",{valueName:e})}var Fs,Us="installations",js=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ms("App Configuration");if(!e.name)throw Ms("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ms(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:To(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Vs=function(e){var t=To(e.getProvider("app").getImmediate(),Us).getImmediate(),n={getId:function(){return function(e){return Os.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Rs.apply(this,arguments)}(t,e)}};return n};So(new Ua(Us,js,"PUBLIC")),So(new Ua("installations-internal",Vs,"PRIVATE")),jo(xu,_u),jo(xu,_u,"esm2017");var zs="analytics",Bs="firebase_id",qs="origin",Ks=6e4,Gs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ws="https://www.googletagmanager.com/gtag/js",Hs=new $a("@firebase/analytics"),Qs=(h(Fs={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),h(Fs,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),h(Fs,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),h(Fs,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),h(Fs,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),h(Fs,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),h(Fs,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),h(Fs,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),h(Fs,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),h(Fs,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),h(Fs,"no-client-id",'The "client_id" field is empty.'),h(Fs,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Fs),$s=new ba("analytics","Analytics",Qs);function Js(e){if(!e.startsWith(Ws)){var t=$s.create("invalid-gtag-resource",{gtagURL:e});return Hs.warn(t.message),""}return e}function Ys(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Xs(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Js}),r=document.createElement("script"),i="".concat(Ws,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Zs(e,t,n,r,i,a){return ec.apply(this,arguments)}function ec(){return ec=fr(cr().mark((function e(t,n,r,i,a,o){var u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Ys(r);case 9:if(s=e.sent,!(c=s.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Hs.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),ec.apply(this,arguments)}function tc(e,t,n,r,i){return nc.apply(this,arguments)}function nc(){return nc=fr(cr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Ys(r);case 7:s=e.sent,c=Qt(u),e.prev=9,f=cr().mark((function e(){var t,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=s.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),Hs.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),nc.apply(this,arguments)}function rc(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=fr(cr().mark((function i(a){var o,u,s,c,l,f,h,d,p,v,m,y,g=arguments;return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=g.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=g[s];if("event"!==a){i.next=8;break}return c=u[0],l=u[1],i.next=6,tc(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=u[0],h=u[1],i.next=12,Zs(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=u[0],e("consent","update",d)):"get"===a?(p=u[0],v=u[1],m=u[2],e("get",p,v,m)):"set"===a?(y=u[0],e("set",y)):e.apply(void 0,[a].concat(u));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),Hs.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function ic(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Ws)&&i.src.includes(e))return i}return null}var ac=30,oc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Mt(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Ut(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),uc=new oc;function sc(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function cc(e){return lc.apply(this,arguments)}function lc(){return(lc=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:sc(i)},o=Gs.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw $s.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function fc(e){return hc.apply(this,arguments)}function hc(){return hc=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:uc,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw $s.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw $s.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new kc,setTimeout(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Ks),e.abrupt("return",dc({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:uc,s=t.appId,c=t.measurementId,e.prev=3,e.next=6,vc(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Hs.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:s,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,cc(t);case 17:return l=e.sent,o.deleteThrottleMetadata(s),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),mc(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(s),!c){e.next=32;break}return Hs.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:s,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(u=null===f||void 0===f?void 0:f.customData)||void 0===u?void 0:u.httpStatus)?Ma(a,o.intervalMillis,ac):Ma(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(s,d),Hs.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",dc(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),pc.apply(this,arguments)}function vc(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r($s.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function mc(e){if(!(e instanceof ka)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var yc,gc,kc=function(){function e(){Mt(this,e),this.listeners=[]}return Ut(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function bc(){return(bc=fr(cr().mark((function e(t,n,r,i,a){var o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e){gc=e}function xc(e){yc=e}function _c(){return Ec.apply(this,arguments)}function Ec(){return(Ec=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ya()){e.next=5;break}return Hs.warn($s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,ga();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Hs.warn($s.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function Ic(){return Ic=fr(cr().mark((function e(t,n,r,i,a,o,u){var s,c,l,f,h,d,p,v;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=fc(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Hs.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Hs.error(e)})),n.push(c),l=_c().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=Rt(f,2),d=h[0],p=h[1],ic(o)||Xs(o,d.measurementId),gc&&(a("consent","default",gc),wc(void 0)),a("js",new Date),(v=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{})[qs]="firebase",v.update=!0,null!=p&&(v[Bs]=p),a("config",d.measurementId,v),yc&&(a("set",yc),xc(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var Sc,Tc,Cc=function(){function e(t){Mt(this,e),this.app=t}return Ut(e,[{key:"_delete",value:function(){return delete Ac[this.app.options.appId],Promise.resolve()}}]),e}(),Ac={},Nc=[],Pc={},Oc="dataLayer",Rc="gtag",Dc=!1;function Lc(){var e=[];if(pa()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=$s.create("invalid-analytics-context",{errorInfo:t});Hs.warn(n.message)}}function Mc(e,t,n){Lc();var r=e.options.appId;if(!r)throw $s.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw $s.create("no-api-key");Hs.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ac[r])throw $s.create("already-exists",{id:r});if(!Dc){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Oc);var i=rc(Ac,Nc,Pc,Oc,Rc),a=i.wrappedGtag,o=i.gtagCore;Tc=a,Sc=o,Dc=!0}return Ac[r]=function(e,t,n,r,i,a,o){return Ic.apply(this,arguments)}(e,Nc,Pc,t,Sc,Oc,n),new Cc(e)}function Fc(e,t,n,r){e=Fa(e),function(e,t,n,r,i){return bc.apply(this,arguments)}(Tc,Ac[e.app.options.appId],t,n,r).catch((function(e){return Hs.error(e)}))}var Uc,jc="@firebase/analytics",Vc="0.10.0";So(new Ua(zs,(function(e,t){var n=t.options;return Mc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),So(new Ua("analytics-internal",(function(e){try{var t=e.getProvider(zs).getImmediate();return{logEvent:function(e,n,r){return Fc(t,e,n,r)}}}catch(n){throw $s.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),jo(jc,Vc),jo(jc,Vc,"esm2017");var zc=function(){function e(t,n){var r=this;Mt(this,e),this._delegate=t,this.firebase=n,Eo(t,new Ua("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ut(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Fo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Eo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Io(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bc=(h(Uc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Uc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Uc),qc=new ba("app-compat","Firebase",Bc);var Kc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Do(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(xa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:jo,setLogLevel:zo,onLog:Vo,apps:null,SDK_VERSION:Ro,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(So(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ua(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!xa(n,e=e||bo))throw qc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ua(n,e)},createSubscribe:Aa,ErrorFactory:ba,deepExtend:ua}),n}(),Gc=new $a("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Gc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wc=self.firebase.SDK_VERSION;Wc&&Wc.indexOf("LITE")>=0&&Gc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hc=Kc;!function(e){jo("@firebase/app-compat","0.2.14",e)}();function Qc(){return Qc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qc.apply(this,arguments)}Hc.registerVersion("firebase","10.0.0","app-compat");function $c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Jc,Yc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xc="EMAIL_SIGNIN",Zc="PASSWORD_RESET",el="RECOVER_EMAIL",tl="REVERT_SECOND_FACTOR_ADDITION",nl="VERIFY_AND_CHANGE_EMAIL",rl="VERIFY_EMAIL";function il(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var al=function(){var e;return h(e={},"admin-restricted-operation","This operation is restricted to administrators only."),h(e,"argument-error",""),h(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),h(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),h(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),h(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),h(e,"cordova-not-ready","Cordova framework is not ready."),h(e,"cors-unsupported","This browser is not supported."),h(e,"credential-already-in-use","This credential is already associated with a different user account."),h(e,"custom-token-mismatch","The custom token corresponds to a different audience."),h(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),h(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),h(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),h(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),h(e,"email-already-in-use","The email address is already in use by another account."),h(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),h(e,"expired-action-code","The action code has expired."),h(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),h(e,"internal-error","An internal AuthError has occurred."),h(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),h(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),h(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),h(e,"invalid-auth-event","An internal AuthError has occurred."),h(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),h(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),h(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),h(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),h(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),h(e,"invalid-email","The email address is badly formatted."),h(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),h(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),h(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),h(e,"invalid-credential","The supplied auth credential is malformed or has expired."),h(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),h(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),h(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),h(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),h(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),h(e,"wrong-password","The password is invalid or the user does not have a password."),h(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),h(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),h(e,"invalid-provider-id","The specified provider ID is invalid."),h(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),h(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),h(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),h(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),h(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),h(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),h(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),h(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),h(e,"missing-continue-uri","A continue URL must be provided in the request."),h(e,"missing-iframe-start","An internal AuthError has occurred."),h(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),h(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),h(e,"missing-password","A non-empty password must be provided"),h(e,"missing-multi-factor-info","No second factor identifier is provided."),h(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),h(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),h(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),h(e,"app-deleted","This instance of FirebaseApp has been deleted."),h(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),h(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),h(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),h(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),h(e,"no-auth-event","An internal AuthError has occurred."),h(e,"no-such-provider","User was not linked to an account with the given provider."),h(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),h(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),h(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),h(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),h(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),h(e,"provider-already-linked","User can only be linked to one identity for the given provider."),h(e,"quota-exceeded","The project's quota for this operation has been exceeded."),h(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),h(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),h(e,"rejected-credential","The request contains malformed or mismatching credentials."),h(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),h(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),h(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),h(e,"timeout","The operation has timed out."),h(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),h(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),h(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),h(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),h(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),h(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),h(e,"unverified-email","The operation requires a verified email."),h(e,"user-cancelled","The user did not grant your application the permissions it requested."),h(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),h(e,"user-disabled","The user account has been disabled by an administrator."),h(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),h(e,"user-signed-out",""),h(e,"weak-password","The password must be 6 characters long or more."),h(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),h(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),h(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),h(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),h(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),h(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),h(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),h(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),h(e,"invalid-req-type","Invalid request parameters."),h(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},ol=il,ul=new ba("auth","Firebase",il()),sl=new $a("@firebase/auth");function cl(e){if(sl.logLevel<=Ba.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sl.warn.apply(sl,["Auth (".concat(Ro,"): ").concat(e)].concat(n))}}function ll(e){if(sl.logLevel<=Ba.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sl.error.apply(sl,["Auth (".concat(Ro,"): ").concat(e)].concat(n))}}function fl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vl.apply(void 0,[e].concat(n))}function hl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vl.apply(void 0,[e].concat(n))}function dl(e,t,n){var r=Object.assign(Object.assign({},ol()),h({},t,n));return new ba("auth","Firebase",r).create(t,{appName:e.name})}function pl(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fl(e,"argument-error"),dl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Lt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Lt(o)))}return ul.create.apply(ul,[e].concat(n))}function ml(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vl.apply(void 0,[t].concat(r))}}function yl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ll(t),new Error(t)}function gl(e,t){e||yl(t)}function kl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bl(){return"http:"===wl()||"https:"===wl()}function wl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var xl=function(){function e(t,n){Mt(this,e),this.shortDelay=t,this.longDelay=n,gl(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())||va()}return Ut(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bl()||pa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _l(e,t){gl(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var El=function(){function e(){Mt(this,e)}return Ut(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Il=(h(Jc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(Jc,"MISSING_CUSTOM_TOKEN","internal-error"),h(Jc,"INVALID_IDENTIFIER","invalid-email"),h(Jc,"MISSING_CONTINUE_URI","internal-error"),h(Jc,"INVALID_PASSWORD","wrong-password"),h(Jc,"MISSING_PASSWORD","missing-password"),h(Jc,"EMAIL_EXISTS","email-already-in-use"),h(Jc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(Jc,"INVALID_IDP_RESPONSE","invalid-credential"),h(Jc,"INVALID_PENDING_TOKEN","invalid-credential"),h(Jc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(Jc,"MISSING_REQ_TYPE","internal-error"),h(Jc,"EMAIL_NOT_FOUND","user-not-found"),h(Jc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(Jc,"EXPIRED_OOB_CODE","expired-action-code"),h(Jc,"INVALID_OOB_CODE","invalid-action-code"),h(Jc,"MISSING_OOB_CODE","internal-error"),h(Jc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(Jc,"INVALID_ID_TOKEN","invalid-user-token"),h(Jc,"TOKEN_EXPIRED","user-token-expired"),h(Jc,"USER_NOT_FOUND","user-token-expired"),h(Jc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(Jc,"INVALID_CODE","invalid-verification-code"),h(Jc,"INVALID_SESSION_INFO","invalid-verification-id"),h(Jc,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(Jc,"MISSING_SESSION_INFO","missing-verification-id"),h(Jc,"SESSION_EXPIRED","code-expired"),h(Jc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(Jc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(Jc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(Jc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(Jc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(Jc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(Jc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(Jc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(Jc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(Jc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(Jc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),h(Jc,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),h(Jc,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),h(Jc,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),h(Jc,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),h(Jc,"MISSING_CLIENT_TYPE","missing-client-type"),h(Jc,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),h(Jc,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),h(Jc,"INVALID_REQ_TYPE","invalid-req-type"),Jc),Sl=new xl(3e4,6e4);function Tl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Cl(e,t,n,r){return Al.apply(this,arguments)}function Al(){return Al=fr(cr().mark((function e(t,n,r,i){var a,o=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Nl(t,a,fr(cr().mark((function e(){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Sa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",El.fetch()(Dl(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Nl(e,t,n){return Pl.apply(this,arguments)}function Pl(){return Pl=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Il),n),e.prev=2,a=new Ll(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ml(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Rt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ml(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Ml(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Ml(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw dl(t,d,h);case 34:fl(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ka)){e.next=41;break}throw e.t0;case 41:fl(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Pl.apply(this,arguments)}function Ol(e,t,n,r){return Rl.apply(this,arguments)}function Rl(){return Rl=fr(cr().mark((function e(t,n,r,i){var a,o,u=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Cl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Dl(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_l(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ll=function(){function e(t){var n=this;Mt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hl(n.auth,"network-request-failed"))}),Sl.get())}))}return Ut(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ml(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hl(e,t,r);return i.customData._tokenResponse=n,i}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function zl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kl(){return Kl=fr(cr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Fa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ml((a=Wl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ql(Gl(a.auth_time)),issuedAtTime:ql(Gl(a.iat)),expirationTime:ql(Gl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e){return 1e3*Number(e)}function Wl(e){var t=Rt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ll("JWT malformed, contained fewer than 3 sections"),null;try{var a=oa(r);return a?JSON.parse(a):(ll("Failed to decode base64 JWT payload"),null)}catch(o){return ll("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Hl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=fr(cr().mark((function e(t,n){var r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ka&&$l(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ql.apply(this,arguments)}function $l(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Jl=function(){function e(t){Mt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ut(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yl=function(){function e(t,n){Mt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ut(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xl(e){return Zl.apply(this,arguments)}function Zl(){return Zl=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Hl(t,zl(r,{idToken:i}));case 6:ml(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=$c(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=tf(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Yl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(){return(ef=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fa(t),e.next=3,Xl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Lt(n),Lt(t))}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t,{},fr(cr().mark((function e(){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Dl(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",El.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}var af=function(){function e(){Mt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ut(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ml(e.idToken,"internal-error"),ml("undefined"!==typeof e.idToken,"internal-error"),ml("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Wl(e);return ml(t,"internal-error"),ml("undefined"!==typeof t.exp,"internal-error"),ml("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=fr(cr().mark((function e(t){var n,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ml(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ml("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ml("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ml("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function of(e,t){ml("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var uf=function(){function e(t){Mt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$c(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Lt(a.providerData):[],this.metadata=new Yl(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ut(e,[{key:"getIdToken",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ml(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ef.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ml(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ml(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=fr(cr().mark((function e(t){var n,r,i=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Hl(this,Fl(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ml(k&&_,t,"internal-error");var E=af.fromJSON(this.name,_);ml("string"===typeof k,t,"internal-error"),of(f,t.name),of(h,t.name),ml("boolean"===typeof b,t,"internal-error"),ml("boolean"===typeof w,t,"internal-error"),of(d,t.name),of(p,t.name),of(v,t.name),of(m,t.name),of(y,t.name),of(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=fr(cr().mark((function t(n,r){var i,a,o,u=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new af).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),sf=new Map;function cf(e){gl(e instanceof Function,"Expected a class definition");var t=sf.get(e);return t?(gl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sf.set(e,t),t)}var lf=function(){function e(){Mt(this,e),this.type="NONE",this.storage={}}return Ut(e,[{key:"_isAvailable",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();lf.type="NONE";var ff=lf;function hf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var df=function(){function e(t,n,r){Mt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hf(this.userKey,a.apiKey,o),this.fullPersistenceKey=hf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ut(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?uf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=fr(cr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(cf(ff),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||cf(ff),u=hf(i,n.config.apiKey,n.name),s=null,c=Qt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=uf._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bf(t))return"Blackberry";if(wf(t))return"Webos";if(mf(t))return"Safari";if((t.includes("chrome/")||yf(t))&&!t.includes("edge/"))return"Chrome";if(kf(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/firefox\//i.test(e)}function mf(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/crios\//i.test(e)}function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/iemobile/i.test(e)}function kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/android/i.test(e)}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/blackberry/i.test(e)}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/webos/i.test(e)}function xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return xf(e)||kf(e)||wf(e)||bf(e)||/windows phone/i.test(e)||gf(e)}function Ef(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pf(ha());break;case"Worker":t="".concat(pf(ha()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ro,"/").concat(r)}function If(e){return Sf.apply(this,arguments)}function Sf(){return Sf=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cl(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"GET","/v2/recaptchaConfig",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Af(e){return void 0!==e&&void 0!==e.getResponse}function Nf(e){return void 0!==e&&void 0!==e.enterprise}var Pf=Ut((function e(t){if(Mt(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Of(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Rf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Df=function(){function e(t){Mt(this,e),this.type="recaptcha-enterprise",this.auth=jf(t)}return Ut(e,[{key:"verify",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Nf(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=fr(cr().mark((function e(n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Pf(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Nf(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Of("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lf(e,t,n){return Mf.apply(this,arguments)}function Mf(){return Mf=fr(cr().mark((function e(t,n,r){var i,a,o,u,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Df(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Mf.apply(this,arguments)}var Ff=function(){function e(t){Mt(this,e),this.auth=t,this.queue=[]}return Ut(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Qt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Qt(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch($){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Uf=function(){function e(t,n,r,i){Mt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vf(this),this.idTokenSubscription=new Vf(this),this.beforeStateQueue=new Ff(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ul,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Ut(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=cf(t)),this._initializationPromise=this.queue(fr(cr().mark((function r(){var i,a;return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,df.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ml(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Fa(t):null)&&ml(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=fr(cr().mark((function e(t){var n,r=this,i=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ml(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(cf(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tf(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Pf(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Df(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ba("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ml(n=t&&cf(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,df.create(this,[cf(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ml(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ml(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ef(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&cl("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jf(e){return Fa(e)}var Vf=function(){function e(t){var n=this;Mt(this,e),this.auth=t,this.observer=null,this.addObserver=Aa((function(e){return n.observer=e}))}return Ut(e,[{key:"next",get:function(){return ml(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function zf(e,t,n){var r=jf(e);ml(r._canInitEmulator,r,"emulator-config-failed"),ml(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Bf(t),o=function(e){var t=Bf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:qf(r.substr(a.length+1))}}var o=Rt(r.split(":"),2);return{host:o[0],port:qf(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qf(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Kf=function(){function e(t,n){Mt(this,e),this.providerId=t,this.signInMethod=n}return Ut(e,[{key:"toJSON",value:function(){return yl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yl("not implemented")}}]),e}();function Gf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:resetPassword",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:update",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithPassword",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return eh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:sendOobCode",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zf(t,n));case 1:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zf(t,n));case 1:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zf(t,n));case 1:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(e,t){return sh.apply(this,arguments)}function sh(){return sh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zf(t,n));case 1:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithEmailLink",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return hh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithEmailLink",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}var dh=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Mt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ut(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Lf(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Yf(t,i));case 11:return e.abrupt("return",Yf(t,r).catch(function(){var e=fr(cr().mark((function e(n){var i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Lf(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Yf(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",ch(t,{email:this._email,oobCode:this._password}));case 13:fl(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hf(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fh(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Kf);function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithIdp",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}var mh=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ut(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ph(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ph(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ph(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$c(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Kf);function yh(e,t){return gh.apply(this,arguments)}function gh(){return gh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:sendVerificationCode",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(){return kh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithPhoneNumber",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(){return bh=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(t,"POST","/v1/accounts:signInWithPhoneNumber",Tl(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ml(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}var wh=h({},"USER_NOT_FOUND","user-not-found");function xh(){return xh=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithPhoneNumber",Tl(t,r),wh));case 2:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}var _h=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ut(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return kh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return bh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Kf);var Eh=function(){function e(t){var n,r,i,a,o,u;Mt(this,e);var s=Ta(Ca(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ml(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ut(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ta(Ca(e)).link,n=t?Ta(Ca(t)).deep_link_id:null,r=Ta(Ca(e)).deep_link_id;return(r?Ta(Ca(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ih=function(){function e(){Mt(this,e),this.providerId=e.PROVIDER_ID}return Ut(e,null,[{key:"credential",value:function(e,t){return dh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Eh.parseLink(t);return ml(n,"argument-error"),dh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ih.PROVIDER_ID="password",Ih.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ih.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Sh=function(){function e(t){Mt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ut(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Th=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ut(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Lt(this.scopes)}}]),n}(Sh),Ch=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ml(e.idToken||e.accessToken,"argument-error"),mh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ml("providerId"in t&&"signInMethod"in t,"argument-error"),mh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Th),Ah=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.call(this,"facebook.com")}return Ut(n,null,[{key:"credential",value:function(e){return mh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Th);Ah.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ah.PROVIDER_ID="facebook.com";var Nh=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ut(n,null,[{key:"credential",value:function(e,t){return mh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Th);Nh.GOOGLE_SIGN_IN_METHOD="google.com",Nh.PROVIDER_ID="google.com";var Ph=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.call(this,"github.com")}return Ut(n,null,[{key:"credential",value:function(e){return mh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Th);Ph.GITHUB_SIGN_IN_METHOD="github.com",Ph.PROVIDER_ID="github.com";var Oh=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ut(n,[{key:"_getIdTokenResponse",value:function(e){return ph(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ph(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ph(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Kf),Rh=function(e){Vt(n,e);var t=Kt(n);function n(e){return Mt(this,n),ml(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ut(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Oh.fromJSON(e);return ml(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Oh._create(r,n)}catch(i){return null}}}]),n}(Sh),Dh=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.call(this,"twitter.com")}return Ut(n,null,[{key:"credential",value:function(e,t){return mh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Th);function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signUp",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}Dh.TWITTER_SIGN_IN_METHOD="twitter.com",Dh.PROVIDER_ID="twitter.com";var Fh=function(){function e(t){Mt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ut(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=fr(cr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,uf._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Uh(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=fr(cr().mark((function t(n,r,i){var a;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Uh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Uh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function jh(){return jh=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jf(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Fh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Lh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Fh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}var Vh=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o,u;return Mt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(qt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ut(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ka);function zh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vh._fromErrorAndOperation(e,n,t,r);throw n}))}function Bh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),e.next=3,Hh(!0,r,n);case 3:return e.t0=jl,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Bh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=fr(cr().mark((function e(t,n){var r,i,a=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Hl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Fh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Hh(e,t,n){return Qh.apply(this,arguments)}function Qh(){return(Qh=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(n);case 2:i=Bh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ml(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Hl(t,zh(i,a,n,t),r);case 6:return ml((o=e.sent).idToken,i,"internal-error"),ml(u=Wl(o.idToken),i,"internal-error"),s=u.sub,ml(t.uid===s,i,"user-mismatch"),e.abrupt("return",Fh._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&fl(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Jh.apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=fr(cr().mark((function e(t,n){var r,i,a,o,u=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,zh(t,i,n);case 4:return a=e.sent,e.next=7,Fh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return ed=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yh(jf(t),n));case 1:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t){return nd.apply(this,arguments)}function nd(){return(nd=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),e.next=3,Hh(!1,r,n.providerId);case 3:return e.abrupt("return",Gh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t){return id.apply(this,arguments)}function id(){return(id=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(Fa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(t,"POST","/v1/accounts:signInWithCustomToken",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(){return ud=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jf(t),e.next=3,ad(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Fh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}var sd=function(){function e(t,n){Mt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ut(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?cd._fromServerResponse(e,t):"totpInfo"in t?ld._fromServerResponse(e,t):fl(e,"internal-error")}}]),e}(),cd=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ut(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(sd),ld=function(e){Vt(n,e);var t=Kt(n);function n(e){return Mt(this,n),t.call(this,"totp",e)}return Ut(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(sd);function fd(e,t,n){var r;ml((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ml("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ml(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ml(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function hd(){return hd=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jf(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Lf(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&fd(a,u,r),e.next=9,rh(a,u);case 9:e.next=14;break;case 11:return r&&fd(a,o,r),e.next=14,rh(a,o).catch(function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Lf(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&fd(a,n,r),e.next=8,rh(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(){return dd=fr(cr().mark((function e(t,n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gf(Fa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(){return pd=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(Fa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return md=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),e.next=3,Gf(r,{oobCode:n});case 3:i=e.sent,ml(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ml(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ml(i.mfaInfo,r,"internal-error");case 13:ml(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=sd._fromServerResponse(jf(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(){return yd=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(Fa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t,n){return kd.apply(this,arguments)}function kd(){return kd=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jf(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Lf(a,o,"signUpPassword");case 5:s=e.sent,u=Lh(a,s),e.next=10;break;case 9:u=Lh(a,o).catch(function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Lf(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Lh(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Fh._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(){return bd=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){ml(t.handleCodeInApp,a,"argument-error"),t&&fd(a,e,t)},a=jf(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Lf(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,ah(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,ah(a,o).catch(function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Lf(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,ah(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(){return wd=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),ml((a=Ih.credentialWithLink(n,r||kl()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Zh(i,a));case 4:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(e,t){return _d.apply(this,arguments)}function _d(){return _d=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:createAuthUri",Tl(t,n)));case 1:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function Ed(){return Ed=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bl()?kl():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xd(Fa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ed.apply(this,arguments)}function Id(){return(Id=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fd(r.auth,a,n),e.next=8,th(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(){return(Sd=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fd(i.auth,o,r),e.next=8,uh(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Ad(){return(Ad=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Fa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Hl(a,Td(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(e,t,n){return Pd.apply(this,arguments)}function Pd(){return Pd=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Hl(t,Hf(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}var Od=Ut((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Rd=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return Mt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ut(n)}(Od),Dd=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"facebook.com",r)}return Ut(n)}(Od),Ld=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ut(n)}(Rd),Md=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"google.com",r)}return Ut(n)}(Od),Fd=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){return Mt(this,n),t.call(this,e,"twitter.com",r,i)}return Ut(n)}(Rd);function Ud(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Wl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Od(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Dd(a,i);case"github.com":return new Ld(a,i);case"google.com":return new Md(a,i);case"twitter.com":return new Fd(a,i,e.screenName||null);case"custom":case"anonymous":return new Od(a,null);default:return new Od(a,r,i)}}(n)}var jd=function(){function e(t,n,r){Mt(this,e),this.type=t,this.credential=n,this.user=r}return Ut(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Vd=function(){function e(t,n,r){Mt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ut(e,[{key:"resolveSignIn",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jf(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return sd._fromServerResponse(r,e)}));ml(i.mfaPendingCredential,r,"internal-error");var o=jd._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=fr(cr().mark((function e(t){var a,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Fh._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ml(n.user,r,"internal-error"),e.abrupt("return",Fh._forOperation(n.user,n.operationType,u));case 17:fl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function zd(e,t){return Cl(e,"POST","/v2/accounts/mfaEnrollment:start",Tl(e,t))}function Bd(e,t){return Cl(e,"POST","/v2/accounts/mfaEnrollment:start",Tl(e,t))}function qd(e,t){return Cl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tl(e,t))}function Kd(e,t){return Cl(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Tl(e,t))}var Gd=function(){function e(t){var n=this;Mt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return sd._fromServerResponse(t.auth,e)})))}))}return Ut(e,[{key:"getSession",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jd,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Hl(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Hl(this.user,Kd(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wd=new WeakMap;var Hd="__sak",Qd=function(){function e(t,n){Mt(this,e),this.storageRetriever=t,this.type=n}return Ut(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $d=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ha();return mf(e)||xf(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_f(),e._shouldAllowMigration=!0,e}return Ut(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ma()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(zt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(zt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(zt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qd);$d.type="LOCAL";var Jd=$d,Yd=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ut(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Qd);Yd.type="SESSION";var Xd=Yd;function Zd(e){return Promise.all(e.map(function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ep=function(){function e(t){Mt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ut(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Zd(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function tp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ep.receivers=[];var np=function(){function e(t){Mt(this,e),this.target=t,this.handlers=new Set}return Ut(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=tp("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function rp(){return window}function ip(e){rp().location.href=e}function ap(){return"undefined"!==typeof rp().WorkerGlobalScope&&"function"===typeof rp().importScripts}function op(){return up.apply(this,arguments)}function up(){return(up=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var cp="firebaseLocalStorageDb",lp="firebaseLocalStorage",fp="fbase_key",hp=function(){function e(t){Mt(this,e),this.request=t}return Ut(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function dp(e,t){return e.transaction([lp],t?"readwrite":"readonly").objectStore(lp)}function pp(){var e=indexedDB.deleteDatabase(cp);return new hp(e).toPromise()}function vp(){var e=indexedDB.open(cp,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(lp,{keyPath:fp})}catch(r){n(r)}})),e.addEventListener("success",fr(cr().mark((function n(){var r;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(lp)){n.next=12;break}return r.close(),n.next=5,pp();case 5:return n.t0=t,n.next=8,vp();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function mp(e,t,n){return yp.apply(this,arguments)}function yp(){return yp=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dp(t,!0).put((h(i={},fp,n),h(i,"value",r),i)),e.abrupt("return",new hp(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t){return kp.apply(this,arguments)}function kp(){return kp=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dp(t,!1).get(n),e.next=3,new hp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t){var n=dp(e,!0).delete(t);return new hp(n).toPromise()}var wp=function(){function e(){Mt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ut(e,[{key:"_openDb",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,vp();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ap()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ep._getInstance(ap()?self:null),this.receiver._subscribe("keyChanged",function(){var e=fr(cr().mark((function e(n,r){var i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=fr(cr().mark((function e(){var t,n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new np(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sp()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,vp();case 5:return t=e.sent,e.next=8,mp(t,Hd,"1");case 8:return e.next=10,bp(t,Hd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fr(cr().mark((function e(t,n){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return mp(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return gp(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return bp(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=dp(e,!1).getAll();return new hp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Qt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();wp.type="LOCAL";var xp=wp;function _p(e,t){return Cl(e,"POST","/v2/accounts/mfaSignIn:start",Tl(e,t))}function Ep(e,t){return Cl(e,"POST","/v2/accounts/mfaSignIn:finalize",Tl(e,t))}var Ip=1e12,Sp=function(){function e(t){Mt(this,e),this.auth=t,this.counter=Ip,this._widgets=new Map}return Ut(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Tp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ip;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ip;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ip,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tp=function(){function e(t,n,r){var i=this;Mt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ml(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ut(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Cp=Rf("rcb"),Ap=new xl(3e4,6e4),Np=function(){function e(){var t;Mt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=rp().grecaptcha)||void 0===t?void 0:t.render)}return Ut(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ml(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Af(rp().grecaptcha)?Promise.resolve(rp().grecaptcha):new Promise((function(r,i){var a=rp().setTimeout((function(){i(hl(e,"network-request-failed"))}),Ap.get());rp()[Cp]=function(){rp().clearTimeout(a),delete rp()[Cp];var o=rp().grecaptcha;if(o&&Af(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(hl(e,"internal-error"))},Of("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Sa({onload:Cp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(hl(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=rp().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Pp=function(){function e(){Mt(this,e)}return Ut(e,[{key:"load",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Sp(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Op="recaptcha",Rp={theme:"light",type:"image"},Dp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Rp);Mt(this,e),this.parameters=r,this.type=Op,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jf(t),this.isInvisible="invisible"===this.parameters.size,ml("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;ml(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pp:new Np,this.validateStartingState()}return Ut(e,[{key:"verify",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ml(!this.parameters.sitekey,this.auth,"argument-error"),ml(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ml("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=rp()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ml(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml(bl()&&!ap(),this.auth,"internal-error"),e.next=3,Lp();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,If(this.auth);case 8:ml(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ml(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Lp(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Mp=function(){function e(t,n){Mt(this,e),this.verificationId=t,this.onConfirmation=n}return Ut(e,[{key:"confirm",value:function(e){var t=_h._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Fp(){return Fp=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jf(t),e.next=3,zp(i,n,Fa(r));case 3:return a=e.sent,e.abrupt("return",new Mp(a,(function(e){return Zh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Up(e,t,n){return jp.apply(this,arguments)}function jp(){return(jp=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.next=3,Hh(!1,i,"phone");case 3:return e.next=5,zp(i.auth,n,Fa(r));case 5:return a=e.sent,e.abrupt("return",new Mp(a,(function(e){return td(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(){return(Vp=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.next=3,zp(i.auth,n,Fa(r));case 3:return a=e.sent,e.abrupt("return",new Mp(a,(function(e){return rd(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zp(e,t,n){return Bp.apply(this,arguments)}function Bp(){return Bp=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ml("string"===typeof a,t,"argument-error"),ml(r.type===Op,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ml("enroll"===u.type,t,"internal-error"),e.next=13,zd(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ml("signin"===u.type,t,"internal-error"),ml(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_p(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,yh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Bp.apply(this,arguments)}function qp(){return(qp=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gh(Fa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kp=function(){function e(t){Mt(this,e),this.providerId=e.PROVIDER_ID,this.auth=jf(t)}return Ut(e,[{key:"verifyPhoneNumber",value:function(e,t){return zp(this.auth,e,Fa(t))}}],[{key:"credential",value:function(e,t){return _h._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_h._fromTokenResponse(n,r):null}}]),e}();function Gp(e,t){return t?cf(t):(ml(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kp.PROVIDER_ID="phone",Kp.PHONE_SIGN_IN_METHOD="phone";var Wp=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ut(n,[{key:"_getIdTokenResponse",value:function(e){return ph(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ph(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ph(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Kf);function Hp(e){return Yh(e.auth,new Wp(e),e.bypassAuthState)}function Qp(e){var t=e.auth,n=e.user;return ml(n,t,"internal-error"),$h(n,new Wp(e),e.bypassAuthState)}function $p(e){return Jp.apply(this,arguments)}function Jp(){return Jp=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ml(r=t.user,n,"internal-error"),e.abrupt("return",Gh(r,new Wp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}var Yp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Mt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ut(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=fr(cr().mark((function t(n,r){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=fr(cr().mark((function e(t){var n,r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hp;case"linkViaPopup":case"linkViaRedirect":return $p;case"reauthViaPopup":case"reauthViaRedirect":return Qp;default:fl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xp=new xl(2e3,1e4);function Zp(e,t,n){return ev.apply(this,arguments)}function ev(){return ev=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jf(t),pl(t,n,Sh),a=Gp(i,r),o=new iv(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ev.apply(this,arguments)}function tv(){return(tv=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pl((i=Fa(t)).auth,n,Sh),a=Gp(i.auth,r),o=new iv(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nv(e,t,n){return rv.apply(this,arguments)}function rv(){return(rv=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pl((i=Fa(t)).auth,n,Sh),a=Gp(i.auth,r),o=new iv(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iv=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o){var u;return Mt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=qt(u),u}return Ut(n,[{key:"executeNotNull",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ml(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fr(cr().mark((function e(){var t,n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(1===this.filter.length,"Popup operations only handle one event"),t=tp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hl(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hl(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Xp.get())}()}}]),n}(Yp);iv.currentPopupAction=null;var av="pendingRedirect",ov=new Map,uv=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Mt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ut(n,[{key:"execute",value:function(){var e=fr(cr().mark((function e(){var t,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ov.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,sv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Qc(zt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ov.set(this.auth._key(),t);case 21:return this.bypassAuthState||ov.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=fr(cr().mark((function e(t){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Qc(zt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Qc(zt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yp);function sv(e,t){return cv.apply(this,arguments)}function cv(){return cv=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pv(n),i=dv(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t)._set(pv(n),"true"));case 1:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t){ov.set(e._key(),t)}function dv(e){return cf(e._redirectPersistence)}function pv(e){return hf(av,e.config.apiKey,e.name)}function vv(e,t,n){return function(e,t,n){return mv.apply(this,arguments)}(e,t,n)}function mv(){return mv=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jf(t),pl(t,n,Sh),e.next=4,i._initializationPromise;case 4:return a=Gp(i,r),e.next=7,lv(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}function yv(e,t,n){return function(e,t,n){return gv.apply(this,arguments)}(e,t,n)}function gv(){return(gv=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pl((i=Fa(t)).auth,n,Sh),e.next=4,i.auth._initializationPromise;case 4:return a=Gp(i.auth,r),e.next=7,lv(a,i.auth);case 7:return e.next=9,Iv(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kv(e,t,n){return function(e,t,n){return bv.apply(this,arguments)}(e,t,n)}function bv(){return(bv=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pl((i=Fa(t)).auth,n,Sh),e.next=4,i.auth._initializationPromise;case 4:return a=Gp(i.auth,r),e.next=7,Hh(!1,i,n.providerId);case 7:return e.next=9,lv(a,i.auth);case 9:return e.next=11,Iv(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e,t){return xv.apply(this,arguments)}function xv(){return xv=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(t)._initializationPromise;case 2:return e.abrupt("return",_v(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function _v(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=fr(cr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jf(t),a=Gp(i,n),o=new uv(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Iv(e){return Sv.apply(this,arguments)}function Sv(){return(Sv=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tv=function(){function e(t){Mt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ut(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Av(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Av(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Cv(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Cv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Av(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Nv(e){return Pv.apply(this,arguments)}function Pv(){return Pv=fr(cr().mark((function e(t){var n,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Cl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}var Ov=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rv=/^https?/;function Dv(){return Dv=fr(cr().mark((function e(t){var n,r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nv(t);case 4:n=e.sent,r=n.authorizedDomains,i=Qt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Lv(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Dv.apply(this,arguments)}function Lv(e){var t=kl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rv.test(r))return!1;if(Ov.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Mv=new xl(3e4,6e4);function Fv(){var e=rp().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Lt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Uv=null;function jv(e){return Uv=Uv||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fv(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fv(),n(hl(e,"network-request-failed"))},timeout:Mv.get()})}if(null===(i=null===(r=rp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=rp().gapi)||void 0===a?void 0:a.load)){var u=Rf("iframefcb");return rp()[u]=function(){gapi.load?o():n(hl(e,"network-request-failed"))},Of("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Uv=null,e}))}(e),Uv}var Vv=new xl(5e3,15e3),zv="__/auth/iframe",Bv="emulator/auth/iframe",qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gv(e){var t=e.config;ml(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_l(t,Bv):"https://".concat(e.config.authDomain,"/").concat(zv),r={apiKey:t.apiKey,appName:e.name,v:Ro},i=Kv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Sa(r).slice(1))}function Wv(e){return Hv.apply(this,arguments)}function Hv(){return Hv=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jv(t);case 2:return n=e.sent,ml(r=rp().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qv,dontclear:!0},(function(e){return new Promise(function(){var n=fr(cr().mark((function n(r,i){var a,o,u;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){rp().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=hl(t,"network-request-failed"),o=rp().setTimeout((function(){i(a)}),Vv.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}var Qv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$v=function(){function e(t){Mt(this,e),this.window=t,this.associatedEvent=null}return Ut(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Jv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Qv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ha().toLowerCase();n&&(u=yf(c)?"_blank":n),vf(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Rt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return xf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new $v(null);var f=window.open(t||"",u,l);ml(f,e,"popup-blocked");try{f.focus()}catch(h){}return new $v(f)}var Yv="__/auth/handler",Xv="emulator/auth/handler",Zv=encodeURIComponent("fac");function em(e,t,n,r,i,a){return tm.apply(this,arguments)}function tm(){return tm=fr(cr().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,m,y,g,k;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ml(t.config.authDomain,t,"auth-domain-config-required"),ml(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ro,eventId:a},n instanceof Sh)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",_a(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=Rt(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Th&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(Zv,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(nm(t),"?").concat(Sa(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e){var t=e.config;return t.emulator?_l(t,Xv):"https://".concat(t.authDomain,"/").concat(Yv)}var rm="webStorageSupport",im=function(){function e(){Mt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xd,this._completeRedirectFn=_v,this._overrideRedirectResult=hv}return Ut(e,[{key:"_openPopup",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,em(t,n,r,kl(),i);case 3:return o=e.sent,e.abrupt("return",Jv(t,o,tp()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,em(t,n,r,kl(),i);case 4:return ip(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(gl(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wv(t);case 2:return n=e.sent,r=new Tv(t),n.register("authEvent",(function(e){return ml(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rm,{type:rm},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[rm];void 0!==i&&t(!!i),fl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _f()||mf()||xf()}}]),e}(),am=im,om=function(){function e(t){Mt(this,e),this.factorId=t}return Ut(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yl("unexpected MultiFactorSessionType")}}}]),e}(),um=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this,"phone")).credential=e,r}return Ut(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Cl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Cl(e,"POST","/v2/accounts/mfaSignIn:finalize",Tl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(om),sm=function(){function e(){Mt(this,e)}return Ut(e,null,[{key:"assertion",value:function(e){return um._fromCredential(e)}}]),e}();sm.FACTOR_ID="phone";var cm=function(){function e(){Mt(this,e)}return Ut(e,null,[{key:"assertionForEnrollment",value:function(e,t){return lm._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return lm._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Bd(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",fm._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();cm.FACTOR_ID="totp";var lm=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Ut(n,[{key:"_finalizeEnroll",value:function(){var e=fr(cr().mark((function e(t,n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",qd(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ep(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(om),fm=function(){function e(t,n,r,i,a,o,u){Mt(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Ut(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(hm(e)||hm(t))&&(r=!0),r&&(hm(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),hm(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function hm(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var dm="@firebase/auth",pm="1.0.0",vm=function(){function e(t){Mt(this,e),this.auth=t,this.internalListeners=new Map}return Ut(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ml(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var mm;!function(e){var t;null===(t=ca())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function ym(){return window}mm="Browser",So(new Ua("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;ml(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:mm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ef(mm)},l=new Uf(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),So(new Ua("auth-internal",(function(e){return function(e){return new vm(e)}(jf(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),jo(dm,pm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(mm)),jo(dm,pm,"esm2017");var gm=2e3;function km(e,t,n){return bm.apply(this,arguments)}function bm(){return bm=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ym(),o=a.BuildInfo,gl(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Sm(n.sessionId);case 4:return u=e.sent,s={},xf()?s.ibi=o.packageName:kf()?s.apn=o.packageName:fl(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",em(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(){return wm=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ym(),r=n.BuildInfo,i={},xf()?i.iosBundleId=r.packageName:kf()?i.androidPackageName=r.packageName:fl(t,"operation-not-supported-in-this-environment"),e.next=5,Nv(t,i);case 5:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e){var t=ym().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function _m(e,t,n){return Em.apply(this,arguments)}function Em(){return Em=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ym(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(hl(t,"redirect-cancelled-by-user"))}),gm))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),kf()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Em.apply(this,arguments)}function Im(e){var t,n,r,i,a,o,u,s,c,l,f=ym();ml("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ml("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ml("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ml("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ml("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Sm(e){return Tm.apply(this,arguments)}function Tm(){return(Tm=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cm(e){if(gl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Am=20,Nm=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ut(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Qc(zt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Tv);function Pm(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Mm(),postBody:null,tenantId:e.tenantId,error:hl(e,"no-auth-event")}}function Om(e,t){return Fm()._set(Um(e),t)}function Rm(e){return Dm.apply(this,arguments)}function Dm(){return Dm=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm()._get(Um(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Fm()._remove(Um(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Lm(e,t){var n,r,i=function(e){var t=jm(e),n=t.link?decodeURIComponent(t.link):void 0,r=jm(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jm(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=jm(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?hl(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Mm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Am;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Fm(){return cf(Jd)}function Um(e){return hf("authEvent",e.config.apiKey,e.name)}function jm(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Ht(e.split("?"));t[0];return Ta(t.slice(1).join("?"))}var Vm=function(){function e(){Mt(this,e),this._redirectPersistence=Xd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_v,this._overrideRedirectResult=hv}return Ut(e,[{key:"_initialize",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Nm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Im(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ov.clear(),e.next=10,this._originValidation(t);case 10:return o=Pm(t,r,i),e.next=13,Om(t,o);case 13:return e.next=15,km(t,o,n);case 15:return u=e.sent,e.next=18,xm(u);case 18:return s=e.sent,e.abrupt("return",_m(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return wm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ym(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rm(e);case 2:t.onEvent(Bm());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=fr(cr().mark((function n(r){var i,a;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Rm(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Lm(i,r.url)),t.onEvent(a||Bm());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");ym().handleOpenURL=function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),zm=Vm;function Bm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hl("no-auth-event")}}var qm=1e3;function Km(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return!("file:"!==Km()&&"ionic:"!==Km()&&"capacitor:"!==Km()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return ma()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return/Edge\/\d+/.test(e)}(e)}function Hm(){try{var e=self.localStorage,t=tp();if(e)return e.setItem(t,"1"),e.removeItem(t),!Wm()||ya()}catch(n){return Qm()&&ya()}return!1}function Qm(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function $m(){return("http:"===Km()||"https:"===Km()||pa()||Gm())&&!(va()||da())&&Hm()&&!Qm()}function Jm(){return Gm()&&"undefined"!==typeof document}function Ym(){return Xm.apply(this,arguments)}function Xm(){return(Xm=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jm()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),qm);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zm={LOCAL:"local",NONE:"none",SESSION:"session"},ey=ml,ty="persistence";function ny(e,t){ey(Object.values(Zm).includes(t),e,"invalid-persistence-type"),va()?ey(t!==Zm.SESSION,e,"unsupported-persistence-type"):da()?ey(t===Zm.NONE,e,"unsupported-persistence-type"):Qm()?ey(t===Zm.NONE||t===Zm.LOCAL&&ya(),e,"unsupported-persistence-type"):ey(t===Zm.NONE||Hm(),e,"unsupported-persistence-type")}function ry(e){return iy.apply(this,arguments)}function iy(){return iy=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ay(),r=hf(ty,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var oy=ml,uy=function(){function e(){Mt(this,e),this.browserResolver=cf(am),this.cordovaResolver=cf(zm),this.underlyingResolver=null,this._redirectPersistence=Xd,this._completeRedirectFn=_v,this._overrideRedirectResult=hv}return Ut(e,[{key:"_initialize",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fr(cr().mark((function e(t,n,r,i){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Jm()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return oy(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ym();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sy(e){return e.unwrap()}function cy(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new py(e,function(e,t){var n,r=Fa(e),i=t;return ml(t.customData.operationType,r,"argument-error"),ml(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Vd._fromError(r,i)}(e,t));else if(r){var i=ly(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ly(e){var t=(e instanceof ka?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ka)&&"temporaryProof"in t&&"phoneNumber"in t)return Kp.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Yc.PASSWORD)return null;switch(r){case Yc.GOOGLE:n=Nh;break;case Yc.FACEBOOK:n=Ah;break;case Yc.GITHUB:n=Ph;break;case Yc.TWITTER:n=Dh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Oh._create(r,u):mh._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ch(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ka?n.credentialFromError(e):n.credentialFromResult(e)}function fy(e,t){return t.catch((function(t){throw t instanceof ka&&cy(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ly(t)),additionalUserInfo:Ud(e),user:vy.getOrCreate(r)}}))}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return fy(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}var py=function(){function e(t,n){Mt(this,e),this.resolver=n,this.auth=t.wrapped()}return Ut(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return fy(sy(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),vy=function(){function e(t){Mt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Fa(e);return Wd.has(t)||Wd.set(t,Gd._fromUser(t)),Wd.get(t)}(t)}return Ut(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fy(this.auth,td(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hy(this.auth,Up(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fy(this.auth,nv(this._delegate,t,uy)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(jf(this.auth));case 2:return e.abrupt("return",kv(this._delegate,t,uy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fy(this.auth,rd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return hy(this.auth,function(e,t,n){return Vp.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return fy(this.auth,function(e,t,n){return tv.apply(this,arguments)}(this._delegate,e,uy))}},{key:"reauthenticateWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(jf(this.auth));case 2:return e.abrupt("return",yv(this._delegate,t,uy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Id.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Nd(Fa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Nd(Fa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return qp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ad.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Sd.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();vy.USER_MAP=new WeakMap;var my=ml,yy=function(){function e(t,n){if(Mt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;my(r,"invalid-api-key",{appName:t.name}),my(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?uy:void 0;this._delegate=n.initialize({options:{persistence:ky(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(al),this.linkUnderlyingAuth()}return Ut(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?vy.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){zf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return pd.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return vd(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return dd.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fy(this._delegate,gd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ed.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Eh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my($m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wv(this._delegate,uy);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",fy(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jf(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=gy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=gy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return bd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return hd.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ny(this._delegate,t),e.t0=t,e.next=e.t0===Zm.SESSION?4:e.t0===Zm.LOCAL?6:e.t0===Zm.NONE?11:13;break;case 4:return n=Xd,e.abrupt("break",14);case 6:return e.next=8,cf(xp)._isAvailable();case 8:return r=e.sent,n=r?xp:Jd,e.abrupt("break",14);case 11:return n=ff,e.abrupt("break",14);case 13:return e.abrupt("return",fl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return fy(this._delegate,function(e){return jh.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return fy(this._delegate,Zh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return fy(this._delegate,function(e,t){return ud.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return fy(this._delegate,function(e,t,n){return Zh(Fa(e),Ih.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return fy(this._delegate,function(e,t,n){return wd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return hy(this._delegate,function(e,t,n){return Fp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my($m(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",fy(this._delegate,Zp(this._delegate,t,uy)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my($m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ry(this._delegate);case 3:return e.abrupt("return",vv(this._delegate,t,uy));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return yd.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function gy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&vy.getOrCreate(e))},error:t,complete:n}}function ky(e,t){var n=function(e,t){var n=ay();if(!n)return[];var r=hf(ty,e,t);switch(n.getItem(r)){case Zm.NONE:return[ff];case Zm.LOCAL:return[xp,Xd];case Zm.SESSION:return[Xd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xp)||n.push(xp),"undefined"!==typeof window)for(var r=0,i=[Jd,Xd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ff)||n.push(ff),n}yy.Persistence=Zm;var by=function(){function e(){Mt(this,e),this.providerId="phone",this._delegate=new Kp(sy(Hc.auth()))}return Ut(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Kp.credential(e,t)}}]),e}();by.PHONE_SIGN_IN_METHOD=Kp.PHONE_SIGN_IN_METHOD,by.PROVIDER_ID=Kp.PROVIDER_ID;var wy=ml,xy=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hc.app();Mt(this,e),wy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Dp(i.auth(),t,n),this.type=this._delegate.type}return Ut(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ua("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yy(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xc,PASSWORD_RESET:Zc,RECOVER_EMAIL:el,REVERT_SECOND_FACTOR_ADDITION:tl,VERIFY_AND_CHANGE_EMAIL:nl,VERIFY_EMAIL:rl}},EmailAuthProvider:Ih,FacebookAuthProvider:Ah,GithubAuthProvider:Ph,GoogleAuthProvider:Nh,OAuthProvider:Ch,SAMLAuthProvider:Rh,PhoneAuthProvider:by,PhoneMultiFactorGenerator:sm,RecaptchaVerifier:xy,TwitterAuthProvider:Dh,Auth:yy,AuthCredential:Kf,Error:ka}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.3")}(Hc);var _y,Ey="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Iy={},Sy=Sy||{},Ty=Ey||self;function Cy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ay(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ny="closure_uid_"+(1e9*Math.random()>>>0),Py=0;function Oy(e,t,n){return e.call.apply(e.bind,arguments)}function Ry(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dy(e,t,n){return(Dy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oy:Ry).apply(null,arguments)}function Ly(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function My(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Fy(){this.s=this.s,this.o=this.o}Fy.prototype.s=!1,Fy.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ny)&&e[Ny]||(e[Ny]=++Py)}(this)},Fy.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Uy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function jy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vy(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Cy(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zy.prototype.h=function(){this.defaultPrevented=!0};var By=function(){if(!Ty.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ty.addEventListener("test",(function(){}),t),Ty.removeEventListener("test",(function(){}),t)}catch(j){}return e}();function qy(e){return/^[\s\xa0]*$/.test(e)}function Ky(){var e=Ty.navigator;return e&&(e=e.userAgent)?e:""}function Gy(e){return-1!=Ky().indexOf(e)}function Wy(e){return Wy[" "](e),e}Wy[" "]=function(){};var Hy,Qy,$y=Gy("Opera"),Jy=Gy("Trident")||Gy("MSIE"),Yy=Gy("Edge"),Xy=Yy||Jy,Zy=Gy("Gecko")&&!(-1!=Ky().toLowerCase().indexOf("webkit")&&!Gy("Edge"))&&!(Gy("Trident")||Gy("MSIE"))&&!Gy("Edge"),eg=-1!=Ky().toLowerCase().indexOf("webkit")&&!Gy("Edge");function tg(){var e=Ty.document;return e?e.documentMode:void 0}e:{var ng="",rg=function(){var e=Ky();return Zy?/rv:([^\);]+)(\)|;)/.exec(e):Yy?/Edge\/([\d\.]+)/.exec(e):Jy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eg?/WebKit\/(\S+)/.exec(e):$y?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rg&&(ng=rg?rg[1]:""),Jy){var ig=tg();if(null!=ig&&ig>parseFloat(ng)){Hy=String(ig);break e}}Hy=ng}if(Ty.document&&Jy){var ag=tg();Qy=ag||(parseInt(Hy,10)||void 0)}else Qy=void 0;var og=Qy;function ug(e,t){if(zy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zy){e:{try{Wy(t.nodeName);var i=!0;break e}catch(U){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ug.$.h.call(this)}}My(ug,zy);var sg={2:"touch",3:"pen",4:"mouse"};ug.prototype.h=function(){ug.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cg="closure_listenable_"+(1e6*Math.random()|0),lg=0;function fg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++lg,this.fa=this.ia=!1}function hg(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function dg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pg(e){var t={};for(var n in e)t[n]=e[n];return t}var vg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vg.length;a++)n=vg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yg(e){this.src=e,this.g={},this.h=0}function gg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Uy(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function kg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}yg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=kg(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new fg(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var bg="closure_lm_"+(1e6*Math.random()|0),wg={};function xg(e,t,n,r,i){if(r&&r.once)return Eg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xg(e,t[a],n,r,i);return null}return n=Pg(n),e&&e[cg]?e.O(t,n,Ay(r)?!!r.capture:!!r,i):_g(e,t,n,!1,r,i)}function _g(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ay(i)?!!i.capture:!!i,u=Ag(e);if(u||(e[bg]=u=new yg(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Cg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)By||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Eg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Eg(e,t[a],n,r,i);return null}return n=Pg(n),e&&e[cg]?e.P(t,n,Ay(r)?!!r.capture:!!r,i):_g(e,t,n,!0,r,i)}function Ig(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ig(e,t[a],n,r,i);else r=Ay(r)?!!r.capture:!!r,n=Pg(n),e&&e[cg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=kg(a=e.g[t],n,r,i))&&(hg(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ag(e))&&(t=e.g[t.toString()],e=-1,t&&(e=kg(t,n,r,i)),(n=-1<e?t[e]:null)&&Sg(n))}function Sg(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[cg])gg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ag(t))?(gg(n,e),0==n.h&&(n.src=null,t[bg]=null)):hg(e)}}}function Tg(e){return e in wg?wg[e]:wg[e]="on"+e}function Cg(e,t){if(e.fa)e=!0;else{t=new ug(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Sg(e),e=n.call(r,t)}return e}function Ag(e){return(e=e[bg])instanceof yg?e:null}var Ng="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pg(e){return"function"===typeof e?e:(e[Ng]||(e[Ng]=function(t){return e.handleEvent(t)}),e[Ng])}function Og(){Fy.call(this),this.i=new yg(this),this.S=this,this.J=null}function Rg(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new zy(t,e);else if(t instanceof zy)t.target=t.target||e;else{var i=t;mg(t=new zy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dg(o,r,!0,t)&&i}if(i=Dg(o=t.g=e,r,!0,t)&&i,i=Dg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dg(o=t.g=n[a],r,!1,t)&&i}function Dg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&gg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}My(Og,Fy),Og.prototype[cg]=!0,Og.prototype.removeEventListener=function(e,t,n,r){Ig(this,e,t,n,r)},Og.prototype.N=function(){if(Og.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hg(n[r]);delete t.g[e],t.h--}}this.J=null},Og.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Og.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Lg=Ty.JSON.stringify,Mg=function(){function e(t,n){Mt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ut(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Fg(){var e=Gg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ug=function(){function e(){Mt(this,e),this.h=this.g=null}return Ut(e,[{key:"add",value:function(e,t){var n=jg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jg=new Mg((function(){return new Vg}),(function(e){return e.reset()})),Vg=function(){function e(){Mt(this,e),this.next=this.g=this.h=null}return Ut(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function zg(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Bg(e){Ty.setTimeout((function(){throw e}),0)}var qg,Kg=!1,Gg=new Ug,Wg=function(){var e=Ty.Promise.resolve(void 0);qg=function(){e.then(Hg)}},Hg=function(){for(var e;e=Fg();){try{e.h.call(e.g)}catch(j){Bg(j)}var t=jg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kg=!1};function Qg(e,t){Og.call(this),this.h=e||1,this.g=t||Ty,this.j=Dy(this.qb,this),this.l=Date.now()}function $g(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jg(e,t,n){if("function"===typeof e)n&&(e=Dy(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dy(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ty.setTimeout(e,t||0)}function Yg(e){e.g=Jg((function(){e.g=null,e.i&&(e.i=!1,Yg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}My(Qg,Og),(_y=Qg.prototype).ga=!1,_y.T=null,_y.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rg(this,"tick"),this.ga&&($g(this),this.start()))}},_y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_y.N=function(){Qg.$.N.call(this),$g(this),delete this.g};var Xg=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ut(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Yg(this)}},{key:"N",value:function(){Qc(zt(n.prototype),"N",this).call(this),this.g&&(Ty.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Fy);function Zg(e){Fy.call(this),this.h=e,this.g={}}My(Zg,Fy);var ek=[];function tk(e,t,n,r){Array.isArray(n)||(n&&(ek[0]=n.toString()),n=ek);for(var i=0;i<n.length;i++){var a=xg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nk(e){dg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Sg(e)}),e),e.g={}}function rk(){this.g=!0}function ik(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Lg(n)}catch(P){return t}}(e,n)+(r?" "+r:"")}))}Zg.prototype.N=function(){Zg.$.N.call(this),nk(this)},Zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rk.prototype.Ea=function(){this.g=!1},rk.prototype.info=function(){};var ak={},ok=null;function uk(){return ok=ok||new Og}function sk(e){zy.call(this,ak.Ta,e)}function ck(e){var t=uk();Rg(t,new sk(t))}function lk(e,t){zy.call(this,ak.STAT_EVENT,e),this.stat=t}function fk(e){var t=uk();Rg(t,new lk(t,e))}function hk(e,t){zy.call(this,ak.Ua,e),this.size=t}function dk(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ty.setTimeout((function(){e()}),t)}ak.Ta="serverreachability",My(sk,zy),ak.STAT_EVENT="statevent",My(lk,zy),ak.Ua="timingevent",My(hk,zy);var pk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mk(){}function yk(e){return e.h||(e.h=e.i())}function gk(){}mk.prototype.h=null;var kk,bk={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wk(){zy.call(this,"d")}function xk(){zy.call(this,"c")}function _k(){}function Ek(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zg(this),this.P=Sk,e=Xy?125:void 0,this.V=new Qg(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ik}function Ik(){this.i=null,this.g="",this.h=!1}My(wk,zy),My(xk,zy),My(_k,mk),_k.prototype.g=function(){return new XMLHttpRequest},_k.prototype.i=function(){return{}},kk=new _k;var Sk=45e3,Tk={},Ck={};function Ak(e,t,n){e.L=1,e.v=Qk(qk(t)),e.s=n,e.S=!0,Nk(e,null)}function Nk(e,t){e.G=Date.now(),Dk(e),e.A=qk(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ub(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ik,e.g=uw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Xg(Dy(e.Pa,e,e.g),e.O)),tk(e.U,e.g,"readystatechange",e.nb),t=e.I?pg(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ck(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Pk(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ok(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Rk(e,n))==Ck){4==t&&(e.o=4,fk(14),i=!1),ik(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tk){e.o=4,fk(15),ik(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ik(e.j,e.m,r,null),jk(e,r)}Pk(e)&&r!=Ck&&r!=Tk&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fk(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zb(t),t.M=!0,fk(11))):(ik(e.j,e.m,n,"[Invalid Chunked Response]"),Uk(e),Fk(e))}function Rk(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ck:(n=Number(t.substring(n,r)),isNaN(n)?Tk:(r+=1)+n>t.length?Ck:(t=t.slice(r,r+n),e.C=r+n,t))}function Dk(e){e.Y=Date.now()+e.P,Lk(e,e.P)}function Lk(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dk(Dy(e.lb,e),t)}function Mk(e){e.B&&(Ty.clearTimeout(e.B),e.B=null)}function Fk(e){0==e.l.H||e.J||nw(e.l,e)}function Uk(e){Mk(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$g(e.V),nk(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function jk(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pb(n.i,e)))if(!e.K&&pb(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tw(n),Gb(n)}Xb(n),fk(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dk(Dy(n.ib,n),6e3));if(1>=db(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else iw(n,11)}else if((e.K||n.g==e)&&tw(n),!qy(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vb(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Hk(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ow(r,r.J?r.pa:null,r.Y),d.K){mb(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Mk(p),Dk(p)),r.g=d}else Yb(r);0<n.j.length&&Hb(n)}else"stop"!=a[0]&&"close"!=a[0]||iw(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?iw(n,7):Kb(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}ck()}catch(a){}}function Vk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cy(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cy(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(_y=Ek.prototype).setTimeout=function(e){this.P=e},_y.nb=function(e){e=e.target;var t=this.M;t&&3==Ub(e)?t.l():this.Pa(e)},_y.Pa=function(e){try{if(e==this.g)e:{var t=Ub(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Xy||this.g&&(this.h.h||this.g.ja()||jb(this.g)))){this.J||4!=t||7==n||ck(),Mk(this);var r=this.g.da();this.ca=r;t:if(Pk(this)){var i=jb(this.g);e="";var a=i.length,o=4==Ub(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Uk(this),Fk(this);var u="";break t}this.h.i=new Ty.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qy(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,fk(12),Uk(this),Fk(this);break e}ik(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jk(this,r)}this.S?(Ok(this,t,u),Xy&&this.i&&3==t&&(tk(this.U,this.V,"tick",this.mb),this.V.start())):(ik(this.j,this.m,u,null),jk(this,u)),4==t&&Uk(this),this.i&&!this.J&&(4==t?nw(this.l,this):(this.i=!1,Dk(this)))}else(function(e){var t={};e=(e.g&&2<=Ub(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!qy(e[n])){var r=zg(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,fk(12)):(this.o=0,fk(13)),Uk(this),Fk(this)}}}catch(t){}},_y.mb=function(){if(this.g){var e=Ub(this.g),t=this.g.ja();this.C<t.length&&(Mk(this),Ok(this,e,t),this.i&&4!=e&&Dk(this))}},_y.cancel=function(){this.J=!0,Uk(this)},_y.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ck(),fk(17)),Uk(this),this.o=2,Fk(this)):Lk(this,this.Y-e)};var zk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bk(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bk){this.h=e.h,Kk(this,e.j),this.s=e.s,this.g=e.g,Gk(this,e.m),this.l=e.l;var t=e.i,n=new rb;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wk(this,n),this.o=e.o}else e&&(t=String(e).match(zk))?(this.h=!1,Kk(this,t[1]||"",!0),this.s=$k(t[2]||""),this.g=$k(t[3]||"",!0),Gk(this,t[4]),this.l=$k(t[5]||"",!0),Wk(this,t[6]||"",!0),this.o=$k(t[7]||"")):(this.h=!1,this.i=new rb(null,this.h))}function qk(e){return new Bk(e)}function Kk(e,t,n){e.j=n?$k(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wk(e,t,n){t instanceof rb?(e.i=t,function(e,t){t&&!e.j&&(ib(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ab(this,t),ub(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jk(t,tb)),e.i=new rb(t,e.h))}function Hk(e,t,n){e.i.set(t,n)}function Qk(e){return Hk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $k(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bk.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jk(t,Xk,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jk(t,Xk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jk(n,"/"==n.charAt(0)?eb:Zk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jk(n,nb)),e.join("")};var Xk=/[#\/\?@]/g,Zk=/[#\?:]/g,eb=/[#\?]/g,tb=/[#\?@]/g,nb=/#/g;function rb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ib(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ab(e,t){ib(e),t=sb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ob(e,t){return ib(e),t=sb(e,t),e.g.has(t)}function ub(e,t,n){ab(e,t),0<n.length&&(e.i=null,e.g.set(sb(e,t),jy(n)),e.h+=n.length)}function sb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_y=rb.prototype).add=function(e,t){ib(this),this.i=null,e=sb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_y.forEach=function(e,t){ib(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},_y.ta=function(){ib(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},_y.Z=function(e){ib(this);var t=[];if("string"===typeof e)ob(this,e)&&(t=t.concat(this.g.get(sb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},_y.set=function(e,t){return ib(this),this.i=null,ob(this,e=sb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_y.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},_y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var cb=Ut((function e(t,n){Mt(this,e),this.g=t,this.map=n}));function lb(e){this.l=e||fb,Ty.PerformanceNavigationTiming?e=0<(e=Ty.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ty.g&&Ty.g.Ka&&Ty.g.Ka()&&Ty.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fb=10;function hb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function db(e){return e.h?1:e.g?e.g.size:0}function pb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vb(e,t){e.g?e.g.add(t):e.h=t}function mb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yb(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Qt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return jy(e.i)}lb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Qt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var gb=function(){function e(){Mt(this,e)}return Ut(e,[{key:"stringify",value:function(e){return Ty.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ty.JSON.parse(e,void 0)}}]),e}();function kb(){this.g=new gb}function bb(e,t,n){var r=n||"";try{Vk(e,(function(e,n){var i=e;Ay(e)&&(i=Lg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(U){}}function xb(e){this.l=e.fc||null,this.j=e.ob||!1}function _b(e,t){Og.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Eb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}My(xb,mk),xb.prototype.g=function(){return new _b(this.l,this.j)},xb.prototype.i=function(e){return function(){return e}}({}),My(_b,Og);var Eb=0;function Ib(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Sb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tb(e)}function Tb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_y=_b.prototype).open=function(e,t){if(this.readyState!=Eb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tb(this)},_y.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ty).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},_y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sb(this)),this.readyState=Eb},_y.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tb(this)),this.g&&(this.readyState=3,Tb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ty.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ib(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},_y.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sb(this):Tb(this),3==this.readyState&&Ib(this)}},_y.Za=function(e){this.g&&(this.response=this.responseText=e,Sb(this))},_y.Ya=function(e){this.g&&(this.response=e,Sb(this))},_y.ka=function(){this.g&&Sb(this)},_y.setRequestHeader=function(e,t){this.v.append(e,t)},_y.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_y.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_b.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cb=Ty.JSON.parse;function Ab(e){Og.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nb,this.L=this.M=!1}My(Ab,Og);var Nb="",Pb=/^https?$/i,Ob=["POST","PUT"];function Rb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Db(e),Mb(e)}function Db(e){e.F||(e.F=!0,Rg(e,"complete"),Rg(e,"error"))}function Lb(e){if(e.h&&"undefined"!=typeof Sy&&(!e.C[1]||4!=Ub(e)||2!=e.da()))if(e.v&&4==Ub(e))Jg(e.La,0,e);else if(Rg(e,"readystatechange"),4==Ub(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(zk)[1]||null;!a&&Ty.self&&Ty.self.location&&(a=Ty.self.location.protocol.slice(0,-1)),i=!Pb.test(a?a.toLowerCase():"")}t=i}if(t)Rg(e,"complete"),Rg(e,"success");else{e.m=6;try{var o=2<Ub(e)?e.g.statusText:""}catch(P){o=""}e.j=o+" ["+e.da()+"]",Db(e)}}finally{Mb(e)}}}function Mb(e,t){if(e.g){Fb(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Rg(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ty.clearTimeout(e.A),e.A=null)}function Ub(e){return e.g?e.g.readyState:0}function jb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Nb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(H){return null}}function Vb(e){var t="";return dg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hk(e,t,n))}function Bb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qb(e){this.Ga=0,this.j=[],this.l=new rk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bb("baseRetryDelayMs",5e3,e),this.hb=Bb("retryDelaySeedMs",1e4,e),this.eb=Bb("forwardChannelMaxRetries",2,e),this.xa=Bb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new lb(e&&e.concurrentRequestLimit),this.Ja=new kb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kb(e){if(Wb(e),3==e.H){var t=e.W++,n=qk(e.I);if(Hk(n,"SID",e.K),Hk(n,"RID",t),Hk(n,"TYPE","terminate"),$b(e,n),(t=new Ek(e,e.l,t)).L=2,t.v=Qk(qk(n)),n=!1,Ty.navigator&&Ty.navigator.sendBeacon)try{n=Ty.navigator.sendBeacon(t.v.toString(),"")}catch(K){}!n&&Ty.Image&&((new Image).src=t.v,n=!0),n||(t.g=uw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Dk(t)}aw(e)}function Gb(e){e.g&&(Zb(e),e.g.cancel(),e.g=null)}function Wb(e){Gb(e),e.u&&(Ty.clearTimeout(e.u),e.u=null),tw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ty.clearTimeout(e.m),e.m=null)}function Hb(e){if(!hb(e.i)&&!e.m){e.m=!0;var t=e.Na;qg||Wg(),Kg||(qg(),Kg=!0),Gg.add(t,e),e.C=0}}function Qb(e,t){var n;n=t?t.m:e.W++;var r=qk(e.I);Hk(r,"SID",e.K),Hk(r,"RID",n),Hk(r,"AID",e.V),$b(e,r),e.o&&e.s&&zb(r,e.o,e.s),n=new Ek(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),vb(e.i,n),Ak(n,r,t)}function $b(e,t){e.na&&dg(e.na,(function(e,n){Hk(t,n,e)})),e.h&&Vk({},(function(e,n){Hk(t,n,e)}))}function Jb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Dy(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{bb(l,o,"req"+c+"_")}catch(be){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Yb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qg||Wg(),Kg||(qg(),Kg=!0),Gg.add(t,e),e.A=0}}function Xb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=dk(Dy(e.Ma,e),rw(e,e.A)),e.A++,!0)}function Zb(e){null!=e.B&&(Ty.clearTimeout(e.B),e.B=null)}function ew(e){e.g=new Ek(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qk(e.wa);Hk(t,"RID","rpc"),Hk(t,"SID",e.K),Hk(t,"AID",e.V),Hk(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Hk(t,"TO",e.qa),Hk(t,"TYPE","xmlhttp"),$b(e,t),e.o&&e.s&&zb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Qk(qk(t)),n.s=null,n.S=!0,Nk(n,e)}function tw(e){null!=e.v&&(Ty.clearTimeout(e.v),e.v=null)}function nw(e,t){var n=null;if(e.g==t){tw(e),Zb(e),e.g=null;var r=2}else{if(!pb(e.i,t))return;n=t.F,mb(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Rg(r=uk(),new hk(r,n)),Hb(e)}else Yb(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(db(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=dk(Dy(e.Na,e,t),rw(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iw(e,5);break;case 4:iw(e,10);break;case 3:iw(e,6);break;default:iw(e,2)}}function rw(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function iw(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Dy(e.pb,e);n||(n=new Bk("//www.google.com/images/cleardot.gif"),Ty.location&&"http"==Ty.location.protocol||Kk(n,"https"),Qk(n)),function(e,t){var n=new rk;if(Ty.Image){var r=new Image;r.onload=Ly(wb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ly(wb,n,r,"TestLoadImage: error",!1,t),r.onabort=Ly(wb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ly(wb,n,r,"TestLoadImage: timeout",!1,t),Ty.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fk(2);e.H=0,e.h&&e.h.za(t),aw(e),Wb(e)}function aw(e){if(e.H=0,e.ma=[],e.h){var t=yb(e.i);0==t.length&&0==e.j.length||(Vy(e.ma,t),Vy(e.ma,e.j),e.i.i.length=0,jy(e.j),e.j.length=0),e.h.ya()}}function ow(e,t,n){var r=n instanceof Bk?qk(n):new Bk(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Gk(r,r.m);else{var i=Ty.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Bk(null);r&&Kk(a,r),t&&(a.g=t),i&&Gk(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Hk(r,n,t),Hk(r,"VER",e.ra),$b(e,r),r}function uw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ab(new xb({ob:!0})):new Ab(e.va)).Oa(e.J),t}function sw(){}function cw(){if(Jy&&!(10<=Number(og)))throw Error("Environmental error: no available transport.")}function lw(e,t){Og.call(this),this.g=new qb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!qy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qy(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dw(this)}function fw(e){wk.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hw(){xk.call(this),this.status=1}function dw(e){this.g=e}function pw(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vw(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function mw(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(_y=Ab.prototype).Oa=function(e){this.M=e},_y.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kk.g(),this.C=this.u?yk(this.u):yk(kk),this.g.onreadystatechange=Dy(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Rb(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Qt(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ty.FormData&&e instanceof Ty.FormData,!(0<=Uy(Ob,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Qt(n);try{for(c.s();!(s=c.n()).done;){var l=Rt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fb(this),0<this.B&&((this.L=function(e){return Jy&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dy(this.ua,this)):this.A=Jg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Rb(this,u)}},_y.ua=function(){"undefined"!=typeof Sy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rg(this,"timeout"),this.abort(8))},_y.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rg(this,"complete"),Rg(this,"abort"),Mb(this))},_y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mb(this,!0)),Ab.$.N.call(this)},_y.La=function(){this.s||(this.G||this.v||this.l?Lb(this):this.kb())},_y.kb=function(){Lb(this)},_y.isActive=function(){return!!this.g},_y.da=function(){try{return 2<Ub(this)?this.g.status:-1}catch(F){return-1}},_y.ja=function(){try{return this.g?this.g.responseText:""}catch(F){return""}},_y.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cb(t)}},_y.Ia=function(){return this.m},_y.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(_y=qb.prototype).ra=8,_y.H=1,_y.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ek(this,this.l,e),n=this.s;if(this.U&&(n?mg(n=pg(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jb(this,t,r),Hk(i=qk(this.I),"RID",e),Hk(i,"CVER",22),this.F&&Hk(i,"X-HTTP-Session-Id",this.F),$b(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Vb(n)))+"&"+r:this.o&&zb(i,this.o,n)),vb(this.i,t),this.bb&&Hk(i,"TYPE","init"),this.P?(Hk(i,"$req",r),Hk(i,"SID","null"),t.aa=!0,Ak(t,i,null)):Ak(t,i,r),this.H=2}}else 3==this.H&&(e?Qb(this,e):0==this.j.length||hb(this.i)||Qb(this))},_y.Ma=function(){if(this.u=null,ew(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dk(Dy(this.jb,this),e)}},_y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fk(10),Gb(this),ew(this))},_y.ib=function(){null!=this.v&&(this.v=null,Gb(this),Xb(this),fk(19))},_y.pb=function(e){e?(this.l.info("Successfully pinged google.com"),fk(2)):(this.l.info("Failed to ping google.com"),fk(1))},_y.isActive=function(){return!!this.h&&this.h.isActive(this)},(_y=sw.prototype).Ba=function(){},_y.Aa=function(){},_y.za=function(){},_y.ya=function(){},_y.isActive=function(){return!0},_y.Va=function(){},cw.prototype.g=function(e,t){return new lw(e,t)},My(lw,Og),lw.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;fk(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ow(e,null,e.Y),Hb(e)},lw.prototype.close=function(){Kb(this.g)},lw.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Lg(e),e=n);t.j.push(new cb(t.fb++,e)),3==t.H&&Hb(t)},lw.prototype.N=function(){this.g.h=null,delete this.j,Kb(this.g),delete this.g,lw.$.N.call(this)},My(fw,wk),My(hw,xk),My(dw,sw),dw.prototype.Ba=function(){Rg(this.g,"a")},dw.prototype.Aa=function(e){Rg(this.g,new fw(e))},dw.prototype.za=function(e){Rg(this.g,new hw)},dw.prototype.ya=function(){Rg(this.g,"b")},My(pw,(function(){this.blockSize=-1})),pw.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pw.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)vw(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){vw(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){vw(this,r),i=0;break}}this.h=i,this.i+=t},pw.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var yw={};function gw(e){return-128<=e&&128>e?function(e,t){var n=yw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new mw([0|e],0>e?-1:0)})):new mw([0|e],0>e?-1:0)}function kw(e){if(isNaN(e)||!isFinite(e))return ww;if(0>e)return Sw(kw(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=bw;return new mw(t,0)}var bw=4294967296,ww=gw(0),xw=gw(1),_w=gw(16777216);function Ew(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Iw(e){return-1==e.h}function Sw(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mw(n,~e.h).add(xw)}function Tw(e,t){return e.add(Sw(t))}function Cw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Aw(e,t){this.g=e,this.h=t}function Nw(e,t){if(Ew(t))throw Error("division by zero");if(Ew(e))return new Aw(ww,ww);if(Iw(e))return t=Nw(Sw(e),t),new Aw(Sw(t.g),Sw(t.h));if(Iw(t))return t=Nw(e,Sw(t)),new Aw(Sw(t.g),t.h);if(30<e.g.length){if(Iw(e)||Iw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=xw,r=t;0>=r.X(e);)n=Pw(n),r=Pw(r);var i=Ow(n,1),a=Ow(r,1);for(r=Ow(r,2),n=Ow(n,2);!Ew(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Ow(r,1),n=Ow(n,1)}return t=Tw(e,i.R(t)),new Aw(i,t)}for(i=ww;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=kw(n)).R(t);Iw(o)||0<o.X(e);)o=(a=kw(n-=r)).R(t);Ew(a)&&(a=xw),i=i.add(a),e=Tw(e,o)}return new Aw(i,e)}function Pw(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mw(n,e.h)}function Ow(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new mw(i,e.h)}(_y=mw.prototype).ea=function(){if(Iw(this))return-Sw(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:bw+r)*t,t*=bw}return e},_y.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ew(this))return"0";if(Iw(this))return"-"+Sw(this).toString(e);for(var t=kw(Math.pow(e,6)),n=this,r="";;){var i=Nw(n,t).g,a=((0<(n=Tw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ew(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},_y.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},_y.X=function(e){return Iw(e=Tw(this,e))?-1:Ew(e)?0:1},_y.abs=function(){return Iw(this)?Sw(this):this},_y.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new mw(n,-2147483648&n[n.length-1]?-1:0)},_y.R=function(e){if(Ew(this)||Ew(e))return ww;if(Iw(this))return Iw(e)?Sw(this).R(Sw(e)):Sw(Sw(this).R(e));if(Iw(e))return Sw(this.R(Sw(e)));if(0>this.X(_w)&&0>e.X(_w))return kw(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Cw(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Cw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Cw(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Cw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mw(n,0)},_y.gb=function(e){return Nw(this,e).h},_y.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mw(n,this.h&e.h)},_y.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mw(n,this.h|e.h)},_y.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mw(n,this.h^e.h)},cw.prototype.createWebChannel=cw.prototype.g,lw.prototype.send=lw.prototype.u,lw.prototype.open=lw.prototype.m,lw.prototype.close=lw.prototype.close,pk.NO_ERROR=0,pk.TIMEOUT=8,pk.HTTP_ERROR=6,vk.COMPLETE="complete",gk.EventType=bk,bk.OPEN="a",bk.CLOSE="b",bk.ERROR="c",bk.MESSAGE="d",Og.prototype.listen=Og.prototype.O,Ab.prototype.listenOnce=Ab.prototype.P,Ab.prototype.getLastError=Ab.prototype.Sa,Ab.prototype.getLastErrorCode=Ab.prototype.Ia,Ab.prototype.getStatus=Ab.prototype.da,Ab.prototype.getResponseJson=Ab.prototype.Wa,Ab.prototype.getResponseText=Ab.prototype.ja,Ab.prototype.send=Ab.prototype.ha,Ab.prototype.setWithCredentials=Ab.prototype.Oa,pw.prototype.digest=pw.prototype.l,pw.prototype.reset=pw.prototype.reset,pw.prototype.update=pw.prototype.j,mw.prototype.add=mw.prototype.add,mw.prototype.multiply=mw.prototype.R,mw.prototype.modulo=mw.prototype.gb,mw.prototype.compare=mw.prototype.X,mw.prototype.toNumber=mw.prototype.ea,mw.prototype.toString=mw.prototype.toString,mw.prototype.getBits=mw.prototype.D,mw.fromNumber=kw,mw.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Sw(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=kw(Math.pow(n,8)),i=ww,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=kw(Math.pow(n,o)),i=i.R(o).add(kw(u))):i=(i=i.R(r)).add(kw(u))}return i};var Rw=Iy.createWebChannelTransport=function(){return new cw},Dw=Iy.getStatEventTarget=function(){return uk()},Lw=Iy.ErrorCode=pk,Mw=Iy.EventType=vk,Fw=Iy.Event=ak,Uw=Iy.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jw=Iy.FetchXmlHttpFactory=xb,Vw=Iy.WebChannel=gk,zw=Iy.XhrIo=Ab,Bw=Iy.Md5=pw,qw=Iy.Integer=mw,Kw="@firebase/firestore",Gw=function(){function e(t){Mt(this,e),this.uid=t}return Ut(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Gw.UNAUTHENTICATED=new Gw(null),Gw.GOOGLE_CREDENTIALS=new Gw("google-credentials-uid"),Gw.FIRST_PARTY=new Gw("first-party-uid"),Gw.MOCK_USER=new Gw("mock-user");var Ww="10.0.0",Hw=new $a("@firebase/firestore");function Qw(){return Hw.logLevel}function $w(e){if(Hw.logLevel<=Ba.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xw);Hw.debug.apply(Hw,["Firestore (".concat(Ww,"): ").concat(e)].concat(Lt(i)))}}function Jw(e){if(Hw.logLevel<=Ba.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xw);Hw.error.apply(Hw,["Firestore (".concat(Ww,"): ").concat(e)].concat(Lt(i)))}}function Yw(e){if(Hw.logLevel<=Ba.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xw);Hw.warn.apply(Hw,["Firestore (".concat(Ww,"): ").concat(e)].concat(Lt(i)))}}function Xw(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(R){return e}}function Zw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ww,") INTERNAL ASSERTION FAILED: ")+e;throw Jw(t),new Error(t)}function ex(e,t){e||Zw()}function tx(e,t){return e}var nx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rx=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ut(n)}(ka),ix=Ut((function e(){var t=this;Mt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ax=Ut((function e(t,n){Mt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ox=function(){function e(){Mt(this,e)}return Ut(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ux=function(){function e(t){Mt(this,e),this.token=t,this.changeListener=null}return Ut(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),sx=function(){function e(t){Mt(this,e),this.t=t,this.currentUser=Gw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ut(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ix;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ix,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){$w("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):($w("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ix)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?($w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ex("string"==typeof n.accessToken),new ax(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ex(null===e||"string"==typeof e),new Gw(e)}}]),e}(),cx=function(){function e(t,n,r){Mt(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Gw.FIRST_PARTY,this.I=new Map}return Ut(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),lx=function(){function e(t,n,r){Mt(this,e),this.l=t,this.h=n,this.P=r}return Ut(e,[{key:"getToken",value:function(){return Promise.resolve(new cx(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),fx=Ut((function e(t){Mt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hx=function(){function e(t){Mt(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Ut(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&$w("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,$w("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){$w("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):$w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ex("string"==typeof t.token),e.R=t.token,new fx(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function dx(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var px=function(){function e(){Mt(this,e)}return Ut(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=dx(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function vx(e,t){return e<t?-1:e>t?1:0}function mx(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function yx(e){return e+"\0"}var gx=function(){function e(t,n){if(Mt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new rx(nx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rx(nx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rx(nx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rx(nx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ut(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vx(this.nanoseconds,e.nanoseconds):vx(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),kx=function(){function e(t){Mt(this,e),this.timestamp=t}return Ut(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gx(0,0))}},{key:"max",value:function(){return new e(new gx(253402300799,999999999))}}]),e}(),bx=function(){function e(t,n,r){Mt(this,e),void 0===n?n=0:n>t.length&&Zw(),void 0===r?r=t.length-n:r>t.length-n&&Zw(),this.segments=t,this.offset=n,this.len=r}return Ut(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),wx=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new rx(nx.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Lt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bx),xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_x=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return xx.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new rx(nx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new rx(nx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new rx(nx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new rx(nx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bx),Ex=function(){function e(t){Mt(this,e),this.path=t}return Ut(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===wx.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(wx.fromString(t))}},{key:"fromName",value:function(t){return new e(wx.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(wx.emptyPath())}},{key:"comparator",value:function(e,t){return wx.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new wx(t.slice()))}}]),e}(),Ix=Ut((function e(t,n,r,i){Mt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Sx(e){return e.fields.find((function(e){return 2===e.kind}))}function Tx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ix.UNKNOWN_ID=-1;var Cx=Ut((function e(t,n){Mt(this,e),this.fieldPath=t,this.kind=n}));var Ax=function(){function e(t,n){Mt(this,e),this.sequenceNumber=t,this.offset=n}return Ut(e,null,[{key:"empty",value:function(){return new e(0,Ox.min())}}]),e}();function Nx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=kx.fromTimestamp(1e9===r?new gx(n+1,0):new gx(n,r));return new Ox(i,Ex.empty(),t)}function Px(e){return new Ox(e.readTime,e.key,-1)}var Ox=function(){function e(t,n,r){Mt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ut(e,null,[{key:"min",value:function(){return new e(kx.min(),Ex.empty(),-1)}},{key:"max",value:function(){return new e(kx.max(),Ex.empty(),-1)}}]),e}();function Rx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ex.comparator(e.documentKey,t.documentKey))?n:vx(e.largestBatchId,t.largestBatchId)}var Dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lx=function(){function e(){Mt(this,e),this.onCommittedListeners=[]}return Ut(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Mx(e){return Fx.apply(this,arguments)}function Fx(){return Fx=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nx.FAILED_PRECONDITION&&t.message===Dx){e.next=2;break}throw t;case 2:$w("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}var Ux=function(){function e(t){var n=this;Mt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ut(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Qt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),jx=function(){function e(t,n){var r=this;Mt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new ix,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Bx(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Hx(e.target.error);r.m.reject(new Bx(t,n))}}return Ut(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||($w("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Bx(n,t)}}}]),e}(),Vx=function(){function e(t,n,r){Mt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ha())&&Jw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ut(e,[{key:"N",value:function(){var e=fr(cr().mark((function e(t){var n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return $w("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Bx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rx(nx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new rx(nx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Bx(t,n))},i.onupgradeneeded=function(e){$w("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){$w("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=cr().mark((function e(){var n,u,s,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=jx.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Ux.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,$w("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return $w("SimpleDb","Removing database:",e),Gx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!ya())return!1;if(e.C())return!0;var t=ha(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/WaMungai/Netflix-Clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),zx=function(){function e(t){Mt(this,e),this.q=t,this.K=!1,this.$=null}return Ut(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Gx(this.q.delete())}}]),e}(),Bx=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,nx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ut(n)}(rx);function qx(e){return"IndexedDbTransactionError"===e.name}var Kx=function(){function e(t){Mt(this,e),this.store=t}return Ut(e,[{key:"put",value:function(e,t){var n;return void 0!==t?($w("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($w("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gx(n)}},{key:"add",value:function(e){return $w("SimpleDb","ADD",this.store.name,e,e),Gx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Gx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),$w("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return $w("SimpleDb","DELETE",this.store.name,e),Gx(this.store.delete(e))}},{key:"count",value:function(){return $w("SimpleDb","COUNT",this.store.name),Gx(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ux((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ux((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){$w("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Ux((function(n,r){t.onerror=function(e){var t=Hx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Ux((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new zx(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ux){var u=o.catch((function(e){return a.done(),Ux.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Ux.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Gx(e){return new Ux((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hx(e.target.error);n(t)}}))}var Wx=!1;function Hx(e){var t=Vx.D(ha());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new rx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Wx||(Wx=!0,setTimeout((function(){throw r}),0)),r}}return e}var Qx=function(){function e(t,n){Mt(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return Ut(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;$w("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=$w,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!qx(e.t4)){e.next=17;break}$w("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Mx(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),$x=function(){function e(t,n){Mt(this,e),this.localStore=t,this.persistence=n}return Ut(e,[{key:"ne",value:function(){var e=fr(cr().mark((function e(){var t,n=this,r=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ux.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return $w("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return $w("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Px(t);Rx(r,n)>0&&(n=r)})),new Ox(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jx=function(){function e(t,n){var r=this;Mt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Ut(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Yx(e){return null==e}function Xx(e){return 0===e&&1/e==-1/0}function Zx(e){return"number"==typeof e&&Number.isInteger(e)&&!Xx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function e_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=n_(t)),t=t_(e.get(n),t);return n_(t)}function t_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function n_(e){return e+"\x01\x01"}function r_(e){var t=e.length;if(ex(t>=2),2===t)return ex("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),wx.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Zw(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Zw()}a=o+2}return new wx(r)}Jx.ae=-1;var i_=["userId","batchId"];function a_(e,t){return[e,e_(t)]}function o_(e,t,n){return[e,e_(t),n]}var u_={},s_=["prefixPath","collectionGroup","readTime","documentId"],c_=["prefixPath","collectionGroup","documentId"],l_=["collectionGroup","readTime","prefixPath","documentId"],f_=["canonicalId","targetId"],h_=["targetId","path"],d_=["path","targetId"],p_=["collectionId","parent"],v_=["indexId","uid"],m_=["uid","sequenceNumber"],y_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g_=["indexId","uid","orderedDocumentKey"],k_=["userId","collectionPath","documentId"],b_=["userId","collectionPath","largestBatchId"],w_=["userId","collectionGroup","largestBatchId"],x_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),__=[].concat(Lt(x_),["documentOverlays"]),E_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],I_=E_,S_=[].concat(I_,["indexConfiguration","indexState","indexEntries"]),T_=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return Ut(n)}(Lx);function C_(e,t){var n=tx(e);return Vx.O(n.ue,t)}function A_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function N_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function P_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var O_=function(){function e(t,n){Mt(this,e),this.comparator=t,this.root=n||D_.EMPTY}return Ut(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,D_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,D_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new R_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new R_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new R_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new R_(this.root,e,this.comparator,!0)}}]),e}(),R_=function(){function e(t,n,r,i){Mt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ut(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),D_=function(){function e(t,n,r,i,a){Mt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ut(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zw();if(this.right.isRed())throw Zw();var e=this.left.check();if(e!==this.right.check())throw Zw();return e+(this.isRed()?0:1)}}]),e}();D_.EMPTY=null,D_.RED=!0,D_.BLACK=!1,D_.EMPTY=new(function(){function e(){Mt(this,e),this.size=0}return Ut(e,[{key:"key",get:function(){throw Zw()}},{key:"value",get:function(){throw Zw()}},{key:"color",get:function(){throw Zw()}},{key:"left",get:function(){throw Zw()}},{key:"right",get:function(){throw Zw()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new D_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var L_=function(){function e(t){Mt(this,e),this.comparator=t,this.data=new O_(this.comparator)}return Ut(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new M_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new M_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),M_=function(){function e(t){Mt(this,e),this.iter=t}return Ut(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function F_(e){return e.hasNext()?e.getNext():void 0}var U_=function(){function e(t){Mt(this,e),this.fields=t,t.sort(_x.comparator)}return Ut(e,[{key:"unionWith",value:function(t){var n,r=new L_(_x.comparator),i=Qt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Qt(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Qt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return mx(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),j_=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Ut(n)}(Wt(Error));var V_=function(e){function t(e){Mt(this,t),this.binaryString=e}return Ut(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vx(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new j_("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();V_.EMPTY_BYTE_STRING=new V_("");var z_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B_(e){if(ex(!!e),"string"==typeof e){var t=0,n=z_.exec(e);if(ex(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:q_(e.seconds),nanos:q_(e.nanos)}}function q_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function K_(e){return"string"==typeof e?V_.fromBase64String(e):V_.fromUint8Array(e)}function G_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W_(e){var t=e.mapValue.fields.__previous_value__;return G_(t)?W_(t):t}function H_(e){var t=B_(e.mapValue.fields.__local_write_time__.timestampValue);return new gx(t.seconds,t.nanos)}var Q_=Ut((function e(t,n,r,i,a,o,u,s,c){Mt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),$_=function(){function e(t,n){Mt(this,e),this.projectId=t,this.database=n||"(default)"}return Ut(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),J_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Y_={nullValue:"NULL_VALUE"};function X_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?G_(e)?4:hE(e)?9007199254740991:10:Zw()}function Z_(e,t){if(e===t)return!0;var n=X_(e);if(n!==X_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return H_(e).isEqual(H_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=B_(e.timestampValue),r=B_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return K_(e.bytesValue).isEqual(K_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return q_(e.geoPointValue.latitude)===q_(t.geoPointValue.latitude)&&q_(e.geoPointValue.longitude)===q_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return q_(e.integerValue)===q_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=q_(e.doubleValue),r=q_(t.doubleValue);return n===r?Xx(n)===Xx(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mx(e.arrayValue.values||[],t.arrayValue.values||[],Z_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(A_(n)!==A_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Z_(n[i],r[i])))return!1;return!0}(e,t);default:return Zw()}}function eE(e,t){return void 0!==(e.values||[]).find((function(e){return Z_(e,t)}))}function tE(e,t){if(e===t)return 0;var n=X_(e),r=X_(t);if(n!==r)return vx(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vx(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=q_(e.integerValue||e.doubleValue),r=q_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nE(e.timestampValue,t.timestampValue);case 4:return nE(H_(e),H_(t));case 5:return vx(e.stringValue,t.stringValue);case 6:return function(e,t){var n=K_(e),r=K_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vx(n[i],r[i]);if(0!==a)return a}return vx(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vx(q_(e.latitude),q_(t.latitude));return 0!==n?n:vx(q_(e.longitude),q_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tE(n[i],r[i]);if(a)return a}return vx(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===J_.mapValue&&t===J_.mapValue)return 0;if(e===J_.mapValue)return 1;if(t===J_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=vx(r[o],a[o]);if(0!==u)return u;var s=tE(n[r[o]],i[a[o]]);if(0!==s)return s}return vx(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zw()}}function nE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vx(e,t);var n=B_(e),r=B_(t),i=vx(n.seconds,r.seconds);return 0!==i?i:vx(n.nanos,r.nanos)}function rE(e){return iE(e)}function iE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=B_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return K_(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ex.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Qt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=iE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Qt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(iE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zw()}function aE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function oE(e){return!!e&&"integerValue"in e}function uE(e){return!!e&&"arrayValue"in e}function sE(e){return!!e&&"nullValue"in e}function cE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lE(e){return!!e&&"mapValue"in e}function fE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return N_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fE(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fE(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dE(e){return"nullValue"in e?Y_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?aE($_.empty(),Ex.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zw()}function pE(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?aE($_.empty(),Ex.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?J_:Zw()}function vE(e,t){var n=tE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function mE(e,t){var n=tE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var yE=function(){function e(t){Mt(this,e),this.value=t}return Ut(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fE(t)}},{key:"setAll",value:function(e){var t=this,n=_x.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fE(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Z_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){N_(t,(function(t,n){return e[t]=n}));var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fE(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gE(e){var t=[];return N_(e.fields,(function(e,n){var r=new _x([e]);if(lE(n)){var i=gE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Qt(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new U_(t)}var kE=function(){function e(t,n,r,i,a,o,u){Mt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Ut(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(kx.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=yE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=yE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=kx.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,kx.min(),kx.min(),kx.min(),yE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,kx.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,kx.min(),kx.min(),yE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,kx.min(),kx.min(),yE.empty(),2)}}]),e}(),bE=Ut((function e(t,n){Mt(this,e),this.position=t,this.inclusive=n}));function wE(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ex.comparator(Ex.fromName(o.referenceValue),n.key):tE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Z_(e.position[n],t.position[n]))return!1;return!0}var _E=Ut((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Mt(this,e),this.field=t,this.dir=n}));function EE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var IE=Ut((function e(){Mt(this,e)})),SE=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ut(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tE(t,this.value)):null!==t&&X_(this.value)===X_(t)&&this.matchesComparison(tE(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zw()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ME(e,t,r):"array-contains"===t?new VE(e,r):"in"===t?new zE(e,r):"not-in"===t?new BE(e,r):"array-contains-any"===t?new qE(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new FE(e,n):new UE(e,n)}}]),n}(IE),TE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Ut(n,[{key:"matches",value:function(e){return CE(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=Qt(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(IE);function CE(e){return"and"===e.op}function AE(e){return"or"===e.op}function NE(e){return PE(e)&&CE(e)}function PE(e){var t,n=Qt(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof TE)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function OE(e){if(e instanceof SE)return e.field.canonicalString()+e.op.toString()+rE(e.value);if(NE(e))return e.filters.map((function(e){return OE(e)})).join(",");var t=e.filters.map((function(e){return OE(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function RE(e,t){return e instanceof SE?function(e,t){return t instanceof SE&&e.op===t.op&&e.field.isEqual(t.field)&&Z_(e.value,t.value)}(e,t):e instanceof TE?function(e,t){return t instanceof TE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&RE(n,t.filters[r])}),!0)}(e,t):void Zw()}function DE(e,t){var n=e.filters.concat(t);return TE.create(n,e.op)}function LE(e){return e instanceof SE?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rE(e.value))}(e):e instanceof TE?function(e){return e.op.toString()+" {"+e.getFilters().map(LE).join(" ,")+"}"}(e):"Filter"}var ME=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this,e,r,i)).key=Ex.fromName(i.referenceValue),a}return Ut(n,[{key:"matches",value:function(e){var t=Ex.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(SE),FE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,"in",r)).keys=jE("in",r),i}return Ut(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(SE),UE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,"not-in",r)).keys=jE("not-in",r),i}return Ut(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(SE);function jE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ex.fromName(e.referenceValue)}))}var VE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"array-contains",r)}return Ut(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uE(t)&&eE(t.arrayValue,this.value)}}]),n}(SE),zE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"in",r)}return Ut(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&eE(this.value.arrayValue,t)}}]),n}(SE),BE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"not-in",r)}return Ut(n,[{key:"matches",value:function(e){if(eE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!eE(this.value.arrayValue,t)}}]),n}(SE),qE=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return Mt(this,n),t.call(this,e,"array-contains-any",r)}return Ut(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return eE(t.value.arrayValue,e)}))}}]),n}(SE),KE=Ut((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Mt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function GE(e){return new KE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function WE(e){var t=tx(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return OE(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Yx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rE(e)})).join(",")),t.he=n}return t.he}function HE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!EE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!RE(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xE(e.startAt,t.startAt)&&xE(e.endAt,t.endAt)}function QE(e){return Ex.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function $E(e,t){return e.filters.filter((function(e){return e instanceof SE&&e.field.isEqual(t)}))}function JE(e,t,n){var r,i=Y_,a=!0,o=Qt($E(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Y_,c=!0;switch(u.op){case"<":case"<=":s=dE(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Y_}vE({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function YE(e,t,n){var r,i=J_,a=!0,o=Qt($E(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=J_,c=!0;switch(u.op){case">=":case">":s=pE(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=J_}mE({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var XE=Ut((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Mt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function ZE(e,t,n,r,i,a,o,u){return new XE(e,t,n,r,i,a,o,u)}function eI(e){return new XE(e)}function tI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function rI(e){var t,n=Qt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function iI(e){return null!==e.collectionGroup}function aI(e){var t=tx(e);if(null===t.Pe){t.Pe=[];var n=rI(t),r=nI(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new _E(n)),t.Pe.push(new _E(_x.keyField(),"asc"));else{var i,a=!1,o=Qt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new _E(_x.keyField(),s))}}}return t.Pe}function oI(e){var t=tx(e);if(!t.Ie)if("F"===t.limitType)t.Ie=GE(t.path,t.collectionGroup,aI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Qt(aI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new _E(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new bE(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new bE(t.startAt.position,t.startAt.inclusive):null;t.Ie=GE(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.Ie}function uI(e,t){t.getFirstInequalityField(),rI(e);var n=e.filters.concat([t]);return new XE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sI(e,t,n){return new XE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cI(e,t){return HE(oI(e),oI(t))&&e.limitType===t.limitType}function lI(e){return"".concat(WE(oI(e)),"|lt:").concat(e.limitType)}function fI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return LE(e)})).join(", "),"]")),Yx(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rE(e)})).join(",")),"Target(".concat(t,")")}(oI(e)),"; limitType=").concat(e.limitType,")")}function hI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ex.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Qt(aI(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Qt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,aI(e),t))&&!(e.endAt&&!function(e,t,n){var r=wE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,aI(e),t))}(e,t)}function dI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pI(e){return function(t,n){var r,i=!1,a=Qt(aI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=vI(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function vI(e,t,n){var r=e.field.isKeyField()?Ex.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tE(r,i):Zw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zw()}}var mI=function(){function e(t,n){Mt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ut(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=Rt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){N_(this.inner,(function(t,n){var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=Rt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return P_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),yI=new O_(Ex.comparator);function gI(){return yI}var kI=new O_(Ex.comparator);function bI(){for(var e=kI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function wI(e){var t=kI;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function xI(){return EI()}function _I(){return EI()}function EI(){return new mI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var II=new O_(Ex.comparator),SI=new L_(Ex.comparator);function TI(){for(var e=SI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var CI=new L_(vx);function AI(){return CI}function NI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xx(t)?"-0":t}}function PI(e){return{integerValue:""+e}}function OI(e,t){return Zx(t)?PI(t):NI(e,t)}var RI=Ut((function e(){Mt(this,e),this._=void 0}));function DI(e,t,n){return e instanceof FI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&G_(t)&&(t=W_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof UI?jI(e,t):e instanceof VI?zI(e,t):function(e,t){var n=MI(e,t),r=qI(n)+qI(e.Te);return oE(n)&&oE(e.Te)?PI(r):NI(e.serializer,r)}(e,t)}function LI(e,t,n){return e instanceof UI?jI(e,t):e instanceof VI?zI(e,t):n}function MI(e,t){return e instanceof BI?function(e){return oE(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var FI=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n)}(RI),UI=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).elements=e,r}return Ut(n)}(RI);function jI(e,t){var n,r=KI(t),i=Qt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Z_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var VI=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).elements=e,r}return Ut(n)}(RI);function zI(e,t){var n,r=KI(t),i=Qt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Z_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var BI=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return Ut(n)}(RI);function qI(e){return q_(e.integerValue||e.doubleValue)}function KI(e){return uE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var GI=Ut((function e(t,n){Mt(this,e),this.field=t,this.transform=n}));var WI=Ut((function e(t,n){Mt(this,e),this.version=t,this.transformResults=n})),HI=function(){function e(t,n){Mt(this,e),this.updateTime=t,this.exists=n}return Ut(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function QI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var $I=Ut((function e(){Mt(this,e)}));function JI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new sS(e.key,HI.none()):new tS(e.key,e.data,HI.none());var n,r=e.data,i=yE.empty(),a=new L_(_x.comparator),o=Qt(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new nS(e.key,i,new U_(a.toArray()),HI.none())}function YI(e,t,n){e instanceof tS?function(e,t,n){var r=e.value.clone(),i=iS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nS?function(e,t,n){if(QI(e.precondition,t)){var r=iS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function XI(e,t,n,r){return e instanceof tS?function(e,t,n,r){if(!QI(e.precondition,t))return n;var i=e.value.clone(),a=aS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof nS?function(e,t,n,r){if(!QI(e.precondition,t))return n;var i=aS(e.fieldTransforms,r,t),a=t.data;return a.setAll(rS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return QI(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ZI(e,t){var n,r=null,i=Qt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=MI(a.transform,o||null);null!=u&&(null===r&&(r=yE.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function eS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mx(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof UI&&t instanceof UI||e instanceof VI&&t instanceof VI?mx(e.elements,t.elements,Z_):e instanceof BI&&t instanceof BI?Z_(e.Te,t.Te):e instanceof FI&&t instanceof FI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var tS=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Mt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ut(n,[{key:"getFieldMask",value:function(){return null}}]),n}($I),nS=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Mt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ut(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}($I);function rS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function iS(e,t,n){var r=new Map;ex(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,LI(o,u,n[i]))}return r}function aS(e,t,n){var r,i=new Map,a=Qt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,DI(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var oS,uS,sS=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ut(n,[{key:"getFieldMask",value:function(){return null}}]),n}($I),cS=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ut(n,[{key:"getFieldMask",value:function(){return null}}]),n}($I),lS=function(){function e(t,n,r,i){Mt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ut(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&YI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Qt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=XI(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Qt(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=XI(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_I();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=JI(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(kx.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),TI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&mx(this.mutations,e.mutations,(function(e,t){return eS(e,t)}))&&mx(this.baseMutations,e.baseMutations,(function(e,t){return eS(e,t)}))}}]),e}(),fS=function(){function e(t,n,r,i){Mt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ut(e,null,[{key:"from",value:function(t,n,r){ex(t.mutations.length===r.length);for(var i=II,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),hS=function(){function e(t,n){Mt(this,e),this.largestBatchId=t,this.mutation=n}return Ut(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),dS=Ut((function e(t,n){Mt(this,e),this.count=t,this.unchangedNames=n}));function pS(e){switch(e){default:return Zw();case nx.CANCELLED:case nx.UNKNOWN:case nx.DEADLINE_EXCEEDED:case nx.RESOURCE_EXHAUSTED:case nx.INTERNAL:case nx.UNAVAILABLE:case nx.UNAUTHENTICATED:return!1;case nx.INVALID_ARGUMENT:case nx.NOT_FOUND:case nx.ALREADY_EXISTS:case nx.PERMISSION_DENIED:case nx.FAILED_PRECONDITION:case nx.ABORTED:case nx.OUT_OF_RANGE:case nx.UNIMPLEMENTED:case nx.DATA_LOSS:return!0}}function vS(e){if(void 0===e)return Jw("GRPC error has no .code"),nx.UNKNOWN;switch(e){case oS.OK:return nx.OK;case oS.CANCELLED:return nx.CANCELLED;case oS.UNKNOWN:return nx.UNKNOWN;case oS.DEADLINE_EXCEEDED:return nx.DEADLINE_EXCEEDED;case oS.RESOURCE_EXHAUSTED:return nx.RESOURCE_EXHAUSTED;case oS.INTERNAL:return nx.INTERNAL;case oS.UNAVAILABLE:return nx.UNAVAILABLE;case oS.UNAUTHENTICATED:return nx.UNAUTHENTICATED;case oS.INVALID_ARGUMENT:return nx.INVALID_ARGUMENT;case oS.NOT_FOUND:return nx.NOT_FOUND;case oS.ALREADY_EXISTS:return nx.ALREADY_EXISTS;case oS.PERMISSION_DENIED:return nx.PERMISSION_DENIED;case oS.FAILED_PRECONDITION:return nx.FAILED_PRECONDITION;case oS.ABORTED:return nx.ABORTED;case oS.OUT_OF_RANGE:return nx.OUT_OF_RANGE;case oS.UNIMPLEMENTED:return nx.UNIMPLEMENTED;case oS.DATA_LOSS:return nx.DATA_LOSS;default:return Zw()}}(uS=oS||(oS={}))[uS.OK=0]="OK",uS[uS.CANCELLED=1]="CANCELLED",uS[uS.UNKNOWN=2]="UNKNOWN",uS[uS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uS[uS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uS[uS.NOT_FOUND=5]="NOT_FOUND",uS[uS.ALREADY_EXISTS=6]="ALREADY_EXISTS",uS[uS.PERMISSION_DENIED=7]="PERMISSION_DENIED",uS[uS.UNAUTHENTICATED=16]="UNAUTHENTICATED",uS[uS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uS[uS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uS[uS.ABORTED=10]="ABORTED",uS[uS.OUT_OF_RANGE=11]="OUT_OF_RANGE",uS[uS.UNIMPLEMENTED=12]="UNIMPLEMENTED",uS[uS.INTERNAL=13]="INTERNAL",uS[uS.UNAVAILABLE=14]="UNAVAILABLE",uS[uS.DATA_LOSS=15]="DATA_LOSS";var mS=function(){function e(){Mt(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Ut(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return yS}},{key:"getOrCreateInstance",value:function(){return null===yS&&(yS=new e),yS}}]),e}(),yS=null;function gS(){return new TextEncoder}var kS=new qw([4294967295,4294967295],0);function bS(e){var t=gS().encode(e),n=new Bw;return n.update(t),new Uint8Array(n.digest())}function wS(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qw([n,r],0),new qw([i,a],0)]}var xS=function(){function e(t,n,r){if(Mt(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _S("Invalid padding: ".concat(n));if(r<0)throw new _S("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new _S("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new _S("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=qw.fromNumber(this.de)}return Ut(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(qw.fromNumber(n)));return 1===r.compare(kS)&&(r=new qw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=Rt(wS(bS(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);if(!this.Ve(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=Rt(wS(bS(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);this.me(a)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),_S=function(e){Vt(n,e);var t=Kt(n);function n(){var e;return Mt(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Ut(n)}(Wt(Error)),ES=function(){function e(t,n,r,i,a){Mt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ut(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,IS.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(kx.min(),i,new O_(vx),gI(),TI())}}]),e}(),IS=function(){function e(t,n,r,i,a){Mt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ut(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,TI(),TI(),TI())}}]),e}(),SS=Ut((function e(t,n,r,i){Mt(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),TS=Ut((function e(t,n){Mt(this,e),this.targetId=t,this.pe=n})),CS=Ut((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Mt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),AS=function(){function e(){Mt(this,e),this.ye=0,this.we=OS(),this.Se=V_.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return Ut(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=TI(),t=TI(),n=TI();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zw()}})),new IS(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=OS()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),NS=function(){function e(t){Mt(this,e),this.qe=t,this.Qe=new Map,this.Ke=gI(),this.$e=PS(),this.Ue=new O_(vx)}return Ut(e,[{key:"We",value:function(e){var t,n=Qt(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(u){a.e(u)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:Zw()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(QE(o))if(0===i){var u=new Ex(o.path);this.ze(r,u,kE.newNoDocument(u,kx.min()))}else ex(1===i);else{var s=this.et(r);if(s!==i){var c=this.tt(e,s);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=mS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,u,s,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(c=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,s,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,u,s=i.bits,c=s.bitmap,l=void 0===c?"":c,f=s.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=K_(l).toUint8Array()}catch(e){if(e instanceof j_)return Yw("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{u=new xS(o,h,p)}catch(e){return Yw(e instanceof _S?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return u.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===u.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&QE(a.target)){var o=new Ex(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,kE.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=TI();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new ES(e,n,this.Ue,this.Ke,r);return this.Ke=gI(),this.$e=PS(),this.Ue=new O_(vx),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new AS,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new L_(vx),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||$w("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new AS),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function PS(){return new O_(Ex.comparator)}function OS(){return new O_(Ex.comparator)}var RS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LS={and:"AND",or:"OR"},MS=Ut((function e(t,n){Mt(this,e),this.databaseId=t,this.useProto3Json=n}));function FS(e,t){return e.useProto3Json||Yx(t)?t:{value:t}}function US(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function VS(e,t){return US(e,t.toTimestamp())}function zS(e){return ex(!!e),kx.fromTimestamp(function(e){var t=B_(e);return new gx(t.seconds,t.nanos)}(e))}function BS(e,t){return function(e){return new wx(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qS(e){var t=wx.fromString(e);return ex(hT(t)),t}function KS(e,t){return BS(e.databaseId,t.path)}function GS(e,t){var n=qS(t);if(n.get(1)!==e.databaseId.projectId)throw new rx(nx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rx(nx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ex($S(n))}function WS(e,t){return BS(e.databaseId,t)}function HS(e){var t=qS(e);return 4===t.length?wx.emptyPath():$S(t)}function QS(e){return new wx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $S(e){return ex(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function JS(e,t,n){return{name:KS(e,t),fields:n.value.mapValue.fields}}function YS(e,t,n){var r=GS(e,t.name),i=zS(t.updateTime),a=t.createTime?zS(t.createTime):kx.min(),o=new yE({mapValue:{fields:t.fields}}),u=kE.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function XS(e,t){return"found"in t?function(e,t){ex(!!t.found),t.found.name,t.found.updateTime;var n=GS(e,t.found.name),r=zS(t.found.updateTime),i=t.found.createTime?zS(t.found.createTime):kx.min(),a=new yE({mapValue:{fields:t.found.fields}});return kE.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ex(!!t.missing),ex(!!t.readTime);var n=GS(e,t.missing),r=zS(t.readTime);return kE.newNoDocument(n,r)}(e,t):Zw()}function ZS(e,t){var n;if(t instanceof tS)n={update:JS(e,t.key,t.value)};else if(t instanceof sS)n={delete:KS(e,t.key)};else if(t instanceof nS)n={update:JS(e,t.key,t.data),updateMask:fT(t.fieldMask)};else{if(!(t instanceof cS))return Zw();n={verify:KS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof FI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof UI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof VI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof BI)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Zw()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:VS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zw()}(e,t.precondition)),n}function eT(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?HI.updateTime(zS(e.updateTime)):void 0!==e.exists?HI.exists(e.exists):HI.none()}(t.currentDocument):HI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ex("REQUEST_TIME"===t.setToServerValue),n=new FI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new UI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new VI(i)}else"increment"in t?n=new BI(e,t.increment):Zw();var a=_x.fromServerFormat(t.fieldPath);return new GI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=GS(e,t.update.name),a=new yE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new U_(t.map((function(e){return _x.fromServerFormat(e)})))}(t.updateMask);return new nS(i,a,o,n,r)}return new tS(i,a,n,r)}if(t.delete){var u=GS(e,t.delete);return new sS(u,n)}if(t.verify){var s=GS(e,t.verify);return new cS(s,n)}return Zw()}function tT(e,t){return{documents:[WS(e,t.path)]}}function nT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=WS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=WS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return lT(TE.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sT(e.field),direction:aT(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=FS(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rT(e){var t=HS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ex(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=iT(e);return t instanceof TE&&NE(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new _E(cT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return Yx(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new bE(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new bE(n,t)}(n.endAt)),ZE(t,i,u,o,s,"F",c,l)}function iT(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cT(e.unaryFilter.field);return SE.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cT(e.unaryFilter.field);return SE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cT(e.unaryFilter.field);return SE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cT(e.unaryFilter.field);return SE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zw()}}(e):void 0!==e.fieldFilter?function(e){return SE.create(cT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zw()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return TE.create(e.compositeFilter.filters.map((function(e){return iT(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zw()}}(e.compositeFilter.op))}(e):Zw()}function aT(e){return RS[e]}function oT(e){return DS[e]}function uT(e){return LS[e]}function sT(e){return{fieldPath:e.canonicalString()}}function cT(e){return _x.fromServerFormat(e.fieldPath)}function lT(e){return e instanceof SE?function(e){if("=="===e.op){if(cE(e.value))return{unaryFilter:{field:sT(e.field),op:"IS_NAN"}};if(sE(e.value))return{unaryFilter:{field:sT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cE(e.value))return{unaryFilter:{field:sT(e.field),op:"IS_NOT_NAN"}};if(sE(e.value))return{unaryFilter:{field:sT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sT(e.field),op:oT(e.op),value:e.value}}}(e):e instanceof TE?function(e){var t=e.getFilters().map((function(e){return lT(e)}));return 1===t.length?t[0]:{compositeFilter:{op:uT(e.op),filters:t}}}(e):Zw()}function fT(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kx.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kx.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:V_.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Mt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return Ut(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),pT=Ut((function e(t){Mt(this,e),this.ct=t}));function vT(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:KS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:US(e,t.version.toTimestamp()),createTime:US(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yT(t.version)};else{if(!t.isUnknownDocument())return Zw();r.unknownDocument={path:n.path.toArray(),version:yT(t.version)}}return r}function mT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function yT(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gT(e){var t=new gx(e.seconds,e.nanoseconds);return kx.fromTimestamp(t)}function kT(e,t){for(var n=(t.baseMutations||[]).map((function(t){return eT(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return eT(e.ct,t)})),u=gx.fromMillis(t.localWriteTimeMs);return new lS(t.batchId,u,n,o)}function bT(e){var t,n=gT(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?gT(e.lastLimboFreeSnapshotVersion):kx.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return ex(1===e.documents.length),oI(eI(HS(e.documents[0])))}(e.query):function(e){return oI(rT(e))}(e.query),new dT(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,V_.fromBase64String(e.resumeToken))}function wT(e,t){var n,r=yT(t.snapshotVersion),i=yT(t.lastLimboFreeSnapshotVersion);n=QE(t.target)?tT(e.ct,t.target):nT(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:WE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function xT(e){var t=rT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sI(t,t.limit,"L"):t}function _T(e,t){return new hS(t.largestBatchId,eT(e.ct,t.overlayMutation))}function ET(e,t){var n=t.path.lastSegment();return[e,e_(t.path.popLast()),n]}function IT(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:yT(r.readTime),documentKey:e_(r.documentKey.path),largestBatchId:r.largestBatchId}}var ST=function(){function e(){Mt(this,e)}return Ut(e,[{key:"getBundleMetadata",value:function(e,t){return TT(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:gT(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return TT(e).put(function(e){return{bundleId:e.id,createTime:yT(zS(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return CT(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:xT(e.bundledQuery),readTime:gT(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return CT(e).put(function(e){return{name:e.name,readTime:yT(zS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function TT(e){return C_(e,"bundles")}function CT(e){return C_(e,"namedQueries")}var AT=function(){function e(t,n){Mt(this,e),this.serializer=t,this.userId=n}return Ut(e,[{key:"getOverlay",value:function(e,t){var n=this;return NT(e).get(ET(this.userId,t)).next((function(e){return e?_T(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=xI();return Ux.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new hS(t,a);i.push(r.ht(e,o))})),Ux.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(e_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(NT(e).J("collectionPathOverlayIndex",i))})),Ux.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=xI(),a=e_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return NT(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=Qt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=_T(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=xI(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return NT(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=_T(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return NT(e).put(function(e,t,n){var r=Rt(ET(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ZS(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function NT(e){return C_(e,"documentOverlays")}var PT=function(){function e(){Mt(this,e)}return Ut(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(q_(e.integerValue));else if("doubleValue"in e){var n=q_(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Xx(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(K_(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?hE(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Zw()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Ex.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function OT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function RT(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=OT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}PT.bt=new PT;var DT=function(){function e(){Mt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ut(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=Qt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=Qt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=RT(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=RT(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),LT=function(){function e(t){Mt(this,e),this.Gt=t}return Ut(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),MT=function(){function e(t){Mt(this,e),this.Gt=t}return Ut(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),FT=function(){function e(){Mt(this,e),this.Gt=new DT,this.zt=new LT(this.Gt),this.jt=new MT(this.Gt)}return Ut(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),UT=function(){function e(t,n,r,i){Mt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ut(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jT(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=VT(e.arrayValue,t.arrayValue))?n:0!==(n=VT(e.directionalValue,t.directionalValue))?n:Ex.comparator(e.documentKey,t.documentKey)}function VT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zT=function(){function e(t){Mt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=Qt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ut(e,[{key:"en",value:function(e){ex(e.collectionGroup===this.collectionId);var t=Sx(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Tx(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"tn",value:function(e){var t,n=Qt(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function BT(e){var t,n;if(ex(e instanceof SE||e instanceof TE),e instanceof SE){if(e instanceof zE){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return SE.create(e.field,"==",t)})))||[];return TE.create(r,"or")}return e}var i=e.filters.map((function(e){return BT(e)}));return TE.create(i,e.op)}function qT(e){if(0===e.getFilters().length)return[];var t=HT(BT(e));return ex(WT(t)),KT(t)||GT(t)?[t]:t.getFilters()}function KT(e){return e instanceof SE}function GT(e){return e instanceof TE&&NE(e)}function WT(e){return KT(e)||GT(e)||function(e){if(e instanceof TE&&AE(e)){var t,n=Qt(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!KT(r)&&!GT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function HT(e){if(ex(e instanceof SE||e instanceof TE),e instanceof SE)return e;if(1===e.filters.length)return HT(e.filters[0]);var t=e.filters.map((function(e){return HT(e)})),n=TE.create(t,e.op);return WT(n=JT(n))?n:(ex(n instanceof TE),ex(CE(n)),ex(n.filters.length>1),n.filters.reduce((function(e,t){return QT(e,t)})))}function QT(e,t){var n;return ex(e instanceof SE||e instanceof TE),ex(t instanceof SE||t instanceof TE),n=e instanceof SE?t instanceof SE?function(e,t){return TE.create([e,t],"and")}(e,t):$T(e,t):t instanceof SE?$T(t,e):function(e,t){if(ex(e.filters.length>0&&t.filters.length>0),CE(e)&&CE(t))return DE(e,t.getFilters());var n=AE(e)?e:t,r=AE(e)?t:e,i=n.filters.map((function(e){return QT(e,r)}));return TE.create(i,"or")}(e,t),JT(n)}function $T(e,t){if(CE(t))return DE(t,e.getFilters());var n=t.filters.map((function(t){return QT(e,t)}));return TE.create(n,"or")}function JT(e){if(ex(e instanceof SE||e instanceof TE),e instanceof SE)return e;var t=e.getFilters();if(1===t.length)return JT(t[0]);if(PE(e))return e;var n=t.map((function(e){return JT(e)})),r=[];return n.forEach((function(t){t instanceof SE?r.push(t):t instanceof TE&&(t.op===e.op?r.push.apply(r,Lt(t.filters)):r.push(t))})),1===r.length?r[0]:TE.create(r,e.op)}var YT=function(){function e(){Mt(this,e),this.sn=new XT}return Ut(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Ux.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ux.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ux.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ux.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ux.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ux.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ux.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ux.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ux.resolve(Ox.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ux.resolve(Ox.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ux.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ux.resolve()}}]),e}(),XT=function(){function e(){Mt(this,e),this.index={}}return Ut(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new L_(wx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new L_(wx.comparator)).toArray()}}]),e}(),ZT=new Uint8Array(0),eC=function(){function e(t,n){Mt(this,e),this.user=t,this.databaseId=n,this.on=new XT,this._n=new mI((function(e){return WE(e)}),(function(e,t){return HE(e,t)})),this.uid=t.uid||""}return Ut(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:e_(i)};return tC(e).put(a)}return Ux.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[yx(t),""],!1,!0);return tC(e).G(r).next((function(e){var r,i=Qt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(r_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=rC(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=iC(e);return a.next((function(e){o.put(IT(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=rC(e),r=iC(e),i=nC(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=nC(e),i=!0,a=new Map;return Ux.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=TI(),o=[];return Ux.forEach(a,(function(i,a){$w("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(WE(t)));var u=function(e,t){var n=Sx(t);if(void 0===n)return null;var r,i=Qt($E(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Qt(Tx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Qt($E(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=Qt(Tx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?JE(e,o.fieldPath,e.startAt):YE(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new bE(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=Qt(Tx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?YE(e,o.fieldPath,e.endAt):JE(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new bE(r,i)}(a,i),f=n.cn(i,a,c),h=n.cn(i,a,l),d=n.ln(i,a,s),p=n.hn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Ux.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ex.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ux.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:qT(TE.create(e.filters,"and")).map((function(t){return GE(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Pn(t[h/c]):ZT,f=u.In(e,s,n[h%c],r),d=u.Tn(e,s,i[h%c],a),p=o.map((function(t){return u.In(e,s,t,!0)}));l.push.apply(l,Lt(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"In",value:function(e,t,n,r){var i=new UT(e,Ex.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new UT(e,Ex.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new zT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Qt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return Ux.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new L_(_x.comparator),r=!1,i=Qt(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Qt(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Qt(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new FT,i=Qt(Tx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);PT.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new FT;return PT.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new FT;return PT.bt.Pt(aE(this.databaseId,t),n.Ht(function(e){var t=Tx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new FT);var i,a=0,o=Qt(Tx(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Qt(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.An(t,s.fieldPath)&&uE(c))r=this.Rn(r,s,c);else{var h=f.Ht(s.kind);PT.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=Lt(e),a=[],o=Qt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Qt(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new FT;f.seed(l.Wt()),PT.bt.Pt(s,f.Ht(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof SE&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=rC(e),i=iC(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Ux.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ax(t.sequenceNumber,new Ox(gT(t.readTime),new Ex(r_(t.documentKey)),t.largestBatchId)):Ax.empty(),r=e.fields.map((function(e){var t=Rt(e,2),n=t[0],r=t[1];return new Cx(_x.fromServerFormat(n),r)}));return new Ix(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vx(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=rC(e),a=iC(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ux.forEach(t,(function(t){return a.put(IT(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ux.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ux.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ux.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Ux.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return nC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return nC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=nC(e),i=new L_(jT);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new UT(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new L_(jT),r=this.En(t,e);if(null==r)return n;var i=Sx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(uE(a)){var o,u=Qt(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new UT(t.indexId,e.key,this.Pn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new UT(t.indexId,e.key,ZT,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;$w("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=F_(a),s=F_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=F_(o)):l?(i(u),u=F_(a)):(u=F_(a),s=F_(o))}}(r,i,jT,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),Ux.waitFor(o)}},{key:"mn",value:function(e){var t=1;return iC(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jT(e,t)})).filter((function(e,t,n){return!t||0!==jT(e,n[t-1])}));var r=[];r.push(e);var i,a=Qt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=jT(o,e),s=jT(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ZT,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ZT,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Sn",value:function(e,t){return jT(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(aC)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ux.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||Zw()}))})).next(aC)}}]),e}();function tC(e){return C_(e,"collectionParents")}function nC(e){return C_(e,"indexEntries")}function rC(e){return C_(e,"indexConfiguration")}function iC(e){return C_(e,"indexState")}function aC(e){ex(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Rx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ox(t.readTime,t.documentKey,n)}var oC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uC=function(){function e(t,n,r){Mt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ut(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sC(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ex(1===u)})));var c,l=[],f=Qt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=o_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ux.waitFor(a).next((function(){return l}))}function cC(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zw();t=e.noDocument}return JSON.stringify(t).length}uC.DEFAULT_COLLECTION_PERCENTILE=10,uC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uC.DEFAULT=new uC(41943040,uC.DEFAULT_COLLECTION_PERCENTILE,uC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uC.DISABLED=new uC(-1,0,0);var lC=function(){function e(t,n,r,i){Mt(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return Ut(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hC(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=dC(e),o=hC(e);return o.add({}).next((function(u){ex("number"==typeof u);var s,c=new lS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ZS(e.ct,t)})),i=n.mutations.map((function(t){return ZS(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new L_((function(e,t){return vx(e.canonicalString(),t.canonicalString())})),d=Qt(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=o_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,u_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),Ux.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hC(e).get(t).next((function(e){return e?(ex(e.userId===n.userId),kT(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?Ux.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hC(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ex(t.batchId>=r),a=kT(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hC(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hC(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return kT(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=a_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dC(e).Z({range:i},(function(r,i,o){var u=Rt(r,3),s=u[0],c=u[1],l=u[2],f=r_(c);if(s===n.userId&&t.path.isEqual(f))return hC(e).get(l).next((function(e){if(!e)throw Zw();ex(e.userId===n.userId),a.push(kT(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new L_(vx),i=[];return t.forEach((function(t){var a=a_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=dC(e).Z({range:o},(function(e,i,a){var o=Rt(e,3),u=o[0],s=o[1],c=o[2],l=r_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Ux.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=a_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new L_(vx);return dC(e).Z({range:o},(function(e,t,a){var o=Rt(e,3),s=o[0],c=o[1],l=o[2],f=r_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hC(e).get(t).next((function(e){if(null===e)throw Zw();ex(e.userId===n.userId),r.push(kT(n.serializer,e))})))})),Ux.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sC(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Ux.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ux.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return dC(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=r_(e[1]);i.push(a)}else r.done()})).next((function(){ex(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fC(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return pC(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return ex(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fC(e,t,n){var r=a_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return dC(e).Z({range:a,Y:!0},(function(e,n,r){var a=Rt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function hC(e){return C_(e,"mutations")}function dC(e){return C_(e,"documentMutations")}function pC(e){return C_(e,"mutationQueues")}var vC=function(){function e(t){Mt(this,e),this.Mn=t}return Ut(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),mC=function(){function e(t,n){Mt(this,e),this.referenceDelegate=t,this.serializer=n}return Ut(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new vC(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return kx.fromTimestamp(new gx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return yC(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return ex(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return yC(e).Z((function(o,u){var s=bT(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ux.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return yC(e).Z((function(e,n){var r=bT(n);t(r)}))}},{key:"Nn",value:function(e){return gC(e).get("targetGlobalKey").next((function(e){return ex(null!==e),e}))}},{key:"Bn",value:function(e,t){return gC(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return yC(e).put(wT(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=WE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yC(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=bT(n);HE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=kC(e);return t.forEach((function(t){var o=e_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ux.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=kC(e);return Ux.forEach(t,(function(t){var a=e_(t.path);return Ux.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=kC(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kC(e),i=TI();return r.Z({range:n,Y:!0},(function(e,t,n){var r=r_(e[1]),a=new Ex(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=e_(t.path),r=IDBKeyRange.bound([n],[yx(n)],!1,!0),i=0;return kC(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=Rt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return yC(e).get(t).next((function(e){return e?bT(e):null}))}}]),e}();function yC(e){return C_(e,"targets")}function gC(e){return C_(e,"targetGlobal")}function kC(e){return C_(e,"targetDocuments")}function bC(e,t){var n=Rt(e,2),r=n[0],i=n[1],a=Rt(t,2),o=a[0],u=a[1],s=vx(r,o);return 0===s?vx(i,u):s}var wC=function(){function e(t){Mt(this,e),this.qn=t,this.buffer=new L_(bC),this.Qn=0}return Ut(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();bC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xC=function(){function e(t,n,r){Mt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return Ut(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;$w("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!qx(e.t0)){e.next=12;break}$w("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Mx(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),_C=function(){function e(t,n){Mt(this,e),this.Gn=t,this.params=n}return Ut(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ux.resolve(Jx.ae);var r=new wC(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($w("LruGarbageCollector","Garbage collection skipped; disabled"),Ux.resolve(oC)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?($w("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),oC):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?($w("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Qw()<=Ba.DEBUG&&$w("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ux.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function EC(e,t){return new _C(e,t)}var IC=function(){function e(t,n){Mt(this,e),this.db=t,this.garbageCollector=EC(this,n)}return Ut(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return SC(e,n)}},{key:"removeReference",value:function(e,t,n){return SC(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return SC(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return pC(e).X((function(r){return fC(e,r,t).next((function(e){return e&&(n=!0),Ux.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,kx.min()),kC(e).delete(function(e){return[0,e_(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Ux.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return SC(e,t)}},{key:"Yn",value:function(e,t){var n,r=kC(e),i=Jx.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Rt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Jx.ae&&t(new Ex(r_(n)),i),i=s,n=u):i=Jx.ae})).next((function(){i!==Jx.ae&&t(new Ex(r_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function SC(e,t){return kC(e).put(function(e,t){return{targetId:0,path:e_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var TC=function(){function e(){Mt(this,e),this.changes=new mI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ut(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,kE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ux.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),CC=function(){function e(t){Mt(this,e),this.serializer=t}return Ut(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return OC(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return OC(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],mT(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=kE.newInvalidDocument(t);return OC(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(RC(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:kE.newInvalidDocument(t)};return OC(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(RC(t))},(function(e,i){r={document:n.er(t,i),size:cC(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=gI();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=gI(),i=new O_(Ex.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,cC(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return Ux.resolve();var r=new L_(LC);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(RC(r.first()),RC(r.last())),a=r.getIterator(),o=a.getNext();return OC(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ex.fromSegments([].concat(Lt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&LC(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(RC(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),mT(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return OC(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=gI(),o=Qt(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.er(Ex.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(hI(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=gI(),o=DC(t,n),u=DC(t,Ox.max());return OC(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.er(Ex.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new NC(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return PC(e).get("remoteDocumentGlobalKey").next((function(e){return ex(!!e),e}))}},{key:"Xn",value:function(e,t){return PC(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=YS(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ex.fromSegments(t.noDocument.path),i=gT(t.noDocument.readTime);n=kE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zw();var a=Ex.fromSegments(t.unknownDocument.path),o=gT(t.unknownDocument.version);n=kE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new gx(e[0],e[1]);return kx.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(kx.min()))return n}return kE.newInvalidDocument(e)}}]),e}();function AC(e){return new CC(e)}var NC=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new mI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ut(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new L_((function(e,t){return vx(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=vT(t.sr.serializer,o);i=i.add(a.path.popLast());var c=cC(s);r+=c-u.size,n.push(t.sr.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=vT(t.sr.serializer,o.convertToNoDocument(kx.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),Ux.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(TC);function PC(e){return C_(e,"remoteDocumentGlobal")}function OC(e){return C_(e,"remoteDocumentsV14")}function RC(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function DC(e,t){var n=t.documentKey.path.toArray();return[e,mT(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LC(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=vx(n[a],r[a]))return i;return(i=vx(n.length,r.length))||((i=vx(n[n.length-2],r[r.length-2]))||vx(n[n.length-1],r[r.length-1]))}var MC=Ut((function e(t,n){Mt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),FC=function(){function e(t,n,r,i){Mt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ut(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&XI(r.mutation,e,U_.empty(),gx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,TI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TI(),i=xI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=bI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=xI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,TI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=gI(),a=EI(),o=EI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof nS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),XI(o.mutation,t,o.mutation.getFieldMask(),gx.now())):a.set(t.key,U_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new MC(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=EI(),i=new O_((function(e,t){return e-t})),a=TI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Qt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||U_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||TI()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=_I();c.forEach((function(e){if(!a.has(e)){var n=JI(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ux.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ex.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ux.resolve(xI()),u=-1,s=a;return o.next((function(t){return Ux.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ux.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,TI())})).next((function(e){return{batchId:u,changes:wI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ex(t)).next((function(e){var t=bI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bI();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ux.forEach(o,(function(o){var u=function(e,t){return new XE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,kE.newInvalidDocument(r)))}));var n=bI();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&XI(a.mutation,i,U_.empty(),gx.now()),hI(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),UC=function(){function e(t){Mt(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return Ut(e,[{key:"getBundleMetadata",value:function(e,t){return Ux.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zS(e.createTime)}}(t)),Ux.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ux.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:xT(e.bundledQuery),readTime:zS(e.readTime)}}(t)),Ux.resolve()}}]),e}(),jC=function(){function e(){Mt(this,e),this.overlays=new O_(Ex.comparator),this.cr=new Map}return Ut(e,[{key:"getOverlay",value:function(e,t){return Ux.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=xI();return Ux.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Ux.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),Ux.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=xI(),i=t.length+1,a=new Ex(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ux.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new O_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=xI(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=xI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ux.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new hS(t,n));var a=this.cr.get(t);void 0===a&&(a=TI(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),VC=function(){function e(){Mt(this,e),this.lr=new L_(zC.hr),this.Pr=new L_(zC.Ir)}return Ut(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zC(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new zC(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new Ex(new wx([])),r=new zC(n,e),i=new zC(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new Ex(new wx([])),n=new zC(t,e),r=new zC(t,e+1),i=TI();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zC(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zC=function(){function e(t,n){Mt(this,e),this.key=t,this.mr=n}return Ut(e,null,[{key:"hr",value:function(e,t){return Ex.comparator(e.key,t.key)||vx(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return vx(e.mr,t.mr)||Ex.comparator(e.key,t.key)}}]),e}(),BC=function(){function e(t,n){Mt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new L_(zC.hr)}return Ut(e,[{key:"checkEmpty",value:function(e){return Ux.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new lS(i,t,n,r);this.mutationQueue.push(a);var o,u=Qt(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.pr=this.pr.add(new zC(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ux.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ux.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return Ux.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ux.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return Ux.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zC(t,0),i=new zC(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),Ux.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new L_(vx);return t.forEach((function(e){var t=new zC(e,0),i=new zC(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),Ux.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ex.isDocumentKey(i)||(i=i.child(""));var a=new zC(new Ex(i),0),o=new L_(vx);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),Ux.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ex(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return Ux.forEach(t.mutations,(function(i){var a=new zC(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zC(t,0),r=this.pr.firstAfterOrEqual(n);return Ux.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ux.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qC=function(){function e(t){Mt(this,e),this.Dr=t,this.docs=new O_(Ex.comparator),this.size=0}return Ut(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ux.resolve(n?n.document.mutableCopy():kE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kE.newInvalidDocument(e))})),Ux.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=gI(),a=t.path,o=new Ex(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Rx(Px(l),n)<=0||(r.has(l.key)||hI(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ux.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zw()}},{key:"vr",value:function(e,t){return Ux.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new KC(this)}},{key:"getSize",value:function(e){return Ux.resolve(this.size)}}]),e}(),KC=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).sr=e,r}return Ut(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),Ux.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(TC),GC=function(){function e(t){Mt(this,e),this.persistence=t,this.Cr=new mI((function(e){return WE(e)}),HE),this.lastRemoteSnapshotVersion=kx.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new VC,this.targetCount=0,this.Or=vC.xn()}return Ut(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),Ux.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ux.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ux.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),Ux.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Ux.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new vC(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,Ux.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),Ux.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Ux.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ux.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ux.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return Ux.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),Ux.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ux.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),Ux.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return Ux.resolve(n)}},{key:"containsKey",value:function(e,t){return Ux.resolve(this.Mr.containsKey(t))}}]),e}(),WC=function(){function e(t,n){var r=this;Mt(this,e),this.Nr={},this.overlays={},this.Br=new Jx(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new GC(this),this.indexManager=new YT,this.remoteDocumentCache=function(e){return new qC(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new pT(n),this.Qr=new UC(this.serializer)}return Ut(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jC,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new BC(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;$w("MemoryPersistence","Starting transaction:",e);var i=new HC(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return Ux.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),HC=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ut(n)}(Lx),QC=function(){function e(t){Mt(this,e),this.persistence=t,this.Wr=new VC,this.Gr=null}return Ut(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw Zw()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Ux.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Ux.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),Ux.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ux.forEach(this.jr,(function(r){var i=Ex.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,kx.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return Ux.or([function(){return Ux.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),$C=function(){function e(t){Mt(this,e),this.serializer=t}return Ut(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new jx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0}),e.createObjectStore("documentMutations")}(e),JC(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ux.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),JC(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kx.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ux.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:k_});t.createIndex("collectionPathOverlayIndex",b_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",w_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:s_});t.createIndex("documentKeyIndex",c_),t.createIndex("collectionGroupIndex",l_)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:v_}).createIndex("sequenceNumberIndex",m_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:y_}).createIndex("documentKeyIndex",g_,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=cC(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Ux.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Ux.forEach(r,(function(r){ex(r.userId===n.userId);var i=kT(t.serializer,r);return sC(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new wx(n),o=function(e){return[0,e_(e)]}(a);r.push(t.get(o).next((function(n){return n?Ux.resolve():function(n){return t.put({targetId:0,path:e_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ux.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:p_});var n=t.store("collectionParents"),r=new XT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:e_(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new wx(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=Rt(e,3),r=(n[0],n[1]),a=(n[2],r_(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=bT(r),a=wT(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Ex(wx.fromString(e.document.name).popFirst(5)):e.noDocument?Ex.fromSegments(e.noDocument.path):e.unknownDocument?Ex.fromSegments(e.unknownDocument.path):Zw()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Ux.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=AC(this.serializer),a=new WC(QC.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:TI();kT(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ux.forEach(r,(function(e,r){var o=new Gw(r),u=AT.lt(n.serializer,o),s=a.getIndexManager(o),c=lC.lt(o,n.serializer,s,a.referenceDelegate);return new FC(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new T_(t,Jx.ae),e).next()}))}))}}]),e}();function JC(e){e.createObjectStore("targetDocuments",{keyPath:h_}).createIndex("documentTargetsIndex",d_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",f_,{unique:!0}),e.createObjectStore("targetGlobal")}var YC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XC=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Mt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.si=c,this.oi=l,this._i=f,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new rx(nx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IC(this,i),this.Pi=n+"main",this.serializer=new pT(s),this.Ii=new Vx(this.Pi,this._i,new $C(this.serializer)),this.kr=new mC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AC(this.serializer),this.Qr=new ST,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===l&&Jw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ut(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new rx(nx.FAILED_PRECONDITION,YC);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new Jx(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=fr(cr().mark((function n(r){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return eA(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(qx(t))return $w("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return $w("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return ZC(e).get("owner").next((function(e){return Ux.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return eA(e).delete(this.clientId)}},{key:"Si",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=C_(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ux.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=Qt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?Ux.resolve(!0):ZC(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new rx(nx.FAILED_PRECONDITION,YC);return!1}}return!(!t.networkEnabled||!t.inForeground)||eA(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&$w("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new T_(e,Jx.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return eA(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return lC.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new eC(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return AT.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;$w("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?S_:14===e?I_:13===e?E_:12===e?__:11===e?x_:void Zw()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new T_(a,r.Br?r.Br.next():Jx.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw Jw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new rx(nx.FAILED_PRECONDITION,Dx);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return ZC(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new rx(nx.FAILED_PRECONDITION,YC)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ZC(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=ZC(e);return n.get("owner").next((function(e){return t.yi(e)?($w("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ux.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!da()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return $w("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jw("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Vx.v()}}]),e}();function ZC(e){return C_(e,"owner")}function eA(e){return C_(e,"clientMetadata")}function tA(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var nA=function(){function e(t,n,r,i){Mt(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return Ut(e,null,[{key:"qi",value:function(t,n){var r,i=TI(),a=TI(),o=Qt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rA=function(){function e(){Mt(this,e),this.Qi=!1}return Ut(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(tI(t))return Ux.resolve(null);var r=oI(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=sI(t,null,"F"),r=oI(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=TI.apply(void 0,Lt(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,sI(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return tI(t)||r.isEqual(kx.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(Qw()<=Ba.DEBUG&&$w("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fI(t)),i.ji(e,o,t,Nx(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new L_(pI(e));return t.forEach((function(t,r){hI(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return Qw()<=Ba.DEBUG&&$w("QueryEngine","Using full collection scan to execute query:",fI(t)),this.Ki.getDocumentsMatchingQuery(e,t,Ox.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),iA=function(){function e(t,n,r,i){Mt(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new O_(vx),this.Yi=new mI((function(e){return WE(e)}),HE),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return Ut(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FC(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function aA(e,t,n,r){return new iA(e,t,n,r)}function oA(e,t){return uA.apply(this,arguments)}function uA(){return uA=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=TI(),s=Qt(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Qt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Qt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Qt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function sA(e,t){var n=tx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ux.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ex(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=TI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function cA(e){var t=tx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function lA(e,t){var n=tx(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(V_.EMPTY_BYTE_STRING,kx.min()).withLastLimboFreeSnapshotVersion(kx.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var u=gI(),s=TI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fA(e,a,t.documentUpdates).next((function(e){u=e.ns,s=e.rs}))),!r.isEqual(kx.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ux.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function fA(e,t,n){var r=TI(),i=TI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gI();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(kx.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):$w("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function hA(e,t){var n=tx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function dA(e,t){var n=tx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,Ux.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new dT(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tx(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qx(e.t1)){e.next=12;break}throw e.t1;case 12:$w("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vA.apply(this,arguments)}function mA(e,t,n){var r=tx(e),i=kx.min(),a=TI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=tx(e),i=r.Yi.get(n);return void 0!==i?Ux.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,oI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:kx.min(),n?a:TI())})).next((function(e){return kA(r,dI(t),e),{documents:e,ss:a}}))}))}function yA(e,t){var n=tx(e),r=tx(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function gA(e,t){var n=tx(e),r=n.Zi.get(t)||kx.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Nx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kA(n,t,e),e}))}function kA(e,t,n){var r=e.Zi.get(t)||kx.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function bA(e,t,n,r){return wA.apply(this,arguments)}function wA(){return wA=fr(cr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=tx(t),o=TI(),u=gI(),s=Qt(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(h=n._s(l)).setReadTime(n.us(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,dA(a,function(e){return oI(eI(wx.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fA(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t){return _A.apply(this,arguments)}function _A(){return _A=fr(cr().mark((function e(t,n){var r,i,a,o=arguments;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:TI(),e.next=3,dA(t,oI(xT(n.bundledQuery)));case 3:return i=e.sent,a=tx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=zS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken(V_.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}function EA(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function IA(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function SA(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var TA=function(){function e(t,n,r,i){Mt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ut(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new rx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),CA=function(){function e(t,n,r){Mt(this,e),this.targetId=t,this.state=n,this.error=r}return Ut(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rx(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),AA=function(){function e(t,n){Mt(this,e),this.clientId=t,this.activeTargetIds=n}return Ut(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=AI(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zx(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),NA=function(){function e(t,n){Mt(this,e),this.clientId=t,this.onlineState=n}return Ut(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),PA=function(){function e(){Mt(this,e),this.activeTargetIds=AI()}return Ut(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),OA=function(){function e(t,n,r,i,a){Mt(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new O_(vx),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=EA(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new PA),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return Ut(e,[{key:"start",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=Qt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(EA(this.persistenceKey,i)))&&(o=AA.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(u=this.storage.getItem(this.ys))&&(s=this.bs(u))&&this.Ds(s),c=Qt(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(d){c.e(d)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(SA(this.persistenceKey,e));if(n){var r=CA.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(SA(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return $w("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){$w("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){$w("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if($w("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void Jw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(fr(cr().mark((function e(){var r,i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(u));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}s=function(e){var t=Jx.ae;if(null!=e)try{var n=JSON.parse(e);ex("number"==typeof n),t=n}catch(e){Jw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jx.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new TA(this.currentUser,e,t,n),i=IA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=IA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=SA(this.persistenceKey,e),i=new CA(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return AA.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return TA.cs(new Gw(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return CA.cs(r,t)}},{key:"bs",value:function(e){return NA.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:$w("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.js(o,u).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=AI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),RA=function(){function e(){Mt(this,e),this.Hs=new PA,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ut(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new PA,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),DA=function(){function e(){Mt(this,e)}return Ut(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),LA=function(){function e(){var t=this;Mt(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return Ut(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){$w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Qt(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){$w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Qt(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),MA=null;function FA(){return null===MA?MA=268435456+Math.round(2147483648*Math.random()):MA++,"0x"+MA.toString(16)}var UA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},jA=function(){function e(t){Mt(this,e),this.so=t.so,this.oo=t.oo}return Ut(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),VA="WebChannelConnection",zA=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Ut(n,[{key:"fo",value:function(e,t,n,r){var i=FA();return new Promise((function(a,o){var u=new zw;u.setWithCredentials(!0),u.listenOnce(Mw.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Lw.NO_ERROR:var t=u.getResponseJson();$w(VA,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Lw.TIMEOUT:$w(VA,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rx(nx.DEADLINE_EXCEEDED,"Request time out"));break;case Lw.HTTP_ERROR:var n=u.getStatus();if($w(VA,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nx).indexOf(t)>=0?t:nx.UNKNOWN}(s.status);o(new rx(c,s.message))}else o(new rx(nx.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new rx(nx.UNAVAILABLE,"Connection failed."));break;default:Zw()}}finally{$w(VA,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);$w(VA,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=FA(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Rw(),o=Dw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new jw({})),this.mo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");$w(VA,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new jA({so:function(t){h?$w(VA,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||($w(VA,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),$w(VA,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Vw.EventType.OPEN,(function(){h||$w(VA,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Vw.EventType.CLOSE,(function(){h||(h=!0,$w(VA,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,Vw.EventType.ERROR,(function(t){h||(h=!0,Yw(VA,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new rx(nx.UNAVAILABLE,"The operation could not be completed")))})),p(l,Vw.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ex(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){$w(VA,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=oS[e];if(void 0!==t)return vS(t)}(u),c=o.message;void 0===s&&(s=nx.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Po(new rx(s,c)),l.close()}else $w(VA,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,Fw.STAT_EVENT,(function(t){t.stat===Uw.PROXY?$w(VA,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Uw.NOPROXY&&$w(VA,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){Mt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.To=n+"://"+t.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ut(e,[{key:"Ao",get:function(){return!1}},{key:"Ro",value:function(e,t,n,r,i){var a=FA(),o=this.Vo(e,t);$w("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.mo(u,r,i),this.fo(e,o,u,n).then((function(t){return $w("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Yw("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"po",value:function(e,t,n,r,i,a){return this.Ro(e,t,n,r,i)}},{key:"mo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ww,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Vo",value:function(e,t){var n=UA[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function BA(){return"undefined"!=typeof window?window:null}function qA(){return"undefined"!=typeof document?document:null}function KA(e){return new MS(e,!0)}var GA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Mt(this,e),this.ii=t,this.timerId=n,this.wo=r,this.So=i,this.bo=a,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}return Ut(e,[{key:"reset",value:function(){this.Do=0}},{key:"Fo",value:function(){this.Do=this.bo}},{key:"Mo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&$w("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Do," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}},{key:"Oo",value:function(){null!==this.vo&&(this.vo.skipDelay(),this.vo=null)}},{key:"cancel",value:function(){null!==this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"xo",value:function(){return(Math.random()-.5)*this.Do}}]),e}(),WA=function(){function e(t,n,r,i,a,o,u,s){Mt(this,e),this.ii=t,this.No=r,this.Bo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new GA(t,n)}return Ut(e,[{key:"Ko",value:function(){return 1===this.state||5===this.state||this.$o()}},{key:"$o",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Uo()}},{key:"stop",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.state=0,this.Qo.reset()}},{key:"Go",value:function(){var e=this;this.$o()&&null===this.ko&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,(function(){return e.zo()})))}},{key:"jo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$o()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.ko&&(this.ko.cancel(),this.ko=null)}},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"close",value:function(){var e=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,4!==t?this.Qo.reset():n&&n.code===nx.RESOURCE_EXHAUSTED?(Jw(n.toString()),Jw("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===nx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Rt(t,2),i=r[0],a=r[1];e.Lo===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new rx(nx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.e_(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Zo(this.Lo);this.stream=this.t_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.qo=n.ii.enqueueAfterDelay(n.Bo,1e4,(function(){return n.$o()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.e_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Uo",value:function(){var e=this;this.state=5,this.Qo.Mo(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"e_",value:function(e){return $w("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Zo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Lo===e?n():($w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HA=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return Mt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Ut(n,[{key:"t_",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ex(void 0===t||"string"==typeof t),V_.fromBase64String(t||"")):(ex(void 0===t||t instanceof Uint8Array),V_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?nx.UNKNOWN:vS(e.code);return new rx(t,e.message||"")}(o);n=new CS(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=GS(e,s.document.name),l=zS(s.document.updateTime),f=s.document.createTime?zS(s.document.createTime):kx.min(),h=new yE({mapValue:{fields:s.document.fields}}),d=kE.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new SS(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=GS(e,m.document),g=m.readTime?zS(m.readTime):kx.min(),k=kE.newNoDocument(y,g),b=m.removedTargetIds||[];n=new SS([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=GS(e,w.document),_=w.removedTargetIds||[];n=new SS([],_,x,null)}else{if(!("filter"in t))return Zw();t.filter;var E=t.filter;E.targetId;var I=E.count,S=void 0===I?0:I,T=E.unchangedNames,C=new dS(S,T),A=E.targetId;n=new TS(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return kx.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?kx.min():t.readTime?zS(t.readTime):kx.min()}(e);return this.listener.n_(t,n)}},{key:"r_",value:function(e){var t={};t.database=QS(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=QE(r)?{documents:tT(e,r)}:{query:nT(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jS(e,t.resumeToken);var i=FS(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(kx.min())>0){n.readTime=US(e,t.snapshotVersion.toTimestamp());var a=FS(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zw()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.jo(t)}},{key:"i_",value:function(e){var t={};t.database=QS(this.serializer),t.removeTarget=e,this.jo(t)}}]),n}(WA),QA=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return Mt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.s_=!1,s}return Ut(n,[{key:"o_",get:function(){return this.s_}},{key:"start",value:function(){this.s_=!1,this.lastStreamToken=void 0,Qc(zt(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.s_&&this.__([])}},{key:"t_",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(ex(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();var t=function(e,t){return e&&e.length>0?(ex(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?zS(e.updateTime):zS(t);return n.isEqual(kx.min())&&(n=zS(t)),new WI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=zS(e.commitTime);return this.listener.a_(n,t)}return ex(!e.writeResults||0===e.writeResults.length),this.s_=!0,this.listener.u_()}},{key:"c_",value:function(){var e={};e.database=QS(this.serializer),this.jo(e)}},{key:"__",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ZS(t.serializer,e)}))};this.jo(n)}}]),n}(WA),$A=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return Mt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.l_=!1,o}return Ut(n,[{key:"h_",value:function(){if(this.l_)throw new rx(nx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Ro",value:function(e,t,n){var r=this;return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Rt(i,2),o=a[0],u=a[1];return r.connection.Ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rx(nx.UNKNOWN,e.toString())}))}},{key:"po",value:function(e,t,n,r){var i=this;return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Rt(a,2),u=o[0],s=o[1];return i.connection.po(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nx.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new rx(nx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.l_=!0}}]),n}(Ut((function e(){Mt(this,e)})));var JA=function(){function e(t,n){Mt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}return Ut(e,[{key:"d_",value:function(){var e=this;0===this.I_&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.T_=null,e.R_("Backend didn't respond within 10 seconds."),e.A_("Offline"),Promise.resolve()})))}},{key:"V_",value:function(e){"Online"===this.state?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.A_("Offline")))}},{key:"set",value:function(e){this.m_(),this.I_=0,"Online"===e&&(this.E_=!1),this.A_(e)}},{key:"A_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"R_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.E_?(Jw(t),this.E_=!1):$w("OnlineStateTracker",t)}},{key:"m_",value:function(){null!==this.T_&&(this.T_.cancel(),this.T_=null)}}]),e}(),YA=Ut((function e(t,n,r,i,a){var o=this;Mt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=a,this.w_.Ys((function(e){r.enqueueAndForget(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=sN(o),!e.t0){e.next=5;break}return $w("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tx(t)).p_.add(4),e.next=4,eN(n);case 4:return n.S_.set("Unknown"),n.p_.delete(4),e.next=8,XA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.S_=new JA(r,i)}));function XA(e){return ZA.apply(this,arguments)}function ZA(){return ZA=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sN(t)){e.next=18;break}n=Qt(t.y_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ZA.apply(this,arguments)}function eN(e){return tN.apply(this,arguments)}function tN(){return tN=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qt(t.y_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),tN.apply(this,arguments)}function nN(e,t){var n=tx(e);n.g_.has(t.targetId)||(n.g_.set(t.targetId,t),uN(n)?oN(n):FN(n).$o()&&iN(n,t))}function rN(e,t){var n=tx(e),r=FN(n);n.g_.delete(t),r.$o()&&aN(n,t),0===n.g_.size&&(r.$o()?r.Go():sN(n)&&n.S_.set("Unknown"))}function iN(e,t){if(e.b_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kx.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}FN(e).r_(t)}function aN(e,t){e.b_.Be(t),FN(e).i_(t)}function oN(e){e.b_=new NS({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.g_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),FN(e).start(),e.S_.d_()}function uN(e){return sN(e)&&!FN(e).Ko()&&e.g_.size>0}function sN(e){return 0===tx(e).p_.size}function cN(e){e.b_=void 0}function lN(e){return fN.apply(this,arguments)}function fN(){return fN=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.g_.forEach((function(e,n){iN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),fN.apply(this,arguments)}function hN(e,t){return dN.apply(this,arguments)}function dN(){return dN=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cN(t),uN(t)?(t.S_.V_(n),oN(t)):t.S_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t,n){return vN.apply(this,arguments)}function vN(){return vN=fr(cr().mark((function e(t,n,r){var i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.S_.set("Online"),!(n instanceof CS&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Qt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.g_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.g_.delete(o),t.b_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),$w("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof SS?t.b_.We(n):n instanceof TS?t.b_.Ze(n):t.b_.je(n),r.isEqual(kx.min())){e.next=29;break}return e.prev=14,e.next=17,cA(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.b_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.g_.get(r);i&&e.g_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.g_.get(t);if(r){e.g_.set(t,r.withResumeToken(V_.EMPTY_BYTE_STRING,r.snapshotVersion)),aN(e,t);var i=new dT(r.target,t,n,r.sequenceNumber);iN(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),$w("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vN.apply(this,arguments)}function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return yN=fr(cr().mark((function e(t,n,r){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qx(n)){e.next=2;break}throw n;case 2:return t.p_.add(1),e.next=5,eN(t);case 5:t.S_.set("Offline"),r||(r=function(){return cA(t.localStore)}),t.asyncQueue.enqueueRetryable(fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $w("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.p_.delete(1),e.next=6,XA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(e,t){return t().catch((function(n){return mN(e,n,t)}))}function kN(e){return bN.apply(this,arguments)}function bN(){return bN=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tx(t),r=UN(n),i=n.f_.length>0?n.f_[n.f_.length-1].batchId:-1;case 2:if(!wN(n)){e.next=19;break}return e.prev=3,e.next=6,hA(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.f_.length&&r.Go(),e.abrupt("break",19);case 10:i=a.batchId,xN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mN(n,e.t0);case 17:e.next=2;break;case 19:_N(n)&&EN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bN.apply(this,arguments)}function wN(e){return sN(e)&&e.f_.length<10}function xN(e,t){e.f_.push(t);var n=UN(e);n.$o()&&n.o_&&n.__(t.mutations)}function _N(e){return sN(e)&&!UN(e).Ko()&&e.f_.length>0}function EN(e){UN(e).start()}function IN(e){return SN.apply(this,arguments)}function SN(){return SN=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UN(t).c_();case 1:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function TN(e){return CN.apply(this,arguments)}function CN(){return CN=fr(cr().mark((function e(t){var n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=UN(t),r=Qt(t.f_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.__(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function AN(e,t,n){return NN.apply(this,arguments)}function NN(){return NN=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.f_.shift(),a=fS.from(i,n,r),e.next=3,gN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kN(t);case 5:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function PN(e,t){return ON.apply(this,arguments)}function ON(){return ON=fr(cr().mark((function e(t,n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&UN(t).o_,!e.t0){e.next=4;break}return e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return pS(e)&&e!==nx.ABORTED}(n.code)){e.next=7;break}return r=t.f_.shift(),UN(t).Wo(),e.next=5,gN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:_N(t)&&EN(t);case 5:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function RN(e,t){return DN.apply(this,arguments)}function DN(){return DN=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=tx(t)).asyncQueue.verifyOperationInProgress(),$w("RemoteStore","RemoteStore received new credentials"),i=sN(r),r.p_.add(3),e.next=6,eN(r);case 6:return i&&r.S_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.p_.delete(3),e.next=12,XA(r);case 12:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function LN(e,t){return MN.apply(this,arguments)}function MN(){return MN=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tx(t),!n){e.next=7;break}return r.p_.delete(2),e.next=5,XA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.p_.add(2),e.next=12,eN(r);case 12:r.S_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function FN(e){return e.D_||(e.D_=function(e,t,n){var r=tx(e);return r.h_(),new HA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:lN.bind(null,e),uo:hN.bind(null,e),n_:pN.bind(null,e)}),e.y_.push(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.D_.Wo(),uN(e)?oN(e):e.S_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.D_.stop();case 6:cN(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.D_}function UN(e){return e.v_||(e.v_=function(e,t,n){var r=tx(e);return r.h_(),new QA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:IN.bind(null,e),uo:PN.bind(null,e),u_:TN.bind(null,e),a_:AN.bind(null,e)}),e.y_.push(function(){var t=fr(cr().mark((function t(n){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.v_.Wo(),t.next=4,kN(e);case 4:t.next=9;break;case 6:return t.next=8,e.v_.stop();case 8:e.f_.length>0&&($w("RemoteStore","Stopping write stream with ".concat(e.f_.length," pending writes")),e.f_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}var jN=function(){function e(t,n,r,i,a){Mt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ix,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ut(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rx(nx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function VN(e,t){if(Jw("AsyncQueue","".concat(t,": ").concat(e)),qx(e))return new rx(nx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zN=function(){function e(t){Mt(this,e),this.comparator=t?function(e,n){return t(e,n)||Ex.comparator(e.key,n.key)}:function(e,t){return Ex.comparator(e.key,t.key)},this.keyedMap=bI(),this.sortedSet=new O_(this.comparator)}return Ut(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),BN=function(){function e(){Mt(this,e),this.C_=new O_(Ex.comparator)}return Ut(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.C_.get(t);n?0!==e.type&&3===n.type?this.C_=this.C_.insert(t,e):3===e.type&&1!==n.type?this.C_=this.C_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.C_=this.C_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.C_=this.C_.remove(t):1===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):Zw():this.C_=this.C_.insert(t,e)}},{key:"F_",value:function(){var e=[];return this.C_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),qN=function(){function e(t,n,r,i,a,o,u,s,c){Mt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Ut(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,zN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),KN=Ut((function e(){Mt(this,e),this.M_=void 0,this.listeners=[]})),GN=Ut((function e(){Mt(this,e),this.queries=new mI((function(e){return lI(e)}),cI),this.onlineState="Unknown",this.x_=new Set}));function WN(e,t){return HN.apply(this,arguments)}function HN(){return HN=fr(cr().mark((function e(t,n){var r,i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new KN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.M_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=VN(e.t0,"Initialization of query '".concat(fI(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.O_(r.onlineState),o.M_&&n.N_(o.M_)&&XN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HN.apply(this,arguments)}function QN(e,t){return $N.apply(this,arguments)}function $N(){return $N=fr(cr().mark((function e(t,n){var r,i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function JN(e,t){var n,r=tx(e),i=!1,a=Qt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Qt(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.N_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.M_=o}}}catch(f){a.e(f)}finally{a.f()}i&&XN(r)}function YN(e,t,n){var r=tx(e),i=r.queries.get(t);if(i){var a,o=Qt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function XN(e){e.x_.forEach((function(e){e.next()}))}var ZN=function(){function e(t,n,r){Mt(this,e),this.query=t,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}return Ut(e,[{key:"N_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Qt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new qN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.L_?this.q_(e)&&(this.B_.next(e),a=!0):this.Q_(e,this.onlineState)&&(this.K_(e),a=!0),this.k_=e,a}},{key:"onError",value:function(e){this.B_.error(e)}},{key:"O_",value:function(e){this.onlineState=e;var t=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),t=!0),t}},{key:"Q_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.U_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"K_",value:function(e){e=qN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}]),e}(),eP=function(){function e(t,n){Mt(this,e),this.W_=t,this.byteLength=n}return Ut(e,[{key:"G_",value:function(){return"metadata"in this.W_}}]),e}(),tP=function(){function e(t){Mt(this,e),this.serializer=t}return Ut(e,[{key:"os",value:function(e){return GS(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?YS(this.serializer,e.document,!1):kE.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return zS(e)}}]),e}(),nP=function(){function e(t,n,r){Mt(this,e),this.z_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rP(t)}return Ut(e,[{key:"j_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.W_.namedQuery)this.queries.push(e.W_.namedQuery);else if(e.W_.documentMetadata){this.documents.push({metadata:e.W_.documentMetadata}),e.W_.documentMetadata.exists||++t;var n=wx.fromString(e.W_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.W_.document&&(this.documents[this.documents.length-1].document=e.W_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"H_",value:function(e){var t,n=new Map,r=new tP(this.serializer),i=Qt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.os(a.metadata.name),s=Qt(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||TI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bA(this.localStore,new tP(this.serializer),this.documents,this.z_.id);case 2:t=e.sent,n=this.H_(this.documents),r=Qt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xA(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,J_:this.collectionGroups,Y_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rP(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var iP=Ut((function e(t){Mt(this,e),this.key=t})),aP=Ut((function e(t){Mt(this,e),this.key=t})),oP=function(){function e(t,n){Mt(this,e),this.query=t,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=TI(),this.mutatedKeys=TI(),this.ta=pI(t),this.na=new zN(this.ta)}return Ut(e,[{key:"ra",get:function(){return this.Z_}},{key:"ia",value:function(e,t){var n=this,r=t?t.sa:new BN,i=t?t.na:this.na,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=hI(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.oa(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ta(f,s)>0||c&&n.ta(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{na:o,sa:r,zi:u,mutatedKeys:a}}},{key:"oa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;var a=e.sa.F_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zw()}};return n(e)-n(t)}(e.type,t.type)||r.ta(e.doc,t.doc)})),this._a(n);var o=t?this.aa():[],u=0===this.ea.size&&this.current?1:0,s=u!==this.X_;return this.X_=u,0!==a.length||s?{snapshot:new qN(this.query,e.na,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}},{key:"O_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({na:this.na,sa:new BN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}},{key:"ca",value:function(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}},{key:"_a",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Z_=t.Z_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Z_=t.Z_.delete(e)})),this.current=e.current)}},{key:"aa",value:function(){var e=this;if(!this.current)return[];var t=this.ea;this.ea=TI(),this.na.forEach((function(t){e.ca(t.key)&&(e.ea=e.ea.add(t.key))}));var n=[];return t.forEach((function(t){e.ea.has(t)||n.push(new aP(t))})),this.ea.forEach((function(e){t.has(e)||n.push(new iP(e))})),n}},{key:"la",value:function(e){this.Z_=e.ss,this.ea=TI();var t=this.ia(e.documents);return this.applyChanges(t,!0)}},{key:"ha",value:function(){return qN.fromInitialDocuments(this.query,this.na,this.mutatedKeys,0===this.X_,this.hasCachedResults)}}]),e}(),uP=Ut((function e(t,n,r){Mt(this,e),this.query=t,this.targetId=n,this.view=r})),sP=Ut((function e(t){Mt(this,e),this.key=t,this.Pa=!1})),cP=function(){function e(t,n,r,i,a,o){Mt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new mI((function(e){return lI(e)}),cI),this.Ea=new Map,this.da=new Set,this.Aa=new O_(Ex.comparator),this.Ra=new Map,this.Va=new VC,this.ma={},this.fa=new Map,this.ga=vC.On(),this.onlineState="Unknown",this.pa=void 0}return Ut(e,[{key:"isPrimaryClient",get:function(){return!0===this.pa}}]),e}();function lP(e,t){return fP.apply(this,arguments)}function fP(){return fP=fr(cr().mark((function e(t,n){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rO(t),!(o=r.Ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ha(),e.next=15;break;case 6:return e.next=8,dA(r.localStore,oI(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,hP(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&nN(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function hP(e,t,n,r,i){return dP.apply(this,arguments)}function dP(){return dP=fr(cr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ya=function(e,n,r){return function(){var e=fr(cr().mark((function e(t,n,r,i){var a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ia(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,mA(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ia(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(RP(t,n.targetId,u.ua),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mA(t.localStore,n,!0);case 3:return o=e.sent,u=new oP(n,o.ss),s=u.ia(o.documents),c=IS.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),RP(t,r,l.ua),f=new uP(n,r,u),e.abrupt("return",(t.Ta.set(n,f),t.Ea.has(r)?t.Ea.get(r).push(n):t.Ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),dP.apply(this,arguments)}function pP(e,t){return vP.apply(this,arguments)}function vP(){return vP=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tx(t),i=r.Ta.get(n),!((a=r.Ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ea.set(i.targetId,a.filter((function(e){return!cI(e,n)}))),void r.Ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pA(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rN(r.remoteStore,i.targetId),PP(r,i.targetId)})).catch(Mx);case 9:e.next=14;break;case 11:return PP(r,i.targetId),e.next=14,pA(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vP.apply(this,arguments)}function mP(e,t,n){return yP.apply(this,arguments)}function yP(){return yP=fr(cr().mark((function e(t,n,r){var i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iO(t),e.prev=1,e.next=4,function(e,t){var n,r,i=tx(e),a=gx.now(),o=t.reduce((function(e,t){return e.add(t.key)}),TI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=gI(),s=TI();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Qt(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ZI(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new nS(c.key,l,gE(l.value.mapValue),HI.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:wI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ma[e.currentUser.toKey()];r||(r=new O_(vx)),r=r.insert(t,n),e.ma[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,MP(i,a.changes);case 9:return e.next=11,kN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=VN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),yP.apply(this,arguments)}function gP(e,t){return kP.apply(this,arguments)}function kP(){return kP=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),e.prev=1,e.next=4,lA(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ra.get(t);n&&(ex(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Pa=!0:e.modifiedDocuments.size>0?ex(n.Pa):e.removedDocuments.size>0&&(ex(n.Pa),n.Pa=!1))})),e.next=8,MP(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Mx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kP.apply(this,arguments)}function bP(e,t,n){var r=tx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ta.forEach((function(e,n){var r=n.view.O_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Qt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.O_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&XN(n)}(r.eventManager,t),i.length&&r.Ia.n_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wP(e,t,n){return xP.apply(this,arguments)}function xP(){return xP=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=tx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new O_(Ex.comparator)).insert(o,kE.newNoDocument(o,kx.min())),s=TI().add(o),c=new ES(kx.min(),new Map,new O_(vx),u,s),e.next=9,gP(i,c);case 9:i.Aa=i.Aa.remove(o),i.Ra.delete(n),LP(i),e.next=16;break;case 14:return e.next=16,pA(i.localStore,n,!1).then((function(){return PP(i,n,r)})).catch(Mx);case 16:case"end":return e.stop()}}),e)}))),xP.apply(this,arguments)}function _P(e,t){return EP.apply(this,arguments)}function EP(){return EP=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),i=n.batch.batchId,e.prev=1,e.next=4,sA(r.localStore,n);case 4:return a=e.sent,NP(r,i,null),AP(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,MP(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Mx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),EP.apply(this,arguments)}function IP(e,t,n){return SP.apply(this,arguments)}function SP(){return SP=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tx(t),e.prev=1,e.next=4,function(e,t){var n=tx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ex(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,NP(i,n,r),AP(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,MP(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Mx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SP.apply(this,arguments)}function TP(e,t){return CP.apply(this,arguments)}function CP(){return CP=fr(cr().mark((function e(t,n){var r,i,a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sN((r=tx(t)).remoteStore)||$w("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=tx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.fa.get(i)||[]).push(n),r.fa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=VN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),CP.apply(this,arguments)}function AP(e,t){(e.fa.get(t)||[]).forEach((function(e){e.resolve()})),e.fa.delete(t)}function NP(e,t,n){var r=tx(e),i=r.ma[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ma[r.currentUser.toKey()]=i}}function PP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Qt(e.Ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ta.delete(a),n&&e.Ia.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ea.delete(t),e.isPrimaryClient&&e.Va.Ar(t).forEach((function(t){e.Va.containsKey(t)||OP(e,t)}))}function OP(e,t){e.da.delete(t.path.canonicalString());var n=e.Aa.get(t);null!==n&&(rN(e.remoteStore,n),e.Aa=e.Aa.remove(t),e.Ra.delete(n),LP(e))}function RP(e,t,n){var r,i=Qt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof iP?(e.Va.addReference(a.key,t),DP(e,a)):a instanceof aP?($w("SyncEngine","Document no longer in limbo: "+a.key),e.Va.removeReference(a.key,t),e.Va.containsKey(a.key)||OP(e,a.key)):Zw()}}catch(o){i.e(o)}finally{i.f()}}function DP(e,t){var n=t.key,r=n.path.canonicalString();e.Aa.get(n)||e.da.has(r)||($w("SyncEngine","New document in limbo: "+n),e.da.add(r),LP(e))}function LP(e){for(;e.da.size>0&&e.Aa.size<e.maxConcurrentLimboResolutions;){var t=e.da.values().next().value;e.da.delete(t);var n=new Ex(wx.fromString(t)),r=e.ga.next();e.Ra.set(r,new sP(n)),e.Aa=e.Aa.insert(n,r),nN(e.remoteStore,new dT(oI(eI(n.path)),r,"TargetPurposeLimboResolution",Jx.ae))}}function MP(e,t,n){return FP.apply(this,arguments)}function FP(){return FP=fr(cr().mark((function e(t,n,r){var i,a,o,u;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tx(t),a=[],o=[],u=[],e.t0=i.Ta.isEmpty(),e.t0){e.next=9;break}return i.Ta.forEach((function(e,t){u.push(i.ya(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=nA.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ia.n_(a),e.next=9,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ux.forEach(n,(function(t){return Ux.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ux.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qx(e.t0)){e.next=10;break}throw e.t0;case 10:$w("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Qt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),FP.apply(this,arguments)}function UP(e,t){return jP.apply(this,arguments)}function jP(){return jP=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=tx(t)).currentUser.isEqual(n)){e.next=11;break}return $w("SyncEngine","User change. New user:",n.toKey()),e.next=5,oA(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.fa.forEach((function(e){e.forEach((function(e){e.reject(new rx(nx.CANCELLED,t))}))})),e.fa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,MP(r,i.ts);case 11:case"end":return e.stop()}}),e)}))),jP.apply(this,arguments)}function VP(e,t){var n=tx(e),r=n.Ra.get(t);if(r&&r.Pa)return TI().add(r.key);var i=TI(),a=n.Ea.get(t);if(!a)return i;var o,u=Qt(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ta.get(s);i=i.unionWith(c.view.ra)}}catch(l){u.e(l)}finally{u.f()}return i}function zP(e,t){return BP.apply(this,arguments)}function BP(){return BP=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),e.next=3,mA(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.la(i),e.abrupt("return",(r.isPrimaryClient&&RP(r,n.targetId,a.ua),a));case 6:case"end":return e.stop()}}),e)}))),BP.apply(this,arguments)}function qP(e,t){return KP.apply(this,arguments)}function KP(){return KP=fr(cr().mark((function e(t,n){var r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),e.abrupt("return",gA(r.localStore,n).then((function(e){return MP(r,e)})));case 2:case"end":return e.stop()}}),e)}))),KP.apply(this,arguments)}function GP(e,t,n,r){return WP.apply(this,arguments)}function WP(){return WP=fr(cr().mark((function e(t,n,r,i){var a,o;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tx(t),e.next=3,function(e,t){var n=tx(e),r=tx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ux.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(NP(a,n,i||null),AP(a,n),function(e,t){tx(tx(e).mutationQueue).Cn(t)}(a.localStore,n)):Zw();case 11:return e.next=13,MP(a,o);case 13:e.next=16;break;case 15:$w("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),WP.apply(this,arguments)}function HP(e,t){return QP.apply(this,arguments)}function QP(){return QP=fr(cr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rO(r=tx(t)),iO(r),!0!==n||!0===r.pa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$P(r,i.toArray());case 5:return a=e.sent,r.pa=!0,e.next=9,LN(r.remoteStore,!0);case 9:o=Qt(a);try{for(o.s();!(u=o.n()).done;)s=u.value,nN(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.pa){e.next=25;break}return c=[],l=Promise.resolve(),r.Ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return PP(r,t),pA(r.localStore,t,!0)})),rN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,$P(r,c);case 21:return function(e){var t=tx(e);t.Ra.forEach((function(e,n){rN(t.remoteStore,n)})),t.Va.Rr(),t.Ra=new Map,t.Aa=new O_(Ex.comparator)}(r),r.pa=!1,e.next=25,LN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),QP.apply(this,arguments)}function $P(e,t,n){return JP.apply(this,arguments)}function JP(){return JP=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=tx(t),a=[],o=[],u=Qt(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Ea.get(c))||0===f.length){e.next=34;break}return e.next=11,dA(i.localStore,oI(f[0]));case 11:l=e.sent,h=Qt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ta.get(p),e.next=20,zP(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yA(i.localStore,c);case 36:return y=e.sent,e.next=39,dA(i.localStore,y);case 39:return l=e.sent,e.next=42,hP(i,YP(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ia.n_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),JP.apply(this,arguments)}function YP(e){return ZE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function XP(e){return function(e){return tx(tx(e).persistence).Ni()}(tx(e).localStore)}function ZP(e,t,n,r){return eO.apply(this,arguments)}function eO(){return eO=fr(cr().mark((function e(t,n,r,i){var a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=tx(t)).pa){e.next=3;break}return e.abrupt("return",void $w("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,gA(a.localStore,dI(o[0]));case 10:return u=e.sent,s=ES.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,V_.EMPTY_BYTE_STRING),e.next=14,MP(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,pA(a.localStore,n,!0);case 17:return PP(a,n,i),e.abrupt("break",20);case 19:Zw();case 20:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}function tO(e,t,n){return nO.apply(this,arguments)}function nO(){return nO=fr(cr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rO(t)).pa){e.next=45;break}a=Qt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Ea.has(u)){e.next=10;break}return $w("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yA(i.localStore,u);case 12:return s=e.sent,e.next=15,dA(i.localStore,s);case 15:return c=e.sent,e.next=18,hP(i,YP(s),c.targetId,!1,c.resumeToken);case 18:nN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Qt(r),e.prev=30,h=cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Ea.has(t),!e.t0){e.next=5;break}return e.next=5,pA(i.localStore,t,!1).then((function(){rN(i.remoteStore,t),PP(i,t)})).catch(Mx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),nO.apply(this,arguments)}function rO(e){var t=tx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wP.bind(null,t),t.Ia.n_=JN.bind(null,t.eventManager),t.Ia.wa=YN.bind(null,t.eventManager),t}function iO(e){var t=tx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_P.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IP.bind(null,t),t}function aO(e,t,n){var r=tx(e);(function(){var e=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=tx(e),r=zS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(rP(i)),a=new nP(i,t.localStore,n.serializer),e.next=15,n.Sa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.j_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Sa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,MP(t,s.Y_,void 0);case 31:return e.next=33,function(e,t){var n=tx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.J_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Yw("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var oO=function(){function e(){Mt(this,e),this.synchronizeTabs=!1}return Ut(e,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=KA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return aA(this.persistence,new rA,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new WC(QC.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new RA}},{key:"terminate",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uO=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this)).ba=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ut(n,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(zt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ba.initialize(this,t);case 4:return e.next=6,iO(this.ba.syncEngine);case 6:return e.next=8,kN(this.ba.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return aA(this.persistence,new rA,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new xC(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new $x(t,this.persistence);return new Qx(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=tA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uC.withCacheSize(this.cacheSizeBytes):uC.DEFAULT;return new XC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,BA(),qA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new RA}}]),n}(oO),sO=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,r,!1)).ba=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ut(n,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t){var r,i=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(zt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ba.syncEngine,e.t0=this.sharedClientState instanceof OA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:GP.bind(null,r),zs:ZP.bind(null,r),js:tO.bind(null,r),Ni:XP.bind(null,r),Ws:qP.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HP(i.ba.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=BA();if(!OA.v(t))throw new rx(nx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uO),cO=function(){function e(){Mt(this,e)}return Ut(e,[{key:"initialize",value:function(){var e=fr(cr().mark((function e(t,n){var r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bP(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),e.next=12,LN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new GN}},{key:"createDatastore",value:function(e){var t=KA(e.databaseInfo.databaseId),n=function(e){return new zA(e)}(e.databaseInfo);return function(e,t,n,r){return new $A(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new YA(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return bP(t.syncEngine,e,0)}),LA.v()?new LA:new DA)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new cP(e,t,n,r,i,a);return o&&(u.pa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tx(t),$w("RemoteStore","RemoteStore shutting down."),n.p_.add(5),e.next=5,eN(n);case 5:n.w_.shutdown(),n.S_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return fr(cr().mark((function r(){var i;return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var fO=function(){function e(t){Mt(this,e),this.observer=t,this.muted=!1}return Ut(e,[{key:"next",value:function(e){this.observer.next&&this.Da(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Da(this.observer.error,e):Jw("Uncaught Error in snapshot listener:",e.toString())}},{key:"va",value:function(){this.muted=!0}},{key:"Da",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hO=function(){function e(t,n){var r=this;Mt(this,e),this.Ca=t,this.serializer=n,this.metadata=new ix,this.buffer=new Uint8Array,this.Fa=new TextDecoder("utf-8"),this.Ma().then((function(e){e&&e.G_()?r.metadata.resolve(e.W_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.W_))))}),(function(e){return r.metadata.reject(e)}))}return Ut(e,[{key:"close",value:function(){return this.Ca.cancel()}},{key:"getMetadata",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ma());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=fr(cr().mark((function e(){var t,n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.xa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Fa.decode(t),r=Number(n),isNaN(r)&&this.Oa("length string (".concat(n,") is not valid number")),e.next=9,this.Na(r);case 9:return i=e.sent,e.abrupt("return",new eP(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"xa",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Ba()<0)){e.next=7;break}return e.next=3,this.La();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Ba())<0&&this.Oa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Na",value:function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.La();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Oa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Fa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Oa",value:function(e){throw this.Ca.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"La",value:function(){var e=fr(cr().mark((function e(){var t,n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ca.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dO=function(){function e(t){Mt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ut(e,[{key:"lookup",value:function(){var e=fr(cr().mark((function e(t){var n,r=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new rx(nx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=fr(cr().mark((function e(t,n){var r,i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),i=QS(r.serializer)+"/documents",a={documents:n.map((function(e){return KS(r.serializer,e)}))},e.next=5,r.po("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=XS(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ex(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new sS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=fr(cr().mark((function e(){var t,n=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ex.fromPath(t);n.mutations.push(new cS(r,n.precondition(r)))})),e.next=7,function(){var e=fr(cr().mark((function e(t,n){var r,i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tx(t),i=QS(r.serializer)+"/documents",a={writes:n.map((function(e){return ZS(r.serializer,e)}))},e.next=3,r.Ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zw();t=kx.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rx(nx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kx.min())?HI.exists(!1):HI.updateTime(t):HI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kx.min()))throw new rx(nx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return HI.updateTime(t)}return HI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pO=function(){function e(t,n,r,i,a){Mt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.ka=r.maxAttempts,this.Qo=new GA(this.asyncQueue,"transaction_retry")}return Ut(e,[{key:"run",value:function(){this.ka-=1,this.qa()}},{key:"qa",value:function(){var e=this;this.Qo.Mo(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dO(e.datastore),(r=e.Qa(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ka(t)}))}))})).catch((function(t){e.Ka(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Qa",value:function(e){try{var t=this.updateFunction(e);return!Yx(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ka",value:function(e){var t=this;this.ka>0&&this.$a(e)?(this.ka-=1,this.asyncQueue.enqueueAndForget((function(){return t.qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!pS(t)}return!1}}]),e}(),vO=function(){function e(t,n,r,i){var a=this;Mt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gw.UNAUTHENTICATED,this.clientId=px.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $w("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return $w("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ut(e,[{key:"getConfiguration",value:function(){var e=fr(cr().mark((function e(){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new rx(nx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ix;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(fr(cr().mark((function n(){var r;return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=VN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function mO(e,t){return yO.apply(this,arguments)}function yO(){return yO=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),$w("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,oA(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yO.apply(this,arguments)}function gO(e,t){return kO.apply(this,arguments)}function kO(){return kO=fr(cr().mark((function e(t,n){var r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wO(t);case 3:return r=e.sent,$w("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return RN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return RN(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}function bO(e){return"FirebaseError"===e.name?e.code===nx.FAILED_PRECONDITION||e.code===nx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function wO(e){return xO.apply(this,arguments)}function xO(){return xO=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return $w("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,mO(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),bO(n=e.t0)){e.next=13;break}throw n;case 13:return Yw("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,mO(t,new oO);case 16:e.next=21;break;case 18:return $w("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,mO(t,new oO);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),xO.apply(this,arguments)}function _O(e){return EO.apply(this,arguments)}function EO(){return EO=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return $w("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,gO(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return $w("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,gO(t,new cO);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function IO(e){return wO(e).then((function(e){return e.persistence}))}function SO(e){return wO(e).then((function(e){return e.localStore}))}function TO(e){return _O(e).then((function(e){return e.remoteStore}))}function CO(e){return _O(e).then((function(e){return e.syncEngine}))}function AO(e){return _O(e).then((function(e){return e.datastore}))}function NO(e){return PO.apply(this,arguments)}function PO(){return PO=fr(cr().mark((function e(t){var n,r;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_O(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lP.bind(null,n.syncEngine),r.onUnlisten=pP.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function OO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fO({next:function(a){t.enqueueAndForget((function(){return QN(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new rx(nx.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new rx(nx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ZN(eI(n.path),a,{includeMetadataChanges:!0,U_:!0});return WN(e,o)},i.next=3,NO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function RO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fO({next:function(n){t.enqueueAndForget((function(){return QN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new rx(nx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ZN(n,a,{includeMetadataChanges:!0,U_:!0});return WN(e,o)},i.next=3,NO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function DO(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var LO=new Map;function MO(e,t,n){if(!n)throw new rx(nx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function FO(e,t,n,r){if(!0===t&&!0===r)throw new rx(nx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function UO(e){if(!Ex.isDocumentKey(e))throw new rx(nx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jO(e){if(Ex.isDocumentKey(e))throw new rx(nx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function VO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zw()}function zO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rx(nx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=VO(e);throw new rx(nx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function BO(e,t){if(t<=0)throw new rx(nx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var qO=function(){function e(t){var n,r;if(Mt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new rx(nx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rx(nx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DO(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rx(nx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rx(nx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rx(nx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Ut(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),KO=function(){function e(t,n,r,i){Mt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qO({}),this._settingsFrozen=!1}return Ut(e,[{key:"app",get:function(){if(!this._app)throw new rx(nx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new rx(nx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ox;switch(e.type){case"firstParty":return new lx(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rx(nx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=LO.get(e);t&&($w("ComponentProvider","Removing Datastore"),LO.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function GO(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zO(e,KO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Yw("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Gw.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[aa(JSON.stringify({alg:"none",type:"JWT"})),aa(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new rx(nx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Gw(c)}e._authCredentials=new ux(new ax(u,s))}}var WO=function(){function e(t,n,r){Mt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ut(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),HO=function(){function e(t,n,r){Mt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ut(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new QO(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),QO=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this,e,r,eI(i)))._path=i,a.type="collection",a}return Ut(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new HO(this.firestore,null,new Ex(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(WO);function $O(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Fa(e),MO("collection","path",t),e instanceof KO){var a=wx.fromString.apply(wx,[t].concat(r));return jO(a),new QO(e,null,a)}if(!(e instanceof HO||e instanceof QO))throw new rx(nx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wx.fromString.apply(wx,[t].concat(r)));return jO(o),new QO(e.firestore,null,o)}function JO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Fa(e),1===arguments.length&&(t=px.V()),MO("doc","path",t),e instanceof KO){var a=wx.fromString.apply(wx,[t].concat(r));return UO(a),new HO(e,null,new Ex(a))}if(!(e instanceof HO||e instanceof QO))throw new rx(nx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wx.fromString.apply(wx,[t].concat(r)));return UO(o),new HO(e.firestore,e instanceof QO?e.converter:null,new Ex(o))}function YO(e,t){return e=Fa(e),t=Fa(t),(e instanceof HO||e instanceof QO)&&(t instanceof HO||t instanceof QO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XO(e,t){return e=Fa(e),t=Fa(t),e instanceof WO&&t instanceof WO&&e.firestore===t.firestore&&cI(e._query,t._query)&&e.converter===t.converter}var ZO=function(){function e(){var t=this;Mt(this,e),this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new GA(this,"async_queue_retry"),this.Za=function(){var e=qA();e&&$w("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Qo.Oo()};var n=qA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Za)}return Ut(e,[{key:"isShuttingDown",get:function(){return this.Ga}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xa(),this.eu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;var t=qA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Za)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xa(),this.Ga)return new Promise((function(){}));var n=new ix;return this.eu((function(){return t.Ga&&t.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Wa.push(e),t.tu()}))}},{key:"tu",value:function(){var e=fr(cr().mark((function e(){var t=this;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Wa.length){e.next=14;break}return e.prev=1,e.next=4,this.Wa[0]();case 4:this.Wa.shift(),this.Qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qx(e.t0)){e.next=12;break}throw e.t0;case 12:$w("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Wa.length>0&&this.Qo.Mo((function(){return t.tu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){var t=this,n=this.Ua.then((function(){return t.Ha=!0,e().catch((function(e){t.ja=e,t.Ha=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ha=!1,e}))}));return this.Ua=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xa(),this.Ya.indexOf(e)>-1&&(t=0);var i=jN.createAndSchedule(this,e,t,n,(function(e){return r.nu(e)}));return this.za.push(i),i}},{key:"Xa",value:function(){this.ja&&Zw()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ru",value:function(){var e=fr(cr().mark((function e(){var t;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ua,e.next=3,t;case 3:if(t!==this.Ua){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iu",value:function(e){var t,n=Qt(this.za);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"su",value:function(e){var t=this;return this.ru().then((function(){t.za.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Qt(t.za);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ru()}))}},{key:"ou",value:function(e){this.Ya.push(e)}},{key:"nu",value:function(e){var t=this.za.indexOf(e);this.za.splice(t,1)}}]),e}();function eR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Qt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var tR=function(){function e(){Mt(this,e),this._progressObserver={},this._taskCompletionResolver=new ix,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ut(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),nR=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return Mt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ZO,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ut(n,[{key:"_terminate",value:function(){return this._firestoreClient||iR(this),this._firestoreClient.terminate()}}]),n}(KO);function rR(e){return e._firestoreClient||iR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Q_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,DO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new vO(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function aR(e,t,n){var r=new ix;return e.asyncQueue.enqueue(fr(cr().mark((function i(){var a;return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,mO(e,n);case 3:return i.next=5,gO(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),bO(a=i.t0)){i.next=13;break}throw a;case 13:Yw("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function oR(e){return function(e){var t=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=TP,n.next=3,CO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rR(e=zO(e,nR)))}function uR(e){return function(e){return e.asyncQueue.enqueue(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IO(e);case 2:return n=t.sent,t.next=5,TO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=tx(e);return t.p_.delete(0),XA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(rR(e=zO(e,nR)))}function sR(e){return function(e){return e.asyncQueue.enqueue(fr(cr().mark((function t(){var n,r;return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IO(e);case 2:return n=t.sent,t.next=5,TO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tx(t)).p_.add(0),e.next=4,eN(n);case 4:n.S_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(rR(e=zO(e,nR)))}function cR(e,t){var n=rR(e=zO(e,nR)),r=new tR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hO(e,t)}(function(e,t){if(e instanceof Uint8Array)return lO(e,t);if(e instanceof ArrayBuffer)return lO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?gS().encode(e):e),t)}(n,KA(t));e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aO,t.next=3,CO(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function lR(e,t){return function(e,t){return e.asyncQueue.enqueue(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=tx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,SO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(rR(e=zO(e,nR)),t).then((function(t){return t?new WO(e,null,t.query):null}))}function fR(e){if(e._initialized||e._terminated)throw new rx(nx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hR=function(){function e(t){Mt(this,e),this._byteString=t}return Ut(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(V_.fromBase64String(t))}catch(t){throw new rx(nx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(V_.fromUint8Array(t))}}]),e}(),dR=function(){function e(){Mt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new rx(nx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _x(n)}return Ut(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pR=Ut((function e(t){Mt(this,e),this._methodName=t})),vR=function(){function e(t,n){if(Mt(this,e),!isFinite(t)||t<-90||t>90)throw new rx(nx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rx(nx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ut(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vx(this._lat,e._lat)||vx(this._long,e._long)}}]),e}(),mR=/^__.*__$/,yR=function(){function e(t,n,r){Mt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ut(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new nS(e,this.data,this.fieldMask,t,this.fieldTransforms):new tS(e,this.data,t,this.fieldTransforms)}}]),e}(),gR=function(){function e(t,n,r){Mt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ut(e,[{key:"toMutation",value:function(e,t){return new nS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zw()}}var bR=function(){function e(t,n,r,i,a,o){Mt(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this._u(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ut(e,[{key:"path",get:function(){return this.settings.path}},{key:"au",get:function(){return this.settings.au}},{key:"uu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"cu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r.hu(e),r}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r._u(),r}},{key:"Iu",value:function(e){return this.uu({path:void 0,lu:!0})}},{key:"Tu",value:function(e){return VR(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"_u",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.hu(this.path.get(e))}},{key:"hu",value:function(e){if(0===e.length)throw this.Tu("Document fields must not be empty");if(kR(this.au)&&mR.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}]),e}(),wR=function(){function e(t,n,r){Mt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||KA(t)}return Ut(e,[{key:"Au",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bR({au:e,methodName:t,du:n,path:_x.emptyPath(),lu:!1,Eu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function xR(e){var t=e._freezeSettings(),n=KA(e._databaseId);return new wR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _R(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Au(a.merge||a.mergeFields?2:0,t,n,i);MR("Data must be an object, but it was:",o,r);var u,s,c=DR(r,o);if(a.merge)u=new U_(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Qt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=FR(t,l.value,n);if(!o.contains(d))throw new rx(nx.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));zR(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new U_(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new yR(new yE(c),u,s)}var ER=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.au)throw 1===e.au?e.Tu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Tu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pR);function IR(e,t,n){return new bR({au:3,du:t.settings.du,methodName:e._methodName,lu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var SR=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"_toFieldTransform",value:function(e){return new GI(e.path,new FI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pR),TR=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e)).Ru=r,i}return Ut(n,[{key:"_toFieldTransform",value:function(e){var t=IR(this,e,!0),n=this.Ru.map((function(e){return RR(e,t)})),r=new UI(n);return new GI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR),CR=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e)).Ru=r,i}return Ut(n,[{key:"_toFieldTransform",value:function(e){var t=IR(this,e,!0),n=this.Ru.map((function(e){return RR(e,t)})),r=new VI(n);return new GI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR),AR=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e)).Vu=r,i}return Ut(n,[{key:"_toFieldTransform",value:function(e){var t=new BI(e.serializer,OI(e.serializer,this.Vu));return new GI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pR);function NR(e,t,n,r){var i=e.Au(1,t,n);MR("Data must be an object, but it was:",i,r);var a=[],o=yE.empty();N_(r,(function(e,r){var u=jR(t,e,n);r=Fa(r);var s=i.Pu(u);if(r instanceof ER)a.push(u);else{var c=RR(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new U_(a);return new gR(o,u,i.fieldTransforms)}function PR(e,t,n,r,i,a){var o=e.Au(1,t,n),u=[FR(t,r,n)],s=[i];if(a.length%2!=0)throw new rx(nx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(FR(t,a[c])),s.push(a[c+1]);for(var l=[],f=yE.empty(),h=u.length-1;h>=0;--h)if(!zR(l,u[h])){var d=u[h],p=s[h];p=Fa(p);var v=o.Pu(d);if(p instanceof ER)l.push(d);else{var m=RR(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new U_(l);return new gR(f,y,o.fieldTransforms)}function OR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return RR(n,e.Au(r?4:3,t))}function RR(e,t){if(LR(e=Fa(e)))return MR("Unsupported field value:",t,e),DR(e,t);if(e instanceof pR)return function(e,t){if(!kR(t.au))throw t.Tu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Tu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.lu&&4!==t.au)throw t.Tu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Qt(e);try{for(a.s();!(n=a.n()).done;){var o=RR(n.value,t.Iu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Fa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return OI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gx.fromDate(e);return{timestampValue:US(t.serializer,n)}}if(e instanceof gx){var r=new gx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:US(t.serializer,r)}}if(e instanceof vR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hR)return{bytesValue:jS(t.serializer,e._byteString)};if(e instanceof HO){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Tu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:BS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Tu("Unsupported field value: ".concat(VO(e)))}(e,t)}function DR(e,t){var n={};return P_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):N_(e,(function(e,r){var i=RR(r,t.cu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gx||e instanceof vR||e instanceof hR||e instanceof HO||e instanceof pR)}function MR(e,t,n){if(!LR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=VO(n);throw"an object"===r?t.Tu(e+" a custom object"):t.Tu(e+" "+r)}}function FR(e,t,n){if((t=Fa(t))instanceof dR)return t._internalPath;if("string"==typeof t)return jR(e,t);throw VR("Field path arguments must be of type string or ",e,!1,void 0,n)}var UR=new RegExp("[~\\*/\\[\\]]");function jR(e,t,n){if(t.search(UR)>=0)throw VR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Gt(dR,Lt(t.split(".")))._internalPath}catch(O){throw VR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function VR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new rx(nx.INVALID_ARGUMENT,u+e+s)}function zR(e,t){return e.some((function(e){return e.isEqual(t)}))}var BR=function(){function e(t,n,r,i,a){Mt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ut(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new HO(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(KR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qR=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"data",value:function(){return Qc(zt(n.prototype),"data",this).call(this)}}]),n}(BR);function KR(e,t){return"string"==typeof t?jR(e,t):t instanceof dR?t._internalPath:t._delegate._internalPath}function GR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rx(nx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var WR=Ut((function e(){Mt(this,e)})),HR=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n)}(WR);function QR(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof WR&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof JR})).length,n=e.filter((function(e){return e instanceof $R})).length;if(t>1||t>0&&n>0)throw new rx(nx.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Qt(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var $R=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Ut(n,[{key:"_apply",value:function(e){var t=this._parse(e);return sD(e._query,t),new WO(e.firestore,e.converter,uI(e._query,t))}},{key:"_parse",value:function(e){var t=xR(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new rx(nx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){uD(o,a);var s,c=[],l=Qt(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(oD(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=oD(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||uD(o,a),u=OR(n,t,o,"in"===a||"not-in"===a);return SE.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);var JR=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Ut(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:TE.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Qt(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;sD(r,a),r=uI(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new WO(e.firestore,e.converter,uI(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(WR);var YR=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Ut(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new rx(nx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rx(nx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _E(t,n);return function(e,t){if(null===nI(e)){var n=rI(e);null!==n&&cD(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new WO(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new XE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HR);var XR=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Ut(n,[{key:"_apply",value:function(e){return new WO(e.firestore,e.converter,sI(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);var ZR=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ut(n,[{key:"_apply",value:function(e){var t=aD(e,this.type,this._docOrFields,this._inclusive);return new WO(e.firestore,e.converter,function(e,t){return new XE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);function eD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZR._create("startAt",t,!0)}function tD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZR._create("startAfter",t,!1)}var nD=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return Mt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ut(n,[{key:"_apply",value:function(e){var t=aD(e,this.type,this._docOrFields,this._inclusive);return new WO(e.firestore,e.converter,function(e,t){return new XE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HR);function rD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nD._create("endBefore",t,!1)}function iD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nD._create("endAt",t,!0)}function aD(e,t,n,r){if(n[0]=Fa(n[0]),n[0]instanceof BR)return function(e,t,n,r,i){if(!r)throw new rx(nx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Qt(aI(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(aE(t,r.key));else{var c=r.data.field(s.field);if(G_(c))throw new rx(nx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new rx(nx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new bE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new rx(nx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new rx(nx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!iI(e)&&-1!==c.indexOf("/"))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(wx.fromString(c));if(!Ex.isDocumentKey(l))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ex(l);u.push(aE(t,f))}else{var h=OR(n,r,c);u.push(h)}}return new bE(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oD(e,t,n){if("string"==typeof(n=Fa(n))){if(""===n)throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(t)&&-1!==n.indexOf("/"))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(wx.fromString(n));if(!Ex.isDocumentKey(r))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return aE(e,new Ex(r))}if(n instanceof HO)return aE(e,n._key);throw new rx(nx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(VO(n),"."))}function uD(e,t){if(!Array.isArray(e)||0===e.length)throw new rx(nx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function sD(e,t){if(t.isInequality()){var n=rI(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=nI(e);null!==i&&cD(e,r,i)}var a=function(e,t){var n,r=Qt(e);try{for(r.s();!(n=r.n()).done;){var i,a=Qt(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new rx(nx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rx(nx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function cD(e,t,n){if(!n.isEqual(t))throw new rx(nx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lD=function(){function e(){Mt(this,e)}return Ut(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(X_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return q_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(K_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zw()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return N_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new vR(q_(e.latitude),q_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=W_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(H_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=B_(e);return new gx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=wx.fromString(e);ex(hT(n));var r=new $_(n.get(1),n.get(3)),i=new Ex(n.popFirst(5));return r.isEqual(t)||Jw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hD=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).firestore=e,r}return Ut(n,[{key:"convertBytes",value:function(e){return new hR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HO(this.firestore,null,t)}}]),n}(lD);var dD=function(){function e(t,n){Mt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ut(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pD=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return Mt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ut(n,[{key:"exists",value:function(){return Qc(zt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(KR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(BR),vD=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qc(zt(n.prototype),"data",this).call(this,e)}}]),n}(pD),mD=function(){function e(t,n,r,i){Mt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dD(i.hasPendingWrites,i.fromCache),this.query=r}return Ut(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vD(n._firestore,n._userDataWriter,r.key,r,new dD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rx(nx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new vD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function yD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zw()}}function gD(e,t){return e instanceof pD&&t instanceof pD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mD&&t instanceof mD&&e._firestore===t._firestore&&XO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var kD=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).firestore=e,r}return Ut(n,[{key:"convertBytes",value:function(e){return new hR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HO(this.firestore,null,t)}}]),n}(lD);function bD(e){e=zO(e,HO);var t=zO(e.firestore,nR),n=rR(t),r=new kD(t);return function(e,t){var n=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fr(cr().mark((function e(t,n,r){var i,a;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=tx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new rx(nx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=VN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pD(t,r,e._key,n,new dD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wD(e){e=zO(e,WO);var t=zO(e.firestore,nR),n=rR(t),r=new kD(t);return GR(e._query),RO(n,e._query).then((function(n){return new mD(t,r,e,n)}))}function xD(e){e=zO(e,WO);var t=zO(e.firestore,nR),n=rR(t),r=new kD(t);return function(e,t){var n=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fr(cr().mark((function e(t,n,r){var i,a,o,u,s;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mA(t,n,!0);case 3:i=e.sent,a=new oP(n,i.ss),o=a.ia(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=VN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mD(t,r,e,n)}))}function _D(e){e=zO(e,WO);var t=zO(e.firestore,nR),n=rR(t),r=new kD(t);return RO(n,e._query,{source:"server"}).then((function(n){return new mD(t,r,e,n)}))}function ED(e,t,n){e=zO(e,HO);var r=zO(e.firestore,nR),i=fD(e.converter,t,n);return CD(r,[_R(xR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,HI.none())])}function ID(e,t,n){e=zO(e,HO);for(var r=zO(e.firestore,nR),i=xR(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return CD(r,[("string"==typeof(t=Fa(t))||t instanceof dR?PR(i,"updateDoc",e._key,t,n,o):NR(i,"updateDoc",e._key,t)).toMutation(e._key,HI.exists(!0))])}function SD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Fa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||eR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(eR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof HO)l=zO(e.firestore,nR),f=eI(e._key.path),c={next:function(t){n[s]&&n[s](AD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=zO(e,WO);l=zO(p.firestore,nR),f=p._query;var v=new kD(l);c={next:function(e){n[s]&&n[s](new mD(l,v,p,e))},error:n[s+1],complete:n[s+2]},GR(e._query)}return function(e,t,n,r){var i=new fO(r),a=new ZN(t,i,n);return e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WN,t.next=3,NO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.va(),e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QN,t.next=3,NO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rR(l),f,h,c)}function TD(e,t){return function(e,t){var n=new fO(t);return e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){tx(e).x_.add(t),t.next()},t.next=3,NO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.va(),e.asyncQueue.enqueueAndForget(fr(cr().mark((function t(){return cr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){tx(e).x_.delete(t)},t.next=3,NO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rR(e=zO(e,nR)),eR(t)?t:{next:t})}function CD(e,t){return function(e,t){var n=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function r(){return cr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=mP,r.next=3,CO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rR(e),t)}function AD(e,t,n){var r=n.docs.get(t._key),i=new kD(e);return new pD(e,i,t._key,r,new dD(n.hasPendingWrites,n.fromCache),t.converter)}var ND={maxAttempts:5},PD=function(){function e(t,n){Mt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xR(t)}return Ut(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=OD(e,this._firestore),i=fD(r.converter,t,n),a=_R(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,HI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=OD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Fa(t))||t instanceof dR?PR(this._dataReader,"WriteBatch.update",i._key,t,n,o):NR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,HI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=OD(e,this._firestore);return this._mutations=this._mutations.concat(new sS(t._key,HI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new rx(nx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function OD(e,t){if((e=Fa(e)).firestore!==t)throw new rx(nx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var RD=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ut(n,[{key:"get",value:function(e){var t=this,r=OD(e,this._firestore),i=new kD(this._firestore);return Qc(zt(n.prototype),"get",this).call(this,e).then((function(e){return new pD(t._firestore,i,r._key,e._document,new dD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Mt(this,e),this._firestore=t,this._transaction=n,this._dataReader=xR(t)}return Ut(e,[{key:"get",value:function(e){var t=this,n=OD(e,this._firestore),r=new hD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zw();var i=e[0];if(i.isFoundDocument())return new BR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new BR(t._firestore,r,n._key,null,n.converter);throw Zw()}))}},{key:"set",value:function(e,t,n){var r=OD(e,this._firestore),i=fD(r.converter,t,n),a=_R(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=OD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Fa(t))||t instanceof dR?PR(this._dataReader,"Transaction.update",i._key,t,n,o):NR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=OD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function DD(e,t,n){e=zO(e,nR);var r=Object.assign(Object.assign({},ND),n);return function(e){if(e.maxAttempts<1)throw new rx(nx.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ix;return e.asyncQueue.enqueueAndForget(fr(cr().mark((function i(){var a;return cr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,AO(e);case 2:a=i.sent,new pO(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(rR(e),(function(n){return t(new RD(e,n))}),r)}function LD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TR("arrayUnion",t)}function MD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ww=e}(Ro),So(new Ua("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new nR(new sx(e.getProvider("auth-internal")),new hx(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rx(nx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),jo(Kw,"4.0.0",e),jo(Kw,"4.0.0","esm2017")}();function FD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function UD(){if("undefined"===typeof Uint8Array)throw new rx("unimplemented","Uint8Arrays are not available in this environment.")}function jD(){if("undefined"==typeof atob)throw new rx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var VD=function(){function e(t){Mt(this,e),this._delegate=t}return Ut(e,[{key:"toBase64",value:function(){return jD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return UD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return jD(),new e(hR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return UD(),new e(hR.fromUint8Array(t))}}]),e}();function zD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Qt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var BD=function(){function e(){Mt(this,e)}return Ut(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){fR(e=zO(e,nR));var n=rR(e);if(n._uninitializedComponentsProvider)throw new rx(nx.FAILED_PRECONDITION,"SDK cache is already specified.");Yw("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new cO;return aR(n,i,new uO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){fR(e=zO(e,nR));var t=rR(e);if(t._uninitializedComponentsProvider)throw new rx(nx.FAILED_PRECONDITION,"SDK cache is already specified.");Yw("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new cO;return aR(t,r,new sO(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new rx(nx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ix;return e._queue.enqueueAndForgetEvenWhileRestricted(fr(cr().mark((function n(){return cr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=fr(cr().mark((function e(t){var n;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vx.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(tA(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),qD=function(){function e(t,n,r){var i=this;Mt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $_||(this._appCompat=t)}return Ut(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Yw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};GO(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return uR(this._delegate)}},{key:"disableNetwork",value:function(){return sR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&FO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return oR(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return TD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new rx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new rL(this,$O(this._delegate,e))}catch(t){throw $D(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new QD(this,JO(this._delegate,e))}catch(t){throw $D(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new eL(this,function(e,t){if(e=zO(e,KO),MO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rx(nx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WO(e,null,function(e){return new XE(wx.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw $D(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return DD(this._delegate,(function(n){return e(new GD(t,n))}))}},{key:"batch",value:function(){var e=this;return rR(this._delegate),new WD(new PD(this._delegate,(function(t){return CD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return cR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return lR(this._delegate,e).then((function(e){return e?new eL(t,e):null}))}}]),e}(),KD=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return Mt(this,n),(r=t.call(this)).firestore=e,r}return Ut(n,[{key:"convertBytes",value:function(e){return new VD(new hR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return QD.forKey(t,this.firestore,null)}}]),n}(lD);var GD=function(){function e(t,n){Mt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new KD(t)}return Ut(e,[{key:"get",value:function(e){var t=this,n=iL(e);return this._delegate.get(n).then((function(e){return new XD(t._firestore,new pD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=iL(e);return n?(FD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=iL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=iL(e);return this._delegate.delete(t),this}}]),e}(),WD=function(){function e(t){Mt(this,e),this._delegate=t}return Ut(e,[{key:"set",value:function(e,t,n){var r=iL(e);return n?(FD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=iL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=iL(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),HD=function(){function e(t,n,r){Mt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ut(e,[{key:"fromFirestore",value:function(e,t){var n=new vD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ZD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new KD(t),n),i.set(n,a)),a}}]),e}();HD.INSTANCES=new WeakMap;var QD=function(){function e(t,n){Mt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KD(t)}return Ut(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new rL(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new rL(this.firestore,$O(this._delegate,e))}catch(t){throw $D(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Fa(e))instanceof HO&&YO(this._delegate,e)}},{key:"set",value:function(e,t){t=FD("DocumentReference.set",t);try{return t?ED(this._delegate,e,t):ED(this._delegate,e)}catch(n){throw $D(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ID(this._delegate,e):ID.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw $D(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return CD(zO(e.firestore,nR),[new sS(e._key,HI.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=JD(n),a=YD(n,(function(t){return new XD(e.firestore,new pD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return SD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zO(e,HO);var t=zO(e.firestore,nR);return OO(rR(t),e._key,{source:"server"}).then((function(n){return AD(t,e,n)}))}(this._delegate):function(e){e=zO(e,HO);var t=zO(e.firestore,nR);return OO(rR(t),e._key).then((function(n){return AD(t,e,n)}))}(this._delegate),t.then((function(e){return new XD(n.firestore,new pD(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new rx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new HO(n._delegate,r,new Ex(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new HO(n._delegate,r,t))}}]),e}();function $D(e,t,n){return e.message=e.message.replace(t,n),e}function JD(e){var t,n=Qt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!zD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=zD(e[0])?e[0]:zD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var XD=function(){function e(t,n){Mt(this,e),this._firestore=t,this._delegate=n}return Ut(e,[{key:"ref",get:function(){return new QD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gD(this._delegate,e._delegate)}}]),e}(),ZD=function(e){Vt(n,e);var t=Kt(n);function n(){return Mt(this,n),t.apply(this,arguments)}return Ut(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Zw()}(void 0!==t),t}}]),n}(XD),eL=function(){function e(t,n){Mt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KD(t)}return Ut(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QR(this._delegate,function(e,t,n){var r=t,i=KR("where",e);return $R._create(i,r,n)}(t,n,r)))}catch(i){throw $D(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=KR("orderBy",e);return YR._create(n,t)}(t,n)))}catch(r){throw $D(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QR(this._delegate,function(e){return BO("limit",e),XR._create("limit",e,"F")}(t)))}catch(n){throw $D(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QR(this._delegate,function(e){return BO("limitToLast",e),XR._create("limitToLast",e,"L")}(t)))}catch(n){throw $D(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,QR(this._delegate,eD.apply(void 0,arguments)))}catch(t){throw $D(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QR(this._delegate,tD.apply(void 0,arguments)))}catch(t){throw $D(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QR(this._delegate,rD.apply(void 0,arguments)))}catch(t){throw $D(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QR(this._delegate,iD.apply(void 0,arguments)))}catch(t){throw $D(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return XO(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?xD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?_D(this._delegate):wD(this._delegate)).then((function(e){return new nL(t.firestore,new mD(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=JD(n),a=YD(n,(function(t){return new nL(e.firestore,new mD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return SD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),tL=function(){function e(t,n){Mt(this,e),this._firestore=t,this._delegate=n}return Ut(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ZD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),nL=function(){function e(t,n){Mt(this,e),this._firestore=t,this._delegate=n}return Ut(e,[{key:"query",get:function(){return new eL(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ZD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new tL(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ZD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gD(this._delegate,e._delegate)}}]),e}(),rL=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return Mt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ut(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new QD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new QD(this.firestore,void 0===e?JO(this._delegate):JO(this._delegate,e))}catch(t){throw $D(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zO(e.firestore,nR),r=JO(e),i=fD(e.converter,t);return CD(n,[_R(xR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,HI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new QD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return YO(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(HD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(eL);function iL(e){return zO(e,HO)}var aL=function(){function e(){Mt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Gt(dR,n)}return Ut(e,[{key:"isEqual",value:function(e){return(e=Fa(e))instanceof dR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(_x.keyField().canonicalString())}}]),e}(),oL=function(){function e(t){Mt(this,e),this._delegate=t}return Ut(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new SR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ER("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=LD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=MD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new AR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),uL={Firestore:qD,GeoPoint:vR,Timestamp:gx,Blob:VD,Transaction:GD,WriteBatch:WD,DocumentReference:QD,DocumentSnapshot:XD,Query:eL,QueryDocumentSnapshot:ZD,QuerySnapshot:nL,CollectionReference:rL,FieldPath:aL,FieldValue:oL,setLogLevel:function(e){!function(e){Hw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ua("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},uL)))}(e,(function(e,t){return new qD(e,t,new BD)})),e.registerVersion("@firebase/firestore-compat","0.3.13")}(Hc);var sL={apiKey:"AIzaSyCtT4QXq20ulH0q6TCOgYTNyWElJWENxpM",authDomain:"netflix-clone-4fcbd.firebaseapp.com",projectId:"netflix-clone-4fcbd",storageBucket:"netflix-clone-4fcbd.appspot.com",messagingSenderId:"868750968388",appId:"1:868750968388:web:bbc9ad0d15d6307beb9e11",measurementId:"G-DPFV6NR32E"},cL=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lo(),t=To(e=Fa(e),zs);t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=To(e,zs);if(n.isInitialized()){var r=n.getImmediate();if(Ea(t,n.getOptions()))return r;throw $s.create("already-initialized")}var i=n.initialize({options:t})}(e)}(Do(sL)),Hc.initializeApp(sL).firestore()),lL=Hc.auth();var fL=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,ur.jsx)("div",{className:"signupScreen",children:(0,ur.jsxs)("form",{children:[(0,ur.jsx)("h1",{children:"Sign In"}),(0,ur.jsx)("input",{ref:e,placeholder:"Email",type:"email"}),(0,ur.jsx)("input",{ref:n,placeholder:"Password",type:"password"}),(0,ur.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),lL.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){return alert(e.message)}))},children:"Sign In"}),(0,ur.jsxs)("h4",{children:[(0,ur.jsx)("span",{className:"signupScreen__gray",children:"New to Netflix? "}),(0,ur.jsx)("span",{className:"signupScreen__link",onClick:function(t){t.preventDefault(),lL.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign Up Now"})]})]})})};var hL=function(){var e=Rt((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,ur.jsxs)("div",{className:"loginScreen",children:[(0,ur.jsxs)("div",{className:"loginScreen__background",children:[(0,ur.jsx)("img",{className:"loginScreen__logo",src:"https://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png",alt:""}),(0,ur.jsx)("button",{onClick:function(){return r(!0)},className:"loginScreen__button",children:"Sign In"}),(0,ur.jsx)("div",{className:"loginScreen__gradient"})]}),(0,ur.jsx)("div",{className:"loginScreen__body",children:n?(0,ur.jsx)(fL,{}):(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsx)("h1",{children:"Unlimited films,TV programs and more!!"}),(0,ur.jsx)("h2",{children:"Watch anywhere. Cancel anytime."}),(0,ur.jsx)("h3",{children:"Ready to watch? Enter your email to create or restart your membership"}),(0,ur.jsx)("div",{className:"loginScreen__input",children:(0,ur.jsxs)("form",{children:[(0,ur.jsx)("input",{type:"email",placeholder:"Email Address"}),(0,ur.jsx)("button",{onClick:function(){return r(!0)},className:"loginScreen__getStarted",children:"GET STARTED"})]})})]})})]})};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var dL=r.startTransition;function pL(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),an((function(e,t){var n=e.location;return tn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:nn(t)}),null,n)));var s=u.current,c=Rt(t.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1],h=(a||{}).v7_startTransition,d=t.useCallback((function(e){h&&dL?dL((function(){return f(e)})):f(e)}),[f,h]);return t.useLayoutEffect((function(){return s.listen(d)}),[s,d]),t.createElement(rr,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var vL,mL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(vL||(vL={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(mL||(mL={}));var yL="https://js.stripe.com/v3",gL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,kL="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",bL=null,wL=function(e){return null!==bL||(bL=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(kL),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(yL,'"]')),t=0;t<e.length;t++){var n=e[t];if(gL.test(n.src))return n}return null}();r&&e?console.warn(kL):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(yL).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),bL},xL=Promise.resolve().then((function(){return wL(null)})),_L=!1;xL.catch((function(e){_L||console.warn(e)}));var EL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_L=!0;var r=Date.now();return xL.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})}(r,n),r}(e,t,r)}))};var IL=function(){var e=Rt((0,t.useState)([]),2),n=e[0],r=e[1],i=w(Tt),a=Rt((0,t.useState)(null),2),o=a[0],u=a[1];(0,t.useEffect)((function(){cL.collection("customers").doc(i.uid).collection("subscription").get().then((function(e){e.forEach(function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({role:t.data().role,current_period_end:t.data().current_period_end.seconds,current_period_start:t.data().current_period_start.seconds});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[i.uid]),(0,t.useEffect)((function(){cL.collection("products").where("active","==",!0).get().then((function(e){var t={};e.forEach(function(){var e=fr(cr().mark((function e(n){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[n.id]=n.data(),e.next=3,n.ref.collection("prices").get();case 3:e.sent.docs.forEach((function(e){t[n.id].prices={priceId:e.id,priceData:e.data()}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(t)}))}),[]),console.log(n),console.log(o);var s=function(){var e=fr(cr().mark((function e(t){return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cL.collection("customers").doc(i.uid).collection("checkout_sessions").add({price:t,success_url:window.location.origin,cancel_url:window.location.origin});case 2:e.sent.onSnapshot(function(){var e=fr(cr().mark((function e(t){var n,r,i;return cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data(),r=n.error,i=n.sessionId,r&&alert("An error occurred: ".concat(r.message)),!i){e.next=7;break}return e.next=5,EL("pk_test_51M14HYIEDXQ2EVIsooHz9MSGf4QOv6Dp7W9xx3e6SZl1NK51IqCYszxIit9Lr2S4zukXUgspQ9aD3boqpdtIquIz00y1gZmdPL");case 5:e.sent.redirectToCheckout({sessionId:i});case 7:case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ur.jsx)("div",{className:"planScreen",children:Object.entries(n).map((function(e){var t,n=Rt(e,2),r=(n[0],n[1]),i=null===(t=r.name)||void 0===t?void 0:t.toLowerCase().includes(null===o||void 0===o?void 0:o.role);return(0,ur.jsxs)("div",{className:"planScreen__plan",children:[(0,ur.jsxs)("div",{className:"planScreen_info",children:[(0,ur.jsx)("h5",{children:r.name}),(0,ur.jsx)("h6",{children:r.description})]}),(0,ur.jsx)("button",{onClick:function(){return!i&&s(r.prices.priceId)},children:i?"Current Package":"Subscribe"})]})}))})};var SL=function(){var e=w(Tt);return(0,ur.jsxs)("div",{className:"profileScreen",children:[(0,ur.jsx)(sr,{}),(0,ur.jsxs)("div",{className:"profileScreen__body",children:[(0,ur.jsx)("h1",{children:"Edit profile"}),(0,ur.jsxs)("div",{className:"profileScreen__info",children:[(0,ur.jsx)("img",{alt:"",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png?20201013161117"}),(0,ur.jsxs)("div",{className:"profileScreen__details",children:[(0,ur.jsx)("h2",{children:e.email}),(0,ur.jsxs)("div",{className:"profileScreen__plans",children:[(0,ur.jsx)("h3",{children:"Plans"}),(0,ur.jsx)(IL,{}),(0,ur.jsx)("button",{onClick:function(){return lL.signOut()},className:"profileScreen__signOut",children:"Sign out"})]})]})]})]})]})};var TL=function(){var e=w(Tt),n=N();return(0,t.useEffect)((function(){return lL.onAuthStateChanged((function(e){n(e?It({uid:e.uid,email:e.email}):St())}))}),[n]),(0,ur.jsxs)("div",{className:"app",children:[e?(0,ur.jsx)(pL,{children:(0,ur.jsxs)(ir,{children:[(0,ur.jsx)(nr,{path:"/",element:(0,ur.jsx)(ta,{})}),(0,ur.jsx)(nr,{path:"/profile",element:(0,ur.jsx)(SL,{})})]})}):(0,ur.jsx)(hL,{}),(0,ur.jsx)("div",{})]})},CL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},AL=document.getElementById("root");(0,i.s)(AL).render((0,ur.jsx)(t.StrictMode,{children:(0,ur.jsx)(I,{store:Ct,children:(0,ur.jsx)(TL,{})})})),CL()}()}();
//# sourceMappingURL=main.f820efd4.js.map